/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => VideoGeneratorPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  // API 配置
  apiKey: "",
  apiHost: "https://grsai.dakka.com.cn",
  apiHosts: [
    {
      id: "default",
      name: "\u56FD\u5185\u76F4\u8FDE",
      url: "https://grsai.dakka.com.cn",
      enabled: true,
      description: "\u56FD\u5185\u670D\u52A1\u5668\uFF0C\u8BBF\u95EE\u901F\u5EA6\u5FEB"
    },
    {
      id: "overseas",
      name: "\u6D77\u5916\u670D\u52A1\u5668",
      url: "https://api.grsai.com",
      enabled: true,
      description: "\u6D77\u5916\u670D\u52A1\u5668\uFF0C\u7A33\u5B9A\u6027\u597D"
    }
  ],
  selectedApiHost: "default",
  // 视频生成默认参数
  defaultAspectRatio: "16:9",
  defaultDuration: 10,
  defaultSize: "small",
  defaultModel: "sora-2",
  // 高级配置
  useWebhook: false,
  webhookUrl: "",
  pollingInterval: 2e3,
  maxPollingAttempts: 150,
  // UI 配置
  showRibbonIcon: true,
  showStatusBar: true,
  modalWidth: "600px",
  modalHeight: "auto",
  // 视频质量选项
  availableAspectRatios: ["16:9", "9:16", "1:1", "4:3", "3:4"],
  availableDurations: [5, 10, 15, 30, 60],
  availableSizes: ["small", "medium", "large"],
  availableModels: ["sora-2", "sora-1.5", "runway-gen3"],
  // AI模型管理
  modelConfigs: [
    {
      id: "sora-2",
      name: "Sora 2.0",
      value: "sora-2",
      enabled: true,
      description: "OpenAI\u6700\u65B0\u89C6\u9891\u751F\u6210\u6A21\u578B",
      isCustom: false
    },
    {
      id: "sora-1.5",
      name: "Sora 1.5",
      value: "sora-1.5",
      enabled: true,
      description: "OpenAI\u89C6\u9891\u751F\u6210\u6A21\u578B",
      isCustom: false
    },
    {
      id: "runway-gen3",
      name: "Runway Gen-3",
      value: "runway-gen3",
      enabled: true,
      description: "Runway\u516C\u53F8\u89C6\u9891\u751F\u6210\u6A21\u578B",
      isCustom: false
    }
  ]
};
var VideoGeneratorPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView("video-generator-view", (leaf) => new VideoGeneratorView(leaf, this));
    if (this.settings.showRibbonIcon) {
      const ribbonIconEl = this.addRibbonIcon("video", "AI Video Generator", (evt) => {
        this.openVideoGeneratorSidebar();
      });
      ribbonIconEl.addClass("video-generator-ribbon-class");
    }
    if (this.settings.showStatusBar) {
      const statusBarItemEl = this.addStatusBarItem();
      statusBarItemEl.setText("AI Video Generator");
    }
    this.addCommand({
      id: "open-video-generator",
      name: "Generate AI Video",
      callback: () => {
        this.openVideoGeneratorSidebar();
      }
    });
    this.addCommand({
      id: "generate-video-from-selection",
      name: "Generate video from selected text",
      editorCallback: (editor, view) => {
        const selection = editor.getSelection();
        if (selection.trim()) {
          this.openVideoGeneratorSidebar(selection);
        } else {
          new import_obsidian.Notice("\u8BF7\u5148\u9009\u62E9\u8981\u751F\u6210\u89C6\u9891\u7684\u6587\u672C");
        }
      }
    });
    this.registerEvent(
      this.app.workspace.on("editor-menu", (menu, editor, view) => {
        const selection = editor.getSelection();
        if (selection.trim()) {
          menu.addItem((item) => {
            item.setTitle("\u{1F3AC} \u4F7F\u7528Sora\u751F\u6210\u89C6\u9891").setIcon("video").onClick(async () => {
              await this.generateVideoFromSelection(selection, editor);
            });
          });
        }
      })
    );
    this.addSettingTab(new VideoGeneratorSettingTab(this.app, this));
  }
  // 打开视频生成侧边栏
  async openVideoGeneratorSidebar(initialPrompt = "") {
    const existingLeaf = this.app.workspace.getLeavesOfType("video-generator-view")[0];
    if (existingLeaf) {
      this.app.workspace.revealLeaf(existingLeaf);
      const view = existingLeaf.view;
      view.initialPrompt = initialPrompt;
      await view.onOpen();
    } else {
      const leaf = this.app.workspace.getRightLeaf(false);
      if (leaf) {
        await leaf.setViewState({ type: "video-generator-view", active: true });
        const view = leaf.view;
        view.initialPrompt = initialPrompt;
        await view.onOpen();
      }
    }
  }
  // 从选中文本生成视频并下载
  async generateVideoFromSelection(selection, editor) {
    var _a, _b, _c;
    if (!this.settings.apiKey) {
      new import_obsidian.Notice("\u8BF7\u5148\u5728\u8BBE\u7F6E\u4E2D\u914D\u7F6EAPI\u5BC6\u94A5");
      return;
    }
    new import_obsidian.Notice("\u5F00\u59CB\u751F\u6210\u89C6\u9891\uFF0C\u8BF7\u7A0D\u5019...");
    try {
      const request = {
        model: this.settings.defaultModel,
        prompt: selection.trim(),
        aspectRatio: this.settings.defaultAspectRatio,
        duration: this.settings.defaultDuration,
        size: this.settings.defaultSize,
        shutProgress: false
      };
      const response = await this.generateVideo(request);
      console.log("API Response:", response);
      let taskId = null;
      if (response && typeof response === "object") {
        const resp = response;
        if (resp.id) {
          taskId = resp.id;
        } else if (resp.data && resp.data.id) {
          taskId = resp.data.id;
        } else if (resp.task_id) {
          taskId = resp.task_id;
        } else if (resp.data && resp.data.task_id) {
          taskId = resp.data.task_id;
        } else if (resp.data && resp.data.taskId) {
          taskId = resp.data.taskId;
        }
        console.log("Command API Response structure:", {
          hasId: !!resp.id,
          hasData: !!resp.data,
          dataId: (_a = resp.data) == null ? void 0 : _a.id,
          dataTaskId: (_b = resp.data) == null ? void 0 : _b.taskId,
          dataTask_id: (_c = resp.data) == null ? void 0 : _c.task_id,
          fullResponse: resp
        });
      }
      if (taskId) {
        await this.pollAndDownloadVideo(taskId, selection, editor);
      } else {
        console.error("Unexpected API response format:", response);
        const resp = response;
        let errorDetails = "";
        if (resp.data) {
          errorDetails = `
Data\u5185\u5BB9: ${JSON.stringify(resp.data)}`;
        }
        if (resp.msg) {
          errorDetails += `
\u6D88\u606F: ${resp.msg}`;
        }
        if (resp.code !== void 0) {
          errorDetails += `
\u4EE3\u7801: ${resp.code}`;
        }
        throw new Error(`\u672A\u83B7\u53D6\u5230\u4EFB\u52A1ID\u3002API\u54CD\u5E94: ${JSON.stringify(response)}${errorDetails}`);
      }
    } catch (error) {
      console.error("Video generation error:", error);
      const friendlyMessage = this.handleApiError(error);
      new import_obsidian.Notice(`\u751F\u6210\u5931\u8D25: ${friendlyMessage}`);
    }
  }
  // 轮询视频生成结果并下载
  async pollAndDownloadVideo(id, originalText, editor) {
    let pollCount = 0;
    const maxAttempts = this.settings.maxPollingAttempts;
    const pollInterval = setInterval(async () => {
      pollCount++;
      if (pollCount > maxAttempts) {
        clearInterval(pollInterval);
        new import_obsidian.Notice("\u8F6E\u8BE2\u8D85\u65F6\uFF0C\u8BF7\u7A0D\u540E\u624B\u52A8\u68C0\u67E5\u7ED3\u679C");
        return;
      }
      try {
        const result = await this.getVideoResult(id);
        console.log("Video generation result (context menu):", result);
        const progress = result.progress || 0;
        new import_obsidian.Notice(`\u751F\u6210\u8FDB\u5EA6: ${progress}% (${pollCount}/${maxAttempts})`);
        const status = result.status || result.state || result.task_status;
        console.log("Video generation status (context menu):", status, "progress:", progress);
        if (status === "succeeded" || status === "completed" || status === "success" || progress === 100) {
          clearInterval(pollInterval);
          await this.handleVideoSuccess(result, originalText, editor);
          new import_obsidian.Notice("\u89C6\u9891\u751F\u6210\u6210\u529F\uFF01");
        } else if (status === "failed" || status === "error") {
          clearInterval(pollInterval);
          const errorMsg = result.failure_reason || result.error || result.message || "\u672A\u77E5\u9519\u8BEF";
          new import_obsidian.Notice(`\u751F\u6210\u5931\u8D25: ${errorMsg}`);
        }
      } catch (error) {
        console.error("Polling error:", error);
        clearInterval(pollInterval);
        const friendlyMessage = this.handleApiError(error);
        new import_obsidian.Notice(`\u83B7\u53D6\u7ED3\u679C\u5931\u8D25: ${friendlyMessage}`);
      }
    }, this.settings.pollingInterval);
  }
  // 处理视频生成成功
  async handleVideoSuccess(result, originalText, editor) {
    let videoUrl = null;
    if (result.results && result.results.length > 0) {
      videoUrl = result.results[0].url;
    } else if (result.video_url) {
      videoUrl = result.video_url;
    } else if (result.url) {
      videoUrl = result.url;
    } else if (result.data && result.data.url) {
      videoUrl = result.data.url;
    }
    if (videoUrl) {
      const localPath = await this.downloadVideo(videoUrl, originalText);
      const fileName = localPath.split("/").pop() || localPath;
      const videoMarkdown = `

![[${fileName}]]

`;
      editor.replaceSelection(videoMarkdown);
      new import_obsidian.Notice("\u89C6\u9891\u5DF2\u4E0B\u8F7D\u5E76\u63D2\u5165\u5230\u7B14\u8BB0\u4E2D");
    } else {
      console.error("\u672A\u627E\u5230\u89C6\u9891URL\uFF0CAPI\u54CD\u5E94\u7ED3\u6784:", result);
      new import_obsidian.Notice("\u89C6\u9891\u751F\u6210\u6210\u529F\uFF0C\u4F46\u672A\u627E\u5230\u89C6\u9891URL\uFF0C\u8BF7\u68C0\u67E5API\u54CD\u5E94\u7ED3\u6784");
    }
  }
  // 下载视频到本地
  async downloadVideo(videoUrl, originalText) {
    var _a;
    try {
      const activeFile = this.app.workspace.getActiveFile();
      if (!activeFile) {
        throw new Error("\u6CA1\u6709\u627E\u5230\u5F53\u524D\u6D3B\u52A8\u6587\u4EF6");
      }
      const currentDir = ((_a = activeFile.parent) == null ? void 0 : _a.path) || "";
      const fileName = `sora-video-${originalText.substring(0, 20).replace(/[^\w\s]/gi, "").replace(/\s+/g, "-")}-${Date.now()}.mp4`;
      const aivideoFolder = currentDir ? `${currentDir}/aivideo` : "aivideo";
      const folderPath = `${aivideoFolder}/${fileName}`;
      const folderExists = await this.app.vault.adapter.exists(aivideoFolder);
      if (!folderExists) {
        await this.app.vault.createFolder(aivideoFolder);
      }
      const response = await fetch(videoUrl);
      if (!response.ok) {
        throw new Error(`\u4E0B\u8F7D\u5931\u8D25: ${response.status} ${response.statusText}`);
      }
      const arrayBuffer = await response.arrayBuffer();
      await this.app.vault.adapter.writeBinary(folderPath, arrayBuffer);
      new import_obsidian.Notice(`\u89C6\u9891\u5DF2\u4E0B\u8F7D\u5230: ${folderPath}`);
      return folderPath;
    } catch (error) {
      console.error("Download error:", error);
      new import_obsidian.Notice("\u89C6\u9891\u4E0B\u8F7D\u5931\u8D25\uFF0C\u4F46\u94FE\u63A5\u5DF2\u63D2\u5165\u5230\u7B14\u8BB0\u4E2D");
      throw error;
    }
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  // 获取当前选中的API主机
  getCurrentApiHost() {
    const selectedHost = this.settings.apiHosts.find((host) => host.id === this.settings.selectedApiHost);
    if (selectedHost && selectedHost.enabled) {
      return selectedHost.url;
    }
    if (!this.settings.apiHost) {
      throw new Error("API\u4E3B\u673A\u5730\u5740\u672A\u914D\u7F6E");
    }
    return this.settings.apiHost;
  }
  // 处理API错误，提供用户友好的错误信息
  handleApiError(error) {
    const errorMessage = error.message || error.toString();
    if (errorMessage.includes("insufficient credits") || errorMessage.includes("\u4F59\u989D\u4E0D\u8DB3")) {
      return "\u8D26\u6237\u4F59\u989D\u4E0D\u8DB3\uFF0C\u8BF7\u5145\u503C\u540E\u91CD\u8BD5";
    }
    if (errorMessage.includes("API\u5BC6\u94A5") || errorMessage.includes("unauthorized") || errorMessage.includes("401")) {
      return "API\u5BC6\u94A5\u914D\u7F6E\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u8BBE\u7F6E\u4E2D\u7684API\u5BC6\u94A5\u662F\u5426\u6B63\u786E";
    }
    if (errorMessage.includes("API\u4E3B\u673A") || errorMessage.includes("host") || errorMessage.includes("404")) {
      return "API\u4E3B\u673A\u914D\u7F6E\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u8BBE\u7F6E\u4E2D\u7684API\u4E3B\u673A\u5730\u5740";
    }
    if (errorMessage.includes("HTTP error") || errorMessage.includes("network") || errorMessage.includes("timeout")) {
      return "\u7F51\u7EDC\u8FDE\u63A5\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8FDE\u63A5\u6216\u7A0D\u540E\u91CD\u8BD5";
    }
    if (errorMessage.includes("API\u9519\u8BEF")) {
      return errorMessage.replace("API\u9519\u8BEF: ", "").replace("API\u9519\u8BEF (", "").replace(/\): /, ": ");
    }
    return errorMessage;
  }
  // API调用方法
  async generateVideo(request) {
    if (!this.settings.apiKey) {
      throw new Error("API\u5BC6\u94A5\u672A\u914D\u7F6E\uFF0C\u8BF7\u5728\u8BBE\u7F6E\u4E2D\u914D\u7F6EAPI\u5BC6\u94A5");
    }
    const currentHost = this.getCurrentApiHost();
    if (!currentHost) {
      throw new Error("API\u4E3B\u673A\u5730\u5740\u672A\u914D\u7F6E");
    }
    const url = `${currentHost}/v1/video/sora-video`;
    console.log("Making API request to:", url);
    const headers = {
      "Content-Type": "application/json",
      "Authorization": `Bearer ${this.settings.apiKey}`
    };
    if (!request.model) {
      request.model = this.settings.defaultModel;
    }
    if (request.imageUrl && request.imageUrl.trim()) {
      request.url = request.imageUrl.trim();
    }
    if (request.imageUrl === void 0) {
      delete request.imageUrl;
    }
    if (this.settings.useWebhook && this.settings.webhookUrl) {
      request.webHook = this.settings.webhookUrl;
    } else {
      request.webHook = "-1";
    }
    const cleanRequest = Object.fromEntries(
      Object.entries(request).filter(([_, value]) => value !== void 0)
    );
    console.log("Sending request:", cleanRequest);
    try {
      const response = await fetch(url, {
        method: "POST",
        headers,
        body: JSON.stringify(cleanRequest)
      });
      if (!response.ok) {
        const errorText = await response.text();
        throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);
      }
      const data = await response.json();
      console.log("Raw API response:", data);
      if (data && typeof data === "object") {
        if (data.code !== void 0 && data.code !== 0 && data.code !== 200) {
          const errorMsg = data.msg || data.message || "\u672A\u77E5\u9519\u8BEF";
          throw new Error(`API\u9519\u8BEF (${data.code}): ${errorMsg}`);
        }
        if (data.error) {
          throw new Error(`API\u9519\u8BEF: ${data.error}`);
        }
      }
      return data;
    } catch (error) {
      console.error("Video generation error:", error);
      throw error;
    }
  }
  // 获取视频生成结果
  async getVideoResult(id) {
    const currentHost = this.getCurrentApiHost();
    if (!currentHost) {
      throw new Error("API\u4E3B\u673A\u5730\u5740\u672A\u914D\u7F6E");
    }
    const url = `${currentHost}/v1/draw/result`;
    const headers = {
      "Content-Type": "application/json",
      "Authorization": `Bearer ${this.settings.apiKey}`
    };
    try {
      const response = await fetch(url, {
        method: "POST",
        headers,
        body: JSON.stringify({ id })
      });
      if (!response.ok) {
        const errorText = await response.text();
        throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);
      }
      const data = await response.json();
      if (data && typeof data === "object") {
        if (data.code !== void 0 && data.code !== 0 && data.code !== 200) {
          const errorMsg = data.msg || data.message || "\u672A\u77E5\u9519\u8BEF";
          throw new Error(`API\u9519\u8BEF (${data.code}): ${errorMsg}`);
        }
        if (data.error) {
          throw new Error(`API\u9519\u8BEF: ${data.error}`);
        }
      }
      return data.data || data;
    } catch (error) {
      console.error("Get video result error:", error);
      throw error;
    }
  }
};
var VideoGeneratorView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin, initialPrompt = "") {
    super(leaf);
    this.plugin = plugin;
    this.initialPrompt = initialPrompt;
  }
  getViewType() {
    return "video-generator-view";
  }
  getDisplayText() {
    return "AI Video Generator";
  }
  getIcon() {
    return "video";
  }
  async onOpen() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("video-generator-sidebar");
    const headerEl = containerEl.createDiv("video-generator-header");
    headerEl.createEl("h2", { text: "AI Video Generator" });
    if (!this.plugin.settings.apiKey) {
      const errorEl = containerEl.createDiv("video-generator-error");
      errorEl.createEl("p", { text: "\u8BF7\u5148\u5728\u8BBE\u7F6E\u4E2D\u914D\u7F6EAPI\u5BC6\u94A5" });
      const settingsBtn = errorEl.createEl("button", { text: "\u6253\u5F00\u8BBE\u7F6E" });
      settingsBtn.addClass("video-generator-button");
      settingsBtn.onclick = () => {
        this.app.setting.open();
        this.app.setting.openTabById(this.plugin.manifest.id);
      };
      return;
    }
    const promptContainer = containerEl.createDiv("video-generator-prompt-container");
    const promptLabel = promptContainer.createEl("label", { text: "\u89C6\u9891\u63CF\u8FF0 (Prompt):" });
    const promptInput = promptContainer.createEl("textarea", {
      placeholder: "\u63CF\u8FF0\u60A8\u60F3\u8981\u751F\u6210\u7684\u89C6\u9891\u5185\u5BB9...",
      value: this.initialPrompt
    });
    promptInput.setAttr("rows", "3");
    const imageContainer = containerEl.createDiv("video-generator-image-container");
    const imageLabel = imageContainer.createEl("label", { text: "\u53C2\u8003\u56FE\u7247URL (\u53EF\u9009):" });
    const imageInput = imageContainer.createEl("input", {
      type: "text",
      placeholder: "https://example.com/image.jpg"
    });
    const paramsContainer = containerEl.createDiv("video-generator-params-container");
    const modelContainer = paramsContainer.createDiv("video-generator-param");
    const modelLabel = modelContainer.createEl("label", { text: "AI\u6A21\u578B:" });
    const modelSelect = modelContainer.createEl("select");
    const enabledModels = this.plugin.settings.modelConfigs.filter((model) => model.enabled);
    for (const model of enabledModels) {
      const option = modelSelect.createEl("option", { value: model.value, text: model.name });
      if (model.value === this.plugin.settings.defaultModel) {
        option.selected = true;
      }
    }
    const aspectRatioContainer = paramsContainer.createDiv("video-generator-param");
    const aspectRatioLabel = aspectRatioContainer.createEl("label", { text: "\u89C6\u9891\u6BD4\u4F8B:" });
    const aspectRatioSelect = aspectRatioContainer.createEl("select");
    for (const ratio of this.plugin.settings.availableAspectRatios) {
      const option = aspectRatioSelect.createEl("option", {
        value: ratio,
        text: `${ratio} ${this.getAspectRatioDescription(ratio)}`
      });
      if (ratio === this.plugin.settings.defaultAspectRatio) {
        option.selected = true;
      }
    }
    const durationContainer = paramsContainer.createDiv("video-generator-param");
    const durationLabel = durationContainer.createEl("label", { text: "\u89C6\u9891\u65F6\u957F:" });
    const durationSelect = durationContainer.createEl("select");
    for (const duration of this.plugin.settings.availableDurations) {
      const option = durationSelect.createEl("option", {
        value: duration.toString(),
        text: `${duration}\u79D2`
      });
      if (duration === this.plugin.settings.defaultDuration) {
        option.selected = true;
      }
    }
    const sizeContainer = paramsContainer.createDiv("video-generator-param");
    const sizeLabel = sizeContainer.createEl("label", { text: "\u89C6\u9891\u5C3A\u5BF8:" });
    const sizeSelect = sizeContainer.createEl("select");
    for (const size of this.plugin.settings.availableSizes) {
      const option = sizeSelect.createEl("option", {
        value: size,
        text: `${size} ${this.getSizeDescription(size)}`
      });
      if (size === this.plugin.settings.defaultSize) {
        option.selected = true;
      }
    }
    const buttonContainer = containerEl.createDiv("video-generator-button-container");
    const generateButton = buttonContainer.createEl("button", { text: "\u751F\u6210\u89C6\u9891" });
    generateButton.addClass("video-generator-button");
    const progressContainer = containerEl.createDiv("video-generator-progress-container");
    progressContainer.style.display = "none";
    const resultContainer = containerEl.createDiv("video-generator-result-container");
    resultContainer.style.display = "none";
    generateButton.onclick = async () => {
      var _a, _b, _c;
      const prompt = promptInput.value.trim();
      if (!prompt) {
        new import_obsidian.Notice("\u8BF7\u8F93\u5165\u89C6\u9891\u63CF\u8FF0");
        return;
      }
      const imageUrl = imageInput.value.trim();
      const model = modelSelect.value;
      const aspectRatio = aspectRatioSelect.value;
      const duration = parseInt(durationSelect.value);
      const size = sizeSelect.value;
      progressContainer.style.display = "block";
      progressContainer.innerHTML = '<div class="video-generator-progress">\u6B63\u5728\u751F\u6210\u89C6\u9891...</div>';
      resultContainer.style.display = "none";
      generateButton.disabled = true;
      generateButton.textContent = "\u751F\u6210\u4E2D...";
      try {
        const initialResponse = await this.plugin.generateVideo({
          prompt,
          imageUrl: imageUrl || void 0,
          model,
          aspectRatio,
          duration,
          size
        });
        const renderFromResult = (result) => {
          progressContainer.style.display = "none";
          resultContainer.style.display = "block";
          resultContainer.empty();
          let videoUrl = null;
          const possibleFields = [
            "video_url",
            "videoUrl",
            "url",
            "video",
            "output_url",
            "file_url",
            "videoUrl",
            "video_path",
            "download_url",
            "media_url"
          ];
          for (const field of possibleFields) {
            if (result[field] && typeof result[field] === "string" && result[field].startsWith("http")) {
              videoUrl = result[field];
              break;
            }
          }
          if (!videoUrl) {
            const nestedObjects = ["data", "result", "output", "file", "response"];
            for (const obj of nestedObjects) {
              if (result[obj] && typeof result[obj] === "object") {
                for (const field of possibleFields) {
                  if (result[obj][field] && typeof result[obj][field] === "string" && result[obj][field].startsWith("http")) {
                    videoUrl = result[obj][field];
                    break;
                  }
                }
                if (videoUrl)
                  break;
              }
            }
          }
          if (!videoUrl) {
            const arrayFields = ["results", "files", "videos", "data"];
            for (const field of arrayFields) {
              if (Array.isArray(result[field]) && result[field].length > 0) {
                const firstItem = result[field][0];
                if (firstItem && typeof firstItem === "object") {
                  for (const urlField of possibleFields) {
                    if (firstItem[urlField] && typeof firstItem[urlField] === "string" && firstItem[urlField].startsWith("http")) {
                      videoUrl = firstItem[urlField];
                      break;
                    }
                  }
                  if (videoUrl)
                    break;
                }
              }
            }
          }
          ;
          if (!videoUrl || videoUrl === "undefined" || videoUrl.trim() === "") {
            console.error("No valid video URL found in result:", result);
            throw new Error(`\u672A\u627E\u5230\u6709\u6548\u7684\u89C6\u9891URL\u3002\u7ED3\u679C\u5BF9\u8C61: ${JSON.stringify(result)}`);
          }
          const videoEl = resultContainer.createEl("video");
          videoEl.setAttribute("src", videoUrl);
          videoEl.setAttribute("controls", "true");
          const buttonRow = resultContainer.createDiv();
          buttonRow.style.marginTop = "10px";
          const downloadBtn = buttonRow.createEl("button", { text: "\u4E0B\u8F7D\u89C6\u9891" });
          downloadBtn.addClass("video-generator-download-button");
          downloadBtn.onclick = () => {
            const link = document.createElement("a");
            link.href = videoUrl;
            link.download = `video_${Date.now()}.mp4`;
            link.click();
          };
          const insertBtn = buttonRow.createEl("button", { text: "\u63D2\u5165\u5230\u7B14\u8BB0" });
          insertBtn.addClass("video-generator-insert-button");
          insertBtn.onclick = () => {
            let mdView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
            if (!mdView) {
              const mdLeaves = this.app.workspace.getLeavesOfType("markdown");
              if (mdLeaves && mdLeaves.length > 0) {
                mdView = mdLeaves[mdLeaves.length - 1].view;
              }
            }
            if (mdView) {
              const editor = mdView.editor;
              const cursor = editor.getCursor();
              editor.replaceRange(`![Generated Video](${videoUrl})`, cursor);
            } else {
              new import_obsidian.Notice("\u8BF7\u5148\u6253\u5F00\u4E00\u4E2A\u7B14\u8BB0\u6587\u4EF6");
            }
          };
        };
        let taskId = null;
        const resp = initialResponse;
        if (resp == null ? void 0 : resp.id)
          taskId = resp.id;
        else if ((_a = resp == null ? void 0 : resp.data) == null ? void 0 : _a.id)
          taskId = resp.data.id;
        else if (resp == null ? void 0 : resp.task_id)
          taskId = resp.task_id;
        else if ((_b = resp == null ? void 0 : resp.data) == null ? void 0 : _b.task_id)
          taskId = resp.data.task_id;
        else if ((_c = resp == null ? void 0 : resp.data) == null ? void 0 : _c.taskId)
          taskId = resp.data.taskId;
        if (taskId) {
          let pollCount = 0;
          const maxAttempts = this.plugin.settings.maxPollingAttempts;
          const intervalId = setInterval(async () => {
            pollCount++;
            if (pollCount > maxAttempts) {
              clearInterval(intervalId);
              progressContainer.innerHTML = `<div class="video-generator-error">\u8F6E\u8BE2\u8D85\u65F6\uFF0C\u8BF7\u7A0D\u540E\u624B\u52A8\u68C0\u67E5\u7ED3\u679C</div>`;
              generateButton.disabled = false;
              generateButton.textContent = "\u751F\u6210\u89C6\u9891";
              new import_obsidian.Notice("\u8F6E\u8BE2\u8D85\u65F6\uFF0C\u8BF7\u7A0D\u540E\u624B\u52A8\u68C0\u67E5\u7ED3\u679C");
              return;
            }
            try {
              const result = await this.plugin.getVideoResult(taskId);
              const progress = result.progress || 0;
              const progressText = progress > 0 ? `\u751F\u6210\u8FDB\u5EA6: ${progress}%` : "\u6B63\u5728\u751F\u6210\u89C6\u9891...";
              progressContainer.innerHTML = `<div class="video-generator-progress">${progressText} (${pollCount}/${maxAttempts})</div>`;
              const status = result.status || result.state || result.task_status;
              if (status === "succeeded" || status === "completed" || status === "success" || progress === 100) {
                clearInterval(intervalId);
                generateButton.disabled = false;
                generateButton.textContent = "\u751F\u6210\u89C6\u9891";
                new import_obsidian.Notice("\u89C6\u9891\u751F\u6210\u6210\u529F\uFF01");
                renderFromResult(result);
              } else if (status === "failed" || status === "error") {
                clearInterval(intervalId);
                const errorMsg = result.failure_reason || result.error || result.message || "\u672A\u77E5\u9519\u8BEF";
                progressContainer.innerHTML = `<div class="video-generator-error">\u751F\u6210\u5931\u8D25: ${errorMsg}</div>`;
                generateButton.disabled = false;
                generateButton.textContent = "\u751F\u6210\u89C6\u9891";
                new import_obsidian.Notice(`\u751F\u6210\u5931\u8D25: ${errorMsg}`);
              }
            } catch (e) {
              console.error("Get video result error:", e);
            }
          }, 2e3);
        } else {
          renderFromResult(initialResponse);
        }
      } catch (error) {
        console.error("Video generation error:", error);
        progressContainer.style.display = "none";
        resultContainer.style.display = "block";
        resultContainer.empty();
        resultContainer.createEl("div", {
          text: `\u751F\u6210\u5931\u8D25: ${error.message}`,
          cls: "video-generator-error"
        });
        generateButton.disabled = false;
        generateButton.textContent = "\u751F\u6210\u89C6\u9891";
      }
    };
  }
  getAspectRatioDescription(ratio) {
    const descriptions = {
      "16:9": "(\u6A2A\u5C4F)",
      "9:16": "(\u7AD6\u5C4F)",
      "1:1": "(\u6B63\u65B9\u5F62)",
      "4:3": "(\u4F20\u7EDF)",
      "3:4": "(\u4F20\u7EDF\u7AD6\u5C4F)"
    };
    return descriptions[ratio] || ratio;
  }
  getSizeDescription(size) {
    const descriptions = {
      "small": "(\u5C0F\u5C3A\u5BF8)",
      "medium": "(\u4E2D\u5C3A\u5BF8)",
      "large": "(\u5927\u5C3A\u5BF8)",
      "hd": "(\u9AD8\u6E05)",
      "4k": "(4K)"
    };
    return descriptions[size] || size;
  }
  async onClose() {
    const { containerEl } = this;
    containerEl.empty();
  }
};
var VideoGeneratorSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "AI Video Generator \u8BBE\u7F6E" });
    containerEl.createEl("h3", { text: "API \u914D\u7F6E" });
    new import_obsidian.Setting(containerEl).setName("API\u5BC6\u94A5").setDesc("\u8BF7\u8F93\u5165\u60A8\u7684API\u5BC6\u94A5").addText((text) => text.setPlaceholder("\u8F93\u5165API\u5BC6\u94A5").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
      this.plugin.settings.apiKey = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u9009\u62E9API\u4E3B\u673A").setDesc("\u9009\u62E9\u5F53\u524D\u4F7F\u7528\u7684API\u670D\u52A1\u5668").addDropdown((dropdown) => {
      for (const host of this.plugin.settings.apiHosts) {
        if (host.enabled) {
          dropdown.addOption(host.id, `${host.name} (${host.url})`);
        }
      }
      dropdown.setValue(this.plugin.settings.selectedApiHost).onChange(async (value) => {
        this.plugin.settings.selectedApiHost = value;
        await this.plugin.saveSettings();
      });
    });
    containerEl.createEl("h4", { text: "API\u4E3B\u673A\u7BA1\u7406" });
    for (const host of this.plugin.settings.apiHosts) {
      const hostContainer = containerEl.createDiv("api-host-item");
      hostContainer.style.border = "1px solid var(--background-modifier-border)";
      hostContainer.style.padding = "10px";
      hostContainer.style.margin = "5px 0";
      hostContainer.style.borderRadius = "4px";
      const headerDiv = hostContainer.createDiv();
      headerDiv.style.display = "flex";
      headerDiv.style.justifyContent = "space-between";
      headerDiv.style.alignItems = "center";
      headerDiv.style.marginBottom = "5px";
      const nameSpan = headerDiv.createSpan();
      nameSpan.textContent = host.name;
      nameSpan.style.fontWeight = "bold";
      const statusSpan = headerDiv.createSpan();
      statusSpan.textContent = host.enabled ? "\u2705 \u542F\u7528" : "\u274C \u7981\u7528";
      statusSpan.style.color = host.enabled ? "var(--text-accent)" : "var(--text-muted)";
      const urlDiv = hostContainer.createDiv();
      urlDiv.textContent = `URL: ${host.url}`;
      urlDiv.style.fontSize = "0.9em";
      urlDiv.style.color = "var(--text-muted)";
      urlDiv.style.marginBottom = "5px";
      if (host.description) {
        const descDiv = hostContainer.createDiv();
        descDiv.textContent = host.description;
        descDiv.style.fontSize = "0.8em";
        descDiv.style.color = "var(--text-muted)";
        descDiv.style.marginBottom = "5px";
      }
      const buttonDiv = hostContainer.createDiv();
      buttonDiv.style.display = "flex";
      buttonDiv.style.gap = "5px";
      const toggleButton = buttonDiv.createEl("button", { text: host.enabled ? "\u7981\u7528" : "\u542F\u7528" });
      toggleButton.style.fontSize = "0.8em";
      toggleButton.onclick = async () => {
        host.enabled = !host.enabled;
        await this.plugin.saveSettings();
        this.display();
      };
      const testButton = buttonDiv.createEl("button", { text: "\u6D4B\u8BD5\u8FDE\u63A5" });
      testButton.style.fontSize = "0.8em";
      testButton.onclick = async () => {
        await this.testApiHost(host);
      };
      if (host.id !== "default" && host.id !== "overseas") {
        const deleteButton = buttonDiv.createEl("button", { text: "\u5220\u9664" });
        deleteButton.style.fontSize = "0.8em";
        deleteButton.style.color = "var(--text-error)";
        deleteButton.onclick = async () => {
          if (confirm(`\u786E\u5B9A\u8981\u5220\u9664\u4E3B\u673A "${host.name}" \u5417\uFF1F`)) {
            this.plugin.settings.apiHosts = this.plugin.settings.apiHosts.filter((h) => h.id !== host.id);
            if (this.plugin.settings.selectedApiHost === host.id) {
              this.plugin.settings.selectedApiHost = "default";
            }
            await this.plugin.saveSettings();
            this.display();
          }
        };
      }
    }
    const addHostButton = containerEl.createEl("button", { text: "\u2795 \u6DFB\u52A0\u65B0API\u4E3B\u673A" });
    addHostButton.style.marginTop = "10px";
    addHostButton.onclick = () => {
      this.showAddHostModal();
    };
    containerEl.createEl("h3", { text: "\u9ED8\u8BA4\u53C2\u6570" });
    new import_obsidian.Setting(containerEl).setName("\u9ED8\u8BA4AI\u6A21\u578B").setDesc("\u8BBE\u7F6E\u9ED8\u8BA4\u4F7F\u7528\u7684AI\u6A21\u578B").addDropdown((dropdown) => {
      const enabledModels = this.plugin.settings.modelConfigs.filter((model) => model.enabled);
      for (const model of enabledModels) {
        dropdown.addOption(model.value, model.name);
      }
      dropdown.setValue(this.plugin.settings.defaultModel).onChange(async (value) => {
        this.plugin.settings.defaultModel = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("\u9ED8\u8BA4\u89C6\u9891\u6BD4\u4F8B").setDesc("\u8BBE\u7F6E\u9ED8\u8BA4\u7684\u89C6\u9891\u6BD4\u4F8B").addDropdown((dropdown) => {
      for (const ratio of this.plugin.settings.availableAspectRatios) {
        dropdown.addOption(ratio, `${ratio} ${this.getAspectRatioDescription(ratio)}`);
      }
      dropdown.setValue(this.plugin.settings.defaultAspectRatio).onChange(async (value) => {
        this.plugin.settings.defaultAspectRatio = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("\u9ED8\u8BA4\u89C6\u9891\u65F6\u957F").setDesc("\u8BBE\u7F6E\u9ED8\u8BA4\u7684\u89C6\u9891\u65F6\u957F").addDropdown((dropdown) => {
      for (const duration of this.plugin.settings.availableDurations) {
        dropdown.addOption(duration.toString(), `${duration}\u79D2`);
      }
      dropdown.setValue(this.plugin.settings.defaultDuration.toString()).onChange(async (value) => {
        this.plugin.settings.defaultDuration = parseInt(value);
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("\u9ED8\u8BA4\u89C6\u9891\u6E05\u6670\u5EA6").setDesc("\u8BBE\u7F6E\u9ED8\u8BA4\u7684\u89C6\u9891\u6E05\u6670\u5EA6").addDropdown((dropdown) => {
      for (const size of this.plugin.settings.availableSizes) {
        dropdown.addOption(size, `${this.getSizeDescription(size)} (${size})`);
      }
      dropdown.setValue(this.plugin.settings.defaultSize).onChange(async (value) => {
        this.plugin.settings.defaultSize = value;
        await this.plugin.saveSettings();
      });
    });
    containerEl.createEl("h3", { text: "AI\u6A21\u578B\u7BA1\u7406" });
    for (const model of this.plugin.settings.modelConfigs) {
      const modelCard = containerEl.createDiv("model-card");
      modelCard.style.border = "1px solid var(--background-modifier-border)";
      modelCard.style.borderRadius = "6px";
      modelCard.style.padding = "12px";
      modelCard.style.marginBottom = "8px";
      modelCard.style.backgroundColor = "var(--background-secondary)";
      const modelInfo = modelCard.createDiv("model-info");
      modelInfo.style.display = "flex";
      modelInfo.style.justifyContent = "space-between";
      modelInfo.style.alignItems = "center";
      const modelDetails = modelInfo.createDiv("model-details");
      modelDetails.style.flex = "1";
      const modelName = modelDetails.createEl("div", { text: model.name });
      modelName.style.fontWeight = "bold";
      modelName.style.fontSize = "0.9em";
      const modelValue = modelDetails.createEl("div", { text: `\u503C: ${model.value}` });
      modelValue.style.fontSize = "0.8em";
      modelValue.style.color = "var(--text-muted)";
      if (model.description) {
        const modelDesc = modelDetails.createEl("div", { text: model.description });
        modelDesc.style.fontSize = "0.8em";
        modelDesc.style.color = "var(--text-muted)";
        modelDesc.style.marginTop = "2px";
      }
      const buttonDiv = modelInfo.createDiv("model-actions");
      buttonDiv.style.display = "flex";
      buttonDiv.style.gap = "8px";
      const toggleButton = buttonDiv.createEl("button", {
        text: model.enabled ? "\u7981\u7528" : "\u542F\u7528"
      });
      toggleButton.style.fontSize = "0.8em";
      toggleButton.style.color = model.enabled ? "var(--text-error)" : "var(--text-accent)";
      toggleButton.onclick = async () => {
        model.enabled = !model.enabled;
        await this.plugin.saveSettings();
        this.display();
      };
      if (model.isCustom) {
        const editButton = buttonDiv.createEl("button", { text: "\u7F16\u8F91" });
        editButton.style.fontSize = "0.8em";
        editButton.onclick = () => {
          this.showEditModelModal(model);
        };
        const deleteButton = buttonDiv.createEl("button", { text: "\u5220\u9664" });
        deleteButton.style.fontSize = "0.8em";
        deleteButton.style.color = "var(--text-error)";
        deleteButton.onclick = async () => {
          if (confirm(`\u786E\u5B9A\u8981\u5220\u9664\u6A21\u578B "${model.name}" \u5417\uFF1F`)) {
            this.plugin.settings.modelConfigs = this.plugin.settings.modelConfigs.filter((m) => m.id !== model.id);
            if (this.plugin.settings.defaultModel === model.value) {
              const firstEnabled = this.plugin.settings.modelConfigs.find((m) => m.enabled);
              if (firstEnabled) {
                this.plugin.settings.defaultModel = firstEnabled.value;
              }
            }
            await this.plugin.saveSettings();
            this.display();
          }
        };
      }
    }
    const addModelButton = containerEl.createEl("button", { text: "\u2795 \u6DFB\u52A0\u65B0AI\u6A21\u578B" });
    addModelButton.style.marginTop = "10px";
    addModelButton.onclick = () => {
      this.showAddModelModal();
    };
    containerEl.createEl("h3", { text: "\u9AD8\u7EA7\u914D\u7F6E" });
    new import_obsidian.Setting(containerEl).setName("\u4F7F\u7528Webhook\u56DE\u8C03").setDesc("\u542F\u7528\u540E\u4F7F\u7528webhook\u63A5\u6536\u751F\u6210\u7ED3\u679C\uFF0C\u5426\u5219\u4F7F\u7528\u8F6E\u8BE2\u65B9\u5F0F").addToggle((toggle) => toggle.setValue(this.plugin.settings.useWebhook).onChange(async (value) => {
      this.plugin.settings.useWebhook = value;
      await this.plugin.saveSettings();
      this.display();
    }));
    if (this.plugin.settings.useWebhook) {
      new import_obsidian.Setting(containerEl).setName("Webhook URL").setDesc("\u63A5\u6536\u751F\u6210\u7ED3\u679C\u7684\u56DE\u8C03\u5730\u5740").addText((text) => text.setPlaceholder("https://your-webhook-url.com/callback").setValue(this.plugin.settings.webhookUrl).onChange(async (value) => {
        this.plugin.settings.webhookUrl = value;
        await this.plugin.saveSettings();
      }));
    }
    new import_obsidian.Setting(containerEl).setName("\u8F6E\u8BE2\u95F4\u9694 (\u6BEB\u79D2)").setDesc("\u8BBE\u7F6E\u8F6E\u8BE2\u751F\u6210\u7ED3\u679C\u7684\u95F4\u9694\u65F6\u95F4").addText((text) => text.setPlaceholder("2000").setValue(this.plugin.settings.pollingInterval.toString()).onChange(async (value) => {
      const interval = parseInt(value) || 2e3;
      this.plugin.settings.pollingInterval = Math.max(1e3, interval);
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u6700\u5927\u8F6E\u8BE2\u6B21\u6570").setDesc("\u8BBE\u7F6E\u8F6E\u8BE2\u7684\u6700\u5927\u5C1D\u8BD5\u6B21\u6570").addText((text) => text.setPlaceholder("150").setValue(this.plugin.settings.maxPollingAttempts.toString()).onChange(async (value) => {
      const attempts = parseInt(value) || 150;
      this.plugin.settings.maxPollingAttempts = Math.max(10, attempts);
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "\u754C\u9762\u914D\u7F6E" });
    new import_obsidian.Setting(containerEl).setName("\u663E\u793A\u529F\u80FD\u533A\u56FE\u6807").setDesc("\u5728\u5DE6\u4FA7\u529F\u80FD\u533A\u663E\u793A\u89C6\u9891\u751F\u6210\u56FE\u6807").addToggle((toggle) => toggle.setValue(this.plugin.settings.showRibbonIcon).onChange(async (value) => {
      this.plugin.settings.showRibbonIcon = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u663E\u793A\u72B6\u6001\u680F").setDesc("\u5728\u72B6\u6001\u680F\u663E\u793A\u63D2\u4EF6\u4FE1\u606F").addToggle((toggle) => toggle.setValue(this.plugin.settings.showStatusBar).onChange(async (value) => {
      this.plugin.settings.showStatusBar = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u6A21\u6001\u6846\u5BBD\u5EA6").setDesc("\u8BBE\u7F6E\u751F\u6210\u89C6\u9891\u5BF9\u8BDD\u6846\u7684\u5BBD\u5EA6").addText((text) => text.setPlaceholder("600px").setValue(this.plugin.settings.modalWidth).onChange(async (value) => {
      this.plugin.settings.modalWidth = value || "600px";
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u6A21\u6001\u6846\u9AD8\u5EA6").setDesc("\u8BBE\u7F6E\u751F\u6210\u89C6\u9891\u5BF9\u8BDD\u6846\u7684\u9AD8\u5EA6").addText((text) => text.setPlaceholder("auto").setValue(this.plugin.settings.modalHeight).onChange(async (value) => {
      this.plugin.settings.modalHeight = value || "auto";
      await this.plugin.saveSettings();
    }));
  }
  // 获取比例描述
  getAspectRatioDescription(ratio) {
    const descriptions = {
      "16:9": "(\u6A2A\u5C4F)",
      "9:16": "(\u7AD6\u5C4F)",
      "1:1": "(\u6B63\u65B9\u5F62)",
      "4:3": "(\u4F20\u7EDF)",
      "3:4": "(\u7AD6\u5C4F\u4F20\u7EDF)"
    };
    return descriptions[ratio] || "";
  }
  // 获取尺寸描述
  getSizeDescription(size) {
    const descriptions = {
      "small": "\u6807\u51C6",
      "medium": "\u4E2D\u7B49",
      "large": "\u9AD8\u6E05"
    };
    return descriptions[size] || size;
  }
  // 测试API主机连接
  async testApiHost(host) {
    if (!this.plugin.settings.apiKey) {
      new import_obsidian.Notice("\u8BF7\u5148\u914D\u7F6EAPI\u5BC6\u94A5");
      return;
    }
    try {
      new import_obsidian.Notice(`\u6B63\u5728\u6D4B\u8BD5\u8FDE\u63A5 ${host.name}...`);
      const testUrl = `${host.url}/v1/video/sora-video`;
      const headers = {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${this.plugin.settings.apiKey}`
      };
      const response = await fetch(testUrl, {
        method: "POST",
        headers,
        body: JSON.stringify({
          model: "sora-2",
          prompt: "test",
          aspect_ratio: "16:9",
          duration: 5,
          size: "small",
          webHook: "-1"
        })
      });
      if (response.ok) {
        new import_obsidian.Notice(`\u2705 ${host.name} \u8FDE\u63A5\u6210\u529F\uFF01`);
      } else {
        const errorText = await response.text();
        new import_obsidian.Notice(`\u274C ${host.name} \u8FDE\u63A5\u5931\u8D25: ${response.status} - ${errorText}`);
      }
    } catch (error) {
      new import_obsidian.Notice(`\u274C ${host.name} \u8FDE\u63A5\u5931\u8D25: ${error.message}`);
    }
  }
  // 显示添加新主机的模态框
  showAddHostModal() {
    const modal = new AddApiHostModal(this.app, this.plugin, (newHost) => {
      this.plugin.settings.apiHosts.push(newHost);
      this.plugin.saveSettings();
      this.display();
    });
    modal.open();
  }
  // 显示添加模型模态框
  showAddModelModal() {
    const modal = new AddModelModal(this.app, this.plugin, (newModel) => {
      this.plugin.settings.modelConfigs.push(newModel);
      this.plugin.saveSettings();
      this.display();
    });
    modal.open();
  }
  // 显示编辑模型模态框
  showEditModelModal(model) {
    const modal = new EditModelModal(this.app, this.plugin, model, (updatedModel) => {
      const index = this.plugin.settings.modelConfigs.findIndex((m) => m.id === model.id);
      if (index !== -1) {
        this.plugin.settings.modelConfigs[index] = updatedModel;
        this.plugin.saveSettings();
        this.display();
      }
    });
    modal.open();
  }
};
var AddApiHostModal = class extends import_obsidian.Modal {
  constructor(app, plugin, onSubmit) {
    super(app);
    this.plugin = plugin;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "\u6DFB\u52A0\u65B0API\u4E3B\u673A" });
    const nameDiv = contentEl.createDiv();
    nameDiv.createEl("label", { text: "\u4E3B\u673A\u540D\u79F0" });
    const nameInput = nameDiv.createEl("input", { type: "text", placeholder: "\u4F8B\u5982\uFF1A\u5907\u7528\u670D\u52A1\u5668" });
    nameInput.style.width = "100%";
    nameInput.style.marginBottom = "10px";
    const urlDiv = contentEl.createDiv();
    urlDiv.createEl("label", { text: "\u4E3B\u673AURL" });
    const urlInput = urlDiv.createEl("input", { type: "text", placeholder: "https://api.example.com" });
    urlInput.style.width = "100%";
    urlInput.style.marginBottom = "10px";
    const descDiv = contentEl.createDiv();
    descDiv.createEl("label", { text: "\u63CF\u8FF0\uFF08\u53EF\u9009\uFF09" });
    const descInput = descDiv.createEl("input", { type: "text", placeholder: "\u4F8B\u5982\uFF1A\u5907\u7528\u670D\u52A1\u5668\uFF0C\u7A33\u5B9A\u6027\u597D" });
    descInput.style.width = "100%";
    descInput.style.marginBottom = "20px";
    const buttonDiv = contentEl.createDiv();
    buttonDiv.style.display = "flex";
    buttonDiv.style.gap = "10px";
    buttonDiv.style.justifyContent = "flex-end";
    const cancelButton = buttonDiv.createEl("button", { text: "\u53D6\u6D88" });
    cancelButton.onclick = () => this.close();
    const addButton = buttonDiv.createEl("button", { text: "\u6DFB\u52A0" });
    addButton.style.backgroundColor = "var(--interactive-accent)";
    addButton.style.color = "var(--text-on-accent)";
    addButton.onclick = () => {
      const name = nameInput.value.trim();
      const url = urlInput.value.trim();
      const description = descInput.value.trim();
      if (!name || !url) {
        new import_obsidian.Notice("\u8BF7\u586B\u5199\u4E3B\u673A\u540D\u79F0\u548CURL");
        return;
      }
      try {
        new URL(url);
      } catch (e) {
        new import_obsidian.Notice("\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u683C\u5F0F");
        return;
      }
      if (this.plugin.settings.apiHosts.some((host) => host.url === url)) {
        new import_obsidian.Notice("\u8BE5URL\u5DF2\u5B58\u5728");
        return;
      }
      const newHost = {
        id: `custom_${Date.now()}`,
        name,
        url,
        enabled: true,
        description: description || void 0
      };
      this.onSubmit(newHost);
      this.close();
      new import_obsidian.Notice(`\u5DF2\u6DFB\u52A0\u4E3B\u673A "${name}"`);
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var AddModelModal = class extends import_obsidian.Modal {
  constructor(app, plugin, onSubmit) {
    super(app);
    this.plugin = plugin;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "\u6DFB\u52A0\u65B0AI\u6A21\u578B" });
    const nameDiv = contentEl.createDiv();
    nameDiv.createEl("label", { text: "\u6A21\u578B\u540D\u79F0" });
    const nameInput = nameDiv.createEl("input", { type: "text", placeholder: "\u4F8B\u5982\uFF1AGPT-4 Video" });
    nameInput.style.width = "100%";
    nameInput.style.marginBottom = "10px";
    const valueDiv = contentEl.createDiv();
    valueDiv.createEl("label", { text: "\u6A21\u578B\u503C\uFF08API\u53C2\u6570\uFF09" });
    const valueInput = valueDiv.createEl("input", { type: "text", placeholder: "\u4F8B\u5982\uFF1Agpt-4-video" });
    valueInput.style.width = "100%";
    valueInput.style.marginBottom = "10px";
    const descDiv = contentEl.createDiv();
    descDiv.createEl("label", { text: "\u63CF\u8FF0\uFF08\u53EF\u9009\uFF09" });
    const descInput = descDiv.createEl("input", { type: "text", placeholder: "\u4F8B\u5982\uFF1AOpenAI\u6700\u65B0\u89C6\u9891\u751F\u6210\u6A21\u578B" });
    descInput.style.width = "100%";
    descInput.style.marginBottom = "20px";
    const buttonDiv = contentEl.createDiv();
    buttonDiv.style.display = "flex";
    buttonDiv.style.gap = "10px";
    buttonDiv.style.justifyContent = "flex-end";
    const cancelButton = buttonDiv.createEl("button", { text: "\u53D6\u6D88" });
    cancelButton.onclick = () => this.close();
    const addButton = buttonDiv.createEl("button", { text: "\u6DFB\u52A0" });
    addButton.style.backgroundColor = "var(--interactive-accent)";
    addButton.style.color = "var(--text-on-accent)";
    addButton.onclick = () => {
      const name = nameInput.value.trim();
      const value = valueInput.value.trim();
      const description = descInput.value.trim();
      if (!name || !value) {
        new import_obsidian.Notice("\u8BF7\u586B\u5199\u6A21\u578B\u540D\u79F0\u548C\u503C");
        return;
      }
      if (this.plugin.settings.modelConfigs.some((model) => model.value === value)) {
        new import_obsidian.Notice("\u8BE5\u6A21\u578B\u503C\u5DF2\u5B58\u5728");
        return;
      }
      const newModel = {
        id: `custom_${Date.now()}`,
        name,
        value,
        enabled: true,
        description: description || void 0,
        isCustom: true
      };
      this.onSubmit(newModel);
      this.close();
      new import_obsidian.Notice(`\u5DF2\u6DFB\u52A0\u6A21\u578B "${name}"`);
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var EditModelModal = class extends import_obsidian.Modal {
  constructor(app, plugin, model, onSubmit) {
    super(app);
    this.plugin = plugin;
    this.model = model;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "\u7F16\u8F91AI\u6A21\u578B" });
    const nameDiv = contentEl.createDiv();
    nameDiv.createEl("label", { text: "\u6A21\u578B\u540D\u79F0" });
    const nameInput = nameDiv.createEl("input", { type: "text", value: this.model.name });
    nameInput.style.width = "100%";
    nameInput.style.marginBottom = "10px";
    const valueDiv = contentEl.createDiv();
    valueDiv.createEl("label", { text: "\u6A21\u578B\u503C\uFF08API\u53C2\u6570\uFF09" });
    const valueInput = valueDiv.createEl("input", { type: "text", value: this.model.value });
    valueInput.style.width = "100%";
    valueInput.style.marginBottom = "10px";
    const descDiv = contentEl.createDiv();
    descDiv.createEl("label", { text: "\u63CF\u8FF0\uFF08\u53EF\u9009\uFF09" });
    const descInput = descDiv.createEl("input", { type: "text", value: this.model.description || "" });
    descInput.style.width = "100%";
    descInput.style.marginBottom = "20px";
    const buttonDiv = contentEl.createDiv();
    buttonDiv.style.display = "flex";
    buttonDiv.style.gap = "10px";
    buttonDiv.style.justifyContent = "flex-end";
    const cancelButton = buttonDiv.createEl("button", { text: "\u53D6\u6D88" });
    cancelButton.onclick = () => this.close();
    const saveButton = buttonDiv.createEl("button", { text: "\u4FDD\u5B58" });
    saveButton.style.backgroundColor = "var(--interactive-accent)";
    saveButton.style.color = "var(--text-on-accent)";
    saveButton.onclick = () => {
      const name = nameInput.value.trim();
      const value = valueInput.value.trim();
      const description = descInput.value.trim();
      if (!name || !value) {
        new import_obsidian.Notice("\u8BF7\u586B\u5199\u6A21\u578B\u540D\u79F0\u548C\u503C");
        return;
      }
      if (this.plugin.settings.modelConfigs.some((model) => model.value === value && model.id !== this.model.id)) {
        new import_obsidian.Notice("\u8BE5\u6A21\u578B\u503C\u5DF2\u5B58\u5728");
        return;
      }
      const updatedModel = {
        ...this.model,
        name,
        value,
        description: description || void 0
      };
      this.onSubmit(updatedModel);
      this.close();
      new import_obsidian.Notice(`\u5DF2\u66F4\u65B0\u6A21\u578B "${name}"`);
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBURmlsZSwgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XG5cbi8vIEFQSVx1NEUzQlx1NjczQVx1OTE0RFx1N0Y2RVx1NjNBNVx1NTNFM1xuaW50ZXJmYWNlIEFwaUhvc3RDb25maWcge1xuXHRpZDogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmc7XG5cdHVybDogc3RyaW5nO1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHRkZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuLy8gQUlcdTZBMjFcdTU3OEJcdTkxNERcdTdGNkVcdTYzQTVcdTUzRTNcbmludGVyZmFjZSBNb2RlbENvbmZpZyB7XG5cdGlkOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0dmFsdWU6IHN0cmluZztcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0ZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cdGlzQ3VzdG9tOiBib29sZWFuO1xufVxuXG4vLyBcdTYzRDJcdTRFRjZcdThCQkVcdTdGNkVcdTYzQTVcdTUzRTNcbmludGVyZmFjZSBWaWRlb0dlbmVyYXRvclNldHRpbmdzIHtcblx0Ly8gQVBJIFx1OTE0RFx1N0Y2RVxuXHRhcGlLZXk6IHN0cmluZztcblx0YXBpSG9zdDogc3RyaW5nO1xuXHRhcGlIb3N0czogQXBpSG9zdENvbmZpZ1tdO1xuXHRzZWxlY3RlZEFwaUhvc3Q6IHN0cmluZztcblx0XG5cdC8vIFx1ODlDNlx1OTg5MVx1NzUxRlx1NjIxMFx1OUVEOFx1OEJBNFx1NTNDMlx1NjU3MFxuXHRkZWZhdWx0QXNwZWN0UmF0aW86IHN0cmluZztcblx0ZGVmYXVsdER1cmF0aW9uOiBudW1iZXI7XG5cdGRlZmF1bHRTaXplOiBzdHJpbmc7XG5cdGRlZmF1bHRNb2RlbDogc3RyaW5nO1xuXHRcblx0Ly8gXHU5QUQ4XHU3RUE3XHU5MTREXHU3RjZFXG5cdHVzZVdlYmhvb2s6IGJvb2xlYW47XG5cdHdlYmhvb2tVcmw6IHN0cmluZztcblx0cG9sbGluZ0ludGVydmFsOiBudW1iZXI7XG5cdG1heFBvbGxpbmdBdHRlbXB0czogbnVtYmVyO1xuXHRcblx0Ly8gVUkgXHU5MTREXHU3RjZFXG5cdHNob3dSaWJib25JY29uOiBib29sZWFuO1xuXHRzaG93U3RhdHVzQmFyOiBib29sZWFuO1xuXHRtb2RhbFdpZHRoOiBzdHJpbmc7XG5cdG1vZGFsSGVpZ2h0OiBzdHJpbmc7XG5cdFxuXHQvLyBcdTg5QzZcdTk4OTFcdThEMjhcdTkxQ0ZcdTkwMDlcdTk4Nzlcblx0YXZhaWxhYmxlQXNwZWN0UmF0aW9zOiBzdHJpbmdbXTtcblx0YXZhaWxhYmxlRHVyYXRpb25zOiBudW1iZXJbXTtcblx0YXZhaWxhYmxlU2l6ZXM6IHN0cmluZ1tdO1xuXHRhdmFpbGFibGVNb2RlbHM6IHN0cmluZ1tdO1xuXHRcblx0Ly8gQUlcdTZBMjFcdTU3OEJcdTdCQTFcdTc0MDZcblx0bW9kZWxDb25maWdzOiBNb2RlbENvbmZpZ1tdO1xufVxuXG4vLyBcdTlFRDhcdThCQTRcdThCQkVcdTdGNkVcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFZpZGVvR2VuZXJhdG9yU2V0dGluZ3MgPSB7XG5cdC8vIEFQSSBcdTkxNERcdTdGNkVcblx0YXBpS2V5OiAnJyxcblx0YXBpSG9zdDogJ2h0dHBzOi8vZ3JzYWkuZGFra2EuY29tLmNuJyxcblx0YXBpSG9zdHM6IFtcblx0XHR7XG5cdFx0XHRpZDogJ2RlZmF1bHQnLFxuXHRcdFx0bmFtZTogJ1x1NTZGRFx1NTE4NVx1NzZGNFx1OEZERScsXG5cdFx0XHR1cmw6ICdodHRwczovL2dyc2FpLmRha2thLmNvbS5jbicsXG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0ZGVzY3JpcHRpb246ICdcdTU2RkRcdTUxODVcdTY3MERcdTUyQTFcdTU2NjhcdUZGMENcdThCQkZcdTk1RUVcdTkwMUZcdTVFQTZcdTVGRUInXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpZDogJ292ZXJzZWFzJyxcblx0XHRcdG5hbWU6ICdcdTZENzdcdTU5MTZcdTY3MERcdTUyQTFcdTU2NjgnLFxuXHRcdFx0dXJsOiAnaHR0cHM6Ly9hcGkuZ3JzYWkuY29tJyxcblx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1x1NkQ3N1x1NTkxNlx1NjcwRFx1NTJBMVx1NTY2OFx1RkYwQ1x1N0EzM1x1NUI5QVx1NjAyN1x1NTk3RCdcblx0XHR9XG5cdF0sXG5cdHNlbGVjdGVkQXBpSG9zdDogJ2RlZmF1bHQnLFxuXHRcblx0Ly8gXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU5RUQ4XHU4QkE0XHU1M0MyXHU2NTcwXG5cdGRlZmF1bHRBc3BlY3RSYXRpbzogJzE2OjknLFxuXHRkZWZhdWx0RHVyYXRpb246IDEwLFxuXHRkZWZhdWx0U2l6ZTogJ3NtYWxsJyxcblx0ZGVmYXVsdE1vZGVsOiAnc29yYS0yJyxcblx0XG5cdC8vIFx1OUFEOFx1N0VBN1x1OTE0RFx1N0Y2RVxuXHR1c2VXZWJob29rOiBmYWxzZSxcblx0d2ViaG9va1VybDogJycsXG5cdHBvbGxpbmdJbnRlcnZhbDogMjAwMCxcblx0bWF4UG9sbGluZ0F0dGVtcHRzOiAxNTAsXG5cdFxuXHQvLyBVSSBcdTkxNERcdTdGNkVcblx0c2hvd1JpYmJvbkljb246IHRydWUsXG5cdHNob3dTdGF0dXNCYXI6IHRydWUsXG5cdG1vZGFsV2lkdGg6ICc2MDBweCcsXG5cdG1vZGFsSGVpZ2h0OiAnYXV0bycsXG5cdFxuXHQvLyBcdTg5QzZcdTk4OTFcdThEMjhcdTkxQ0ZcdTkwMDlcdTk4Nzlcblx0YXZhaWxhYmxlQXNwZWN0UmF0aW9zOiBbJzE2OjknLCAnOToxNicsICcxOjEnLCAnNDozJywgJzM6NCddLFxuXHRhdmFpbGFibGVEdXJhdGlvbnM6IFs1LCAxMCwgMTUsIDMwLCA2MF0sXG5cdGF2YWlsYWJsZVNpemVzOiBbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZSddLFxuXHRhdmFpbGFibGVNb2RlbHM6IFsnc29yYS0yJywgJ3NvcmEtMS41JywgJ3J1bndheS1nZW4zJ10sXG5cdFxuXHQvLyBBSVx1NkEyMVx1NTc4Qlx1N0JBMVx1NzQwNlxuXHRtb2RlbENvbmZpZ3M6IFtcblx0XHR7XG5cdFx0XHRpZDogJ3NvcmEtMicsXG5cdFx0XHRuYW1lOiAnU29yYSAyLjAnLFxuXHRcdFx0dmFsdWU6ICdzb3JhLTInLFxuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdGRlc2NyaXB0aW9uOiAnT3BlbkFJXHU2NzAwXHU2NUIwXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU2QTIxXHU1NzhCJyxcblx0XHRcdGlzQ3VzdG9tOiBmYWxzZVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0aWQ6ICdzb3JhLTEuNScsXG5cdFx0XHRuYW1lOiAnU29yYSAxLjUnLFxuXHRcdFx0dmFsdWU6ICdzb3JhLTEuNScsXG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0ZGVzY3JpcHRpb246ICdPcGVuQUlcdTg5QzZcdTk4OTFcdTc1MUZcdTYyMTBcdTZBMjFcdTU3OEInLFxuXHRcdFx0aXNDdXN0b206IGZhbHNlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpZDogJ3J1bndheS1nZW4zJyxcblx0XHRcdG5hbWU6ICdSdW53YXkgR2VuLTMnLFxuXHRcdFx0dmFsdWU6ICdydW53YXktZ2VuMycsXG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0ZGVzY3JpcHRpb246ICdSdW53YXlcdTUxNkNcdTUzRjhcdTg5QzZcdTk4OTFcdTc1MUZcdTYyMTBcdTZBMjFcdTU3OEInLFxuXHRcdFx0aXNDdXN0b206IGZhbHNlXG5cdFx0fVxuXHRdXG59XG5cbi8vIEFQSVx1NTRDRFx1NUU5NFx1NjNBNVx1NTNFM1xuaW50ZXJmYWNlIFZpZGVvR2VuZXJhdGlvblJlc3BvbnNlIHtcblx0aWQ6IHN0cmluZztcblx0cmVzdWx0cz86IEFycmF5PHsgdXJsOiBzdHJpbmcgfT47XG5cdHByb2dyZXNzPzogbnVtYmVyO1xuXHRzdGF0dXM/OiAncnVubmluZycgfCAnc3VjY2VlZGVkJyB8ICdmYWlsZWQnIHwgJ2NvbXBsZXRlZCcgfCAnc3VjY2VzcycgfCAnZXJyb3InO1xuXHRzdGF0ZT86IHN0cmluZztcblx0dGFza19zdGF0dXM/OiBzdHJpbmc7XG5cdGZhaWx1cmVfcmVhc29uPzogc3RyaW5nO1xuXHRlcnJvcj86IHN0cmluZztcblx0bWVzc2FnZT86IHN0cmluZztcblx0dmlkZW9fdXJsPzogc3RyaW5nO1xuXHR1cmw/OiBzdHJpbmc7XG5cdGRhdGE/OiB7XG5cdFx0dXJsPzogc3RyaW5nO1xuXHRcdFtrZXk6IHN0cmluZ106IGFueTtcblx0fTtcblx0W2tleTogc3RyaW5nXTogYW55OyAvLyBcdTUxNDFcdThCQjhcdTUxNzZcdTRFRDZcdTVCNTdcdTZCQjVcbn1cblxuLy8gXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU4QkY3XHU2QzQyXHU2M0E1XHU1M0UzXG5pbnRlcmZhY2UgVmlkZW9HZW5lcmF0aW9uUmVxdWVzdCB7XG5cdG1vZGVsOiBzdHJpbmc7XG5cdHByb21wdDogc3RyaW5nO1xuXHR1cmw/OiBzdHJpbmc7XG5cdGFzcGVjdFJhdGlvPzogc3RyaW5nO1xuXHRkdXJhdGlvbj86IG51bWJlcjtcblx0c2l6ZT86IHN0cmluZztcblx0aW1hZ2VVcmw/OiBzdHJpbmc7XG5cdHdlYkhvb2s/OiBzdHJpbmc7XG5cdHNodXRQcm9ncmVzcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZGVvR2VuZXJhdG9yUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IFZpZGVvR2VuZXJhdG9yU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBcdTZDRThcdTUxOENcdTRGQTdcdThGQjlcdTY4MEZcdTg5QzZcdTU2RkVcblx0XHR0aGlzLnJlZ2lzdGVyVmlldygndmlkZW8tZ2VuZXJhdG9yLXZpZXcnLCAobGVhZikgPT4gbmV3IFZpZGVvR2VuZXJhdG9yVmlldyhsZWFmLCB0aGlzKSk7XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdTVERTZcdTRGQTdcdTUyOUZcdTgwRkRcdTUzM0FcdTU2RkVcdTY4MDdcdUZGMDhcdTU5ODJcdTY3OUNcdTU0MkZcdTc1MjhcdUZGMDlcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93UmliYm9uSWNvbikge1xuXHRcdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCd2aWRlbycsICdBSSBWaWRlbyBHZW5lcmF0b3InLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdHRoaXMub3BlblZpZGVvR2VuZXJhdG9yU2lkZWJhcigpO1xuXHRcdFx0fSk7XG5cdFx0XHRyaWJib25JY29uRWwuYWRkQ2xhc3MoJ3ZpZGVvLWdlbmVyYXRvci1yaWJib24tY2xhc3MnKTtcblx0XHR9XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdTcyQjZcdTYwMDFcdTY4MEZcdTk4NzlcdTc2RUVcdUZGMDhcdTU5ODJcdTY3OUNcdTU0MkZcdTc1MjhcdUZGMDlcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93U3RhdHVzQmFyKSB7XG5cdFx0Y29uc3Qgc3RhdHVzQmFySXRlbUVsID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdFx0XHRzdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCgnQUkgVmlkZW8gR2VuZXJhdG9yJyk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU1NDdEXHU0RUU0XG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi12aWRlby1nZW5lcmF0b3InLFxuXHRcdFx0bmFtZTogJ0dlbmVyYXRlIEFJIFZpZGVvJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMub3BlblZpZGVvR2VuZXJhdG9yU2lkZWJhcigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU3RjE2XHU4RjkxXHU1NjY4XHU1NDdEXHU0RUU0XG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnZ2VuZXJhdGUtdmlkZW8tZnJvbS1zZWxlY3Rpb24nLFxuXHRcdFx0bmFtZTogJ0dlbmVyYXRlIHZpZGVvIGZyb20gc2VsZWN0ZWQgdGV4dCcsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRpZiAoc2VsZWN0aW9uLnRyaW0oKSkge1xuXHRcdFx0XHRcdHRoaXMub3BlblZpZGVvR2VuZXJhdG9yU2lkZWJhcihzZWxlY3Rpb24pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1x1OEJGN1x1NTE0OFx1OTAwOVx1NjJFOVx1ODk4MVx1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MVx1NzY4NFx1NjU4N1x1NjcyQycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2VkaXRvci1tZW51JywgKG1lbnUsIGVkaXRvciwgdmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdGlmIChzZWxlY3Rpb24udHJpbSgpKSB7XG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSgnXHVEODNDXHVERkFDIFx1NEY3Rlx1NzUyOFNvcmFcdTc1MUZcdTYyMTBcdTg5QzZcdTk4OTEnKVxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbigndmlkZW8nKVxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5nZW5lcmF0ZVZpZGVvRnJvbVNlbGVjdGlvbihzZWxlY3Rpb24sIGVkaXRvcik7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdThCQkVcdTdGNkVcdTk4NzVcdTk3NjJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFZpZGVvR2VuZXJhdG9yU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0Ly8gXHU2MjUzXHU1RjAwXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU0RkE3XHU4RkI5XHU2ODBGXG5cdGFzeW5jIG9wZW5WaWRlb0dlbmVyYXRvclNpZGViYXIoaW5pdGlhbFByb21wdDogc3RyaW5nID0gJycpIHtcblx0XHRjb25zdCBleGlzdGluZ0xlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCd2aWRlby1nZW5lcmF0b3ItdmlldycpWzBdO1xuXHRcdFxuXHRcdGlmIChleGlzdGluZ0xlYWYpIHtcblx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NEZBN1x1OEZCOVx1NjgwRlx1NURGMlx1N0VDRlx1NUI1OFx1NTcyOFx1RkYwQ1x1NkZDMFx1NkQzQlx1NUI4M1xuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYoZXhpc3RpbmdMZWFmKTtcblx0XHRcdC8vIFx1NjZGNFx1NjVCMFx1NTIxRFx1NTlDQlx1NjNEMFx1NzkzQVx1OEJDRFxuXHRcdFx0Y29uc3QgdmlldyA9IGV4aXN0aW5nTGVhZi52aWV3IGFzIFZpZGVvR2VuZXJhdG9yVmlldztcblx0XHRcdHZpZXcuaW5pdGlhbFByb21wdCA9IGluaXRpYWxQcm9tcHQ7XG5cdFx0XHQvLyBcdTkxQ0RcdTY1QjBcdTYyNTNcdTVGMDBcdTRFRTVcdTY2RjRcdTY1QjBcdTUxODVcdTVCQjlcblx0XHRcdGF3YWl0IHZpZXcub25PcGVuKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NzY4NFx1NEZBN1x1OEZCOVx1NjgwRlxuXHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuXHRcdFx0aWYgKGxlYWYpIHtcblx0XHRcdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoeyB0eXBlOiAndmlkZW8tZ2VuZXJhdG9yLXZpZXcnLCBhY3RpdmU6IHRydWUgfSk7XG5cdFx0XHRcdGNvbnN0IHZpZXcgPSBsZWFmLnZpZXcgYXMgVmlkZW9HZW5lcmF0b3JWaWV3O1xuXHRcdFx0XHR2aWV3LmluaXRpYWxQcm9tcHQgPSBpbml0aWFsUHJvbXB0O1xuXHRcdFx0XHRhd2FpdCB2aWV3Lm9uT3BlbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFx1NEVDRVx1OTAwOVx1NEUyRFx1NjU4N1x1NjcyQ1x1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MVx1NUU3Nlx1NEUwQlx1OEY3RFxuXHRhc3luYyBnZW5lcmF0ZVZpZGVvRnJvbVNlbGVjdGlvbihzZWxlY3Rpb246IHN0cmluZywgZWRpdG9yOiBFZGl0b3IpIHtcblx0XHQvLyBcdTY4QzBcdTY3RTVBUElcdTVCQzZcdTk0QTVcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuYXBpS2V5KSB7XG5cdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTUxNDhcdTU3MjhcdThCQkVcdTdGNkVcdTRFMkRcdTkxNERcdTdGNkVBUElcdTVCQzZcdTk0QTUnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBcdTY2M0VcdTc5M0FcdTc1MUZcdTYyMTBcdTVGMDBcdTU5Q0JcdTkwMUFcdTc3RTVcblx0XHRuZXcgTm90aWNlKCdcdTVGMDBcdTU5Q0JcdTc1MUZcdTYyMTBcdTg5QzZcdTk4OTFcdUZGMENcdThCRjdcdTdBMERcdTUwMTkuLi4nKTtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBcdTY3ODRcdTVFRkFcdThCRjdcdTZDNDJcdTUzQzJcdTY1NzBcblx0XHRcdGNvbnN0IHJlcXVlc3Q6IFZpZGVvR2VuZXJhdGlvblJlcXVlc3QgPSB7XG5cdFx0XHRcdG1vZGVsOiB0aGlzLnNldHRpbmdzLmRlZmF1bHRNb2RlbCxcblx0XHRcdFx0cHJvbXB0OiBzZWxlY3Rpb24udHJpbSgpLFxuXHRcdFx0XHRhc3BlY3RSYXRpbzogdGhpcy5zZXR0aW5ncy5kZWZhdWx0QXNwZWN0UmF0aW8sXG5cdFx0XHRcdGR1cmF0aW9uOiB0aGlzLnNldHRpbmdzLmRlZmF1bHREdXJhdGlvbixcblx0XHRcdFx0c2l6ZTogdGhpcy5zZXR0aW5ncy5kZWZhdWx0U2l6ZSxcblx0XHRcdFx0c2h1dFByb2dyZXNzOiBmYWxzZVxuXHRcdFx0fTtcblxuXHRcdC8vIFx1OEMwM1x1NzUyOEFQSVx1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MVxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVZpZGVvKHJlcXVlc3QpO1xuXHRcdFxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1OEMwM1x1OEJENVx1NEZFMVx1NjA2RlxuXHRcdGNvbnNvbGUubG9nKCdBUEkgUmVzcG9uc2U6JywgcmVzcG9uc2UpO1xuXHRcdFxuXHRcdC8vIFx1NjhDMFx1NjdFNVx1NTRDRFx1NUU5NFx1NjgzQ1x1NUYwRlx1NUU3Nlx1NjNEMFx1NTNENlx1NEVGQlx1NTJBMUlEXG5cdFx0bGV0IHRhc2tJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cdFx0XG5cdFx0aWYgKHJlc3BvbnNlICYmIHR5cGVvZiByZXNwb25zZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGNvbnN0IHJlc3AgPSByZXNwb25zZSBhcyBhbnk7XG5cdFx0XHRcblx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NjgwN1x1NTFDNlx1NjgzQ1x1NUYwRjoge2lkOiBcIi4uLlwifVxuXHRcdFx0aWYgKHJlc3AuaWQpIHtcblx0XHRcdFx0dGFza0lkID0gcmVzcC5pZDtcblx0XHRcdH1cblx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NUQ0Q1x1NTk1N1x1NjgzQ1x1NUYwRjoge2RhdGE6IHtpZDogXCIuLi5cIn19XG5cdFx0XHRlbHNlIGlmIChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLmlkKSB7XG5cdFx0XHRcdHRhc2tJZCA9IHJlc3AuZGF0YS5pZDtcblx0XHRcdH1cblx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NTE3Nlx1NEVENlx1NTNFRlx1ODBGRFx1NzY4NFx1NjgzQ1x1NUYwRlxuXHRcdFx0ZWxzZSBpZiAocmVzcC50YXNrX2lkKSB7XG5cdFx0XHRcdHRhc2tJZCA9IHJlc3AudGFza19pZDtcblx0XHRcdH1cblx0XHRcdC8vIFx1NjhDMFx1NjdFNWRhdGEudGFza19pZFx1NjgzQ1x1NUYwRlxuXHRcdFx0ZWxzZSBpZiAocmVzcC5kYXRhICYmIHJlc3AuZGF0YS50YXNrX2lkKSB7XG5cdFx0XHRcdHRhc2tJZCA9IHJlc3AuZGF0YS50YXNrX2lkO1xuXHRcdFx0fVxuXHRcdFx0Ly8gXHU2OEMwXHU2N0U1ZGF0YS50YXNrSWRcdTY4M0NcdTVGMEZcblx0XHRcdGVsc2UgaWYgKHJlc3AuZGF0YSAmJiByZXNwLmRhdGEudGFza0lkKSB7XG5cdFx0XHRcdHRhc2tJZCA9IHJlc3AuZGF0YS50YXNrSWQ7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFx1NkRGQlx1NTJBMFx1NjZGNFx1OEJFNlx1N0VDNlx1NzY4NFx1OEMwM1x1OEJENVx1NEZFMVx1NjA2RlxuXHRcdFx0Y29uc29sZS5sb2coJ0NvbW1hbmQgQVBJIFJlc3BvbnNlIHN0cnVjdHVyZTonLCB7XG5cdFx0XHRcdGhhc0lkOiAhIXJlc3AuaWQsXG5cdFx0XHRcdGhhc0RhdGE6ICEhcmVzcC5kYXRhLFxuXHRcdFx0XHRkYXRhSWQ6IHJlc3AuZGF0YT8uaWQsXG5cdFx0XHRcdGRhdGFUYXNrSWQ6IHJlc3AuZGF0YT8udGFza0lkLFxuXHRcdFx0XHRkYXRhVGFza19pZDogcmVzcC5kYXRhPy50YXNrX2lkLFxuXHRcdFx0XHRmdWxsUmVzcG9uc2U6IHJlc3Bcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRcblx0XHRpZiAodGFza0lkKSB7XG5cdFx0XHQvLyBcdTVGMDBcdTU5Q0JcdThGNkVcdThCRTJcdTdFRDNcdTY3OUNcblx0XHRcdGF3YWl0IHRoaXMucG9sbEFuZERvd25sb2FkVmlkZW8odGFza0lkLCBzZWxlY3Rpb24sIGVkaXRvcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFx1NjNEMFx1NEY5Qlx1NjZGNFx1OEJFNlx1N0VDNlx1NzY4NFx1OTUxOVx1OEJFRlx1NEZFMVx1NjA2RlxuXHRcdFx0Y29uc29sZS5lcnJvcignVW5leHBlY3RlZCBBUEkgcmVzcG9uc2UgZm9ybWF0OicsIHJlc3BvbnNlKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1QzFEXHU4QkQ1XHU0RUNFZGF0YVx1NEUyRFx1NjNEMFx1NTNENlx1NjZGNFx1NTkxQVx1NEZFMVx1NjA2RlxuXHRcdFx0Y29uc3QgcmVzcCA9IHJlc3BvbnNlIGFzIGFueTtcblx0XHRcdGxldCBlcnJvckRldGFpbHMgPSAnJztcblx0XHRcdFxuXHRcdFx0aWYgKHJlc3AuZGF0YSkge1xuXHRcdFx0XHRlcnJvckRldGFpbHMgPSBgXFxuRGF0YVx1NTE4NVx1NUJCOTogJHtKU09OLnN0cmluZ2lmeShyZXNwLmRhdGEpfWA7XG5cdFx0XHR9XG5cdFx0XHRpZiAocmVzcC5tc2cpIHtcblx0XHRcdFx0ZXJyb3JEZXRhaWxzICs9IGBcXG5cdTZEODhcdTYwNkY6ICR7cmVzcC5tc2d9YDtcblx0XHRcdH1cblx0XHRcdGlmIChyZXNwLmNvZGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRlcnJvckRldGFpbHMgKz0gYFxcblx1NEVFM1x1NzgwMTogJHtyZXNwLmNvZGV9YDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBcdTY3MkFcdTgzQjdcdTUzRDZcdTUyMzBcdTRFRkJcdTUyQTFJRFx1MzAwMkFQSVx1NTRDRFx1NUU5NDogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSl9JHtlcnJvckRldGFpbHN9YCk7XG5cdFx0fVxuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuXHRcdFx0Y29uc3QgZnJpZW5kbHlNZXNzYWdlID0gdGhpcy5oYW5kbGVBcGlFcnJvcihlcnJvcik7XG5cdFx0XHRuZXcgTm90aWNlKGBcdTc1MUZcdTYyMTBcdTU5MzFcdThEMjU6ICR7ZnJpZW5kbHlNZXNzYWdlfWApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFx1OEY2RVx1OEJFMlx1ODlDNlx1OTg5MVx1NzUxRlx1NjIxMFx1N0VEM1x1Njc5Q1x1NUU3Nlx1NEUwQlx1OEY3RFxuXHRhc3luYyBwb2xsQW5kRG93bmxvYWRWaWRlbyhpZDogc3RyaW5nLCBvcmlnaW5hbFRleHQ6IHN0cmluZywgZWRpdG9yOiBFZGl0b3IpIHtcblx0XHRsZXQgcG9sbENvdW50ID0gMDtcblx0XHRjb25zdCBtYXhBdHRlbXB0cyA9IHRoaXMuc2V0dGluZ3MubWF4UG9sbGluZ0F0dGVtcHRzO1xuXHRcdFxuXHRcdGNvbnN0IHBvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcblx0XHRcdHBvbGxDb3VudCsrO1xuXHRcdFx0XG5cdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdThEODVcdThGQzdcdTY3MDBcdTU5MjdcdTVDMURcdThCRDVcdTZCMjFcdTY1NzBcblx0XHRcdGlmIChwb2xsQ291bnQgPiBtYXhBdHRlbXB0cykge1xuXHRcdFx0XHRjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1x1OEY2RVx1OEJFMlx1OEQ4NVx1NjVGNlx1RkYwQ1x1OEJGN1x1N0EwRFx1NTQwRVx1NjI0Qlx1NTJBOFx1NjhDMFx1NjdFNVx1N0VEM1x1Njc5QycpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0VmlkZW9SZXN1bHQoaWQpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2REZCXHU1MkEwXHU4QzAzXHU4QkQ1XHU2NUU1XHU1RkQ3XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdWaWRlbyBnZW5lcmF0aW9uIHJlc3VsdCAoY29udGV4dCBtZW51KTonLCByZXN1bHQpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU4RkRCXHU1RUE2XHU5MDFBXHU3N0U1XG5cdFx0XHRcdGNvbnN0IHByb2dyZXNzID0gcmVzdWx0LnByb2dyZXNzIHx8IDA7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYFx1NzUxRlx1NjIxMFx1OEZEQlx1NUVBNjogJHtwcm9ncmVzc30lICgke3BvbGxDb3VudH0vJHttYXhBdHRlbXB0c30pYCk7XG5cblx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU3NTFGXHU2MjEwXHU3MkI2XHU2MDAxIC0gXHU2NTJGXHU2MzAxXHU1OTFBXHU3OUNEXHU3MkI2XHU2MDAxXHU1QjU3XHU2QkI1XG5cdFx0XHRcdGNvbnN0IHN0YXR1cyA9IHJlc3VsdC5zdGF0dXMgfHwgcmVzdWx0LnN0YXRlIHx8IHJlc3VsdC50YXNrX3N0YXR1cztcblx0XHRcdFx0Y29uc29sZS5sb2coJ1ZpZGVvIGdlbmVyYXRpb24gc3RhdHVzIChjb250ZXh0IG1lbnUpOicsIHN0YXR1cywgJ3Byb2dyZXNzOicsIHByb2dyZXNzKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChzdGF0dXMgPT09ICdzdWNjZWVkZWQnIHx8IHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgc3RhdHVzID09PSAnc3VjY2VzcycgfHwgcHJvZ3Jlc3MgPT09IDEwMCkge1xuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmhhbmRsZVZpZGVvU3VjY2VzcyhyZXN1bHQsIG9yaWdpbmFsVGV4dCwgZWRpdG9yKTtcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdTg5QzZcdTk4OTFcdTc1MUZcdTYyMTBcdTYyMTBcdTUyOUZcdUZGMDEnKTtcblx0XHRcdFx0fSBlbHNlIGlmIChzdGF0dXMgPT09ICdmYWlsZWQnIHx8IHN0YXR1cyA9PT0gJ2Vycm9yJykge1xuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcblx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IHJlc3VsdC5mYWlsdXJlX3JlYXNvbiB8fCByZXN1bHQuZXJyb3IgfHwgcmVzdWx0Lm1lc3NhZ2UgfHwgJ1x1NjcyQVx1NzdFNVx1OTUxOVx1OEJFRic7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgXHU3NTFGXHU2MjEwXHU1OTMxXHU4RDI1OiAke2Vycm9yTXNnfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdQb2xsaW5nIGVycm9yOicsIGVycm9yKTtcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuXHRcdFx0XHRjb25zdCBmcmllbmRseU1lc3NhZ2UgPSB0aGlzLmhhbmRsZUFwaUVycm9yKGVycm9yKTtcblx0XHRcdFx0bmV3IE5vdGljZShgXHU4M0I3XHU1M0Q2XHU3RUQzXHU2NzlDXHU1OTMxXHU4RDI1OiAke2ZyaWVuZGx5TWVzc2FnZX1gKTtcblx0XHRcdH1cblx0XHR9LCB0aGlzLnNldHRpbmdzLnBvbGxpbmdJbnRlcnZhbCk7XG5cdH1cblxuXHQvLyBcdTU5MDRcdTc0MDZcdTg5QzZcdTk4OTFcdTc1MUZcdTYyMTBcdTYyMTBcdTUyOUZcblx0YXN5bmMgaGFuZGxlVmlkZW9TdWNjZXNzKHJlc3VsdDogVmlkZW9HZW5lcmF0aW9uUmVzcG9uc2UsIG9yaWdpbmFsVGV4dDogc3RyaW5nLCBlZGl0b3I6IEVkaXRvcikge1xuXHRcdC8vIFx1NjUyRlx1NjMwMVx1NTkxQVx1NzlDREFQSVx1NTRDRFx1NUU5NFx1N0VEM1x1Njc4NFxuXHRcdGxldCB2aWRlb1VybCA9IG51bGw7XG5cdFx0XG5cdFx0Ly8gXHU1QzFEXHU4QkQ1XHU0RUNFXHU0RTBEXHU1NDBDXHU1QjU3XHU2QkI1XHU4M0I3XHU1M0Q2XHU4OUM2XHU5ODkxVVJMXG5cdFx0aWYgKHJlc3VsdC5yZXN1bHRzICYmIHJlc3VsdC5yZXN1bHRzLmxlbmd0aCA+IDApIHtcblx0XHRcdHZpZGVvVXJsID0gcmVzdWx0LnJlc3VsdHNbMF0udXJsO1xuXHRcdH0gZWxzZSBpZiAocmVzdWx0LnZpZGVvX3VybCkge1xuXHRcdFx0dmlkZW9VcmwgPSByZXN1bHQudmlkZW9fdXJsO1xuXHRcdH0gZWxzZSBpZiAocmVzdWx0LnVybCkge1xuXHRcdFx0dmlkZW9VcmwgPSByZXN1bHQudXJsO1xuXHRcdH0gZWxzZSBpZiAocmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEudXJsKSB7XG5cdFx0XHR2aWRlb1VybCA9IHJlc3VsdC5kYXRhLnVybDtcblx0XHR9XG5cblx0XHRpZiAodmlkZW9VcmwpIHtcblx0XHRcdC8vIFx1NEUwQlx1OEY3RFx1ODlDNlx1OTg5MVx1NTIzMFx1NjcyQ1x1NTczMFxuXHRcdFx0Y29uc3QgbG9jYWxQYXRoID0gYXdhaXQgdGhpcy5kb3dubG9hZFZpZGVvKHZpZGVvVXJsLCBvcmlnaW5hbFRleHQpO1xuXHRcdFx0XG5cdFx0XHQvLyBcdTUzRUFcdTRGN0ZcdTc1MjhcdTY1ODdcdTRFRjZcdTU0MERcdUZGMENcdTRFMERcdTUzMDVcdTU0MkJcdThERUZcdTVGODRcblx0XHRcdGNvbnN0IGZpbGVOYW1lID0gbG9jYWxQYXRoLnNwbGl0KCcvJykucG9wKCkgfHwgbG9jYWxQYXRoO1xuXHRcdFx0Ly8gXHU0RjdGXHU3NTI4IE9ic2lkaWFuIFx1NjgwN1x1NTFDNlx1NzY4NFx1ODlDNlx1OTg5MVx1NUYxNVx1NzUyOFx1NjgzQ1x1NUYwRiAhW1tmaWxlbmFtZS5tcDRdXVxuXHRcdFx0Y29uc3QgdmlkZW9NYXJrZG93biA9IGBcXG5cXG4hW1ske2ZpbGVOYW1lfV1dXFxuXFxuYDtcblx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKHZpZGVvTWFya2Rvd24pO1xuXHRcdFx0XG5cdFx0XHRuZXcgTm90aWNlKCdcdTg5QzZcdTk4OTFcdTVERjJcdTRFMEJcdThGN0RcdTVFNzZcdTYzRDJcdTUxNjVcdTUyMzBcdTdCMTRcdThCQjBcdTRFMkQnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU2MjdFXHU1MjMwXHU4OUM2XHU5ODkxVVJMXHVGRjBDXHU2NjNFXHU3OTNBXHU4QzAzXHU4QkQ1XHU0RkUxXHU2MDZGXG5cdFx0XHRjb25zb2xlLmVycm9yKCdcdTY3MkFcdTYyN0VcdTUyMzBcdTg5QzZcdTk4OTFVUkxcdUZGMENBUElcdTU0Q0RcdTVFOTRcdTdFRDNcdTY3ODQ6JywgcmVzdWx0KTtcblx0XHRcdG5ldyBOb3RpY2UoJ1x1ODlDNlx1OTg5MVx1NzUxRlx1NjIxMFx1NjIxMFx1NTI5Rlx1RkYwQ1x1NEY0Nlx1NjcyQVx1NjI3RVx1NTIzMFx1ODlDNlx1OTg5MVVSTFx1RkYwQ1x1OEJGN1x1NjhDMFx1NjdFNUFQSVx1NTRDRFx1NUU5NFx1N0VEM1x1Njc4NCcpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFx1NEUwQlx1OEY3RFx1ODlDNlx1OTg5MVx1NTIzMFx1NjcyQ1x1NTczMFxuXHRhc3luYyBkb3dubG9hZFZpZGVvKHZpZGVvVXJsOiBzdHJpbmcsIG9yaWdpbmFsVGV4dDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU2RDNCXHU1MkE4XHU2NTg3XHU0RUY2XG5cdFx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdGlmICghYWN0aXZlRmlsZSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1x1NkNBMVx1NjcwOVx1NjI3RVx1NTIzMFx1NUY1M1x1NTI0RFx1NkQzQlx1NTJBOFx1NjU4N1x1NEVGNicpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjZcdTc2ODRcdTc2RUVcdTVGNTVcdThERUZcdTVGODRcblx0XHRcdGNvbnN0IGN1cnJlbnREaXIgPSBhY3RpdmVGaWxlLnBhcmVudD8ucGF0aCB8fCAnJztcblx0XHRcdFxuXHRcdFx0Ly8gXHU3NTFGXHU2MjEwXHU2NTg3XHU0RUY2XHU1NDBEXHVGRjA4XHU1N0ZBXHU0RThFXHU1MzlGXHU1OUNCXHU2NTg3XHU2NzJDXHU3Njg0XHU1MjREMjBcdTRFMkFcdTVCNTdcdTdCMjZcdUZGMDlcblx0XHRcdGNvbnN0IGZpbGVOYW1lID0gYHNvcmEtdmlkZW8tJHtvcmlnaW5hbFRleHQuc3Vic3RyaW5nKDAsIDIwKS5yZXBsYWNlKC9bXlxcd1xcc10vZ2ksICcnKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LSR7RGF0ZS5ub3coKX0ubXA0YDtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1NzI4XHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU1NDBDXHU3RUE3XHU3NkVFXHU1RjU1XHU1MjFCXHU1RUZBIGFpdmlkZW8gXHU2NTg3XHU0RUY2XHU1OTM5XG5cdFx0XHRjb25zdCBhaXZpZGVvRm9sZGVyID0gY3VycmVudERpciA/IGAke2N1cnJlbnREaXJ9L2FpdmlkZW9gIDogJ2FpdmlkZW8nO1xuXHRcdFx0Y29uc3QgZm9sZGVyUGF0aCA9IGAke2FpdmlkZW9Gb2xkZXJ9LyR7ZmlsZU5hbWV9YDtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU2NTg3XHU0RUY2XHU1OTM5XHU2NjJGXHU1NDI2XHU1QjU4XHU1NzI4XHVGRjBDXHU1OTgyXHU2NzlDXHU0RTBEXHU1QjU4XHU1NzI4XHU1MjE5XHU1MjFCXHU1RUZBXG5cdFx0XHRjb25zdCBmb2xkZXJFeGlzdHMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhhaXZpZGVvRm9sZGVyKTtcblx0XHRcdGlmICghZm9sZGVyRXhpc3RzKSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihhaXZpZGVvRm9sZGVyKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gXHU0RTBCXHU4RjdEXHU4OUM2XHU5ODkxXHU2NTg3XHU0RUY2XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHZpZGVvVXJsKTtcblx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBcdTRFMEJcdThGN0RcdTU5MzFcdThEMjU6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU0RkREXHU1QjU4XHU1MjMwIGFpdmlkZW8gXHU2NTg3XHU0RUY2XHU1OTM5XG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KGZvbGRlclBhdGgsIGFycmF5QnVmZmVyKTtcblx0XHRcdFxuXHRcdFx0bmV3IE5vdGljZShgXHU4OUM2XHU5ODkxXHU1REYyXHU0RTBCXHU4RjdEXHU1MjMwOiAke2ZvbGRlclBhdGh9YCk7XG5cdFx0XHRyZXR1cm4gZm9sZGVyUGF0aDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRG93bmxvYWQgZXJyb3I6JywgZXJyb3IpO1xuXHRcdFx0bmV3IE5vdGljZSgnXHU4OUM2XHU5ODkxXHU0RTBCXHU4RjdEXHU1OTMxXHU4RDI1XHVGRjBDXHU0RjQ2XHU5NEZFXHU2M0E1XHU1REYyXHU2M0QyXHU1MTY1XHU1MjMwXHU3QjE0XHU4QkIwXHU0RTJEJyk7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHQvLyBcdTZFMDVcdTc0MDZcdThENDRcdTZFOTBcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cblx0Ly8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU5MDA5XHU0RTJEXHU3Njg0QVBJXHU0RTNCXHU2NzNBXG5cdGdldEN1cnJlbnRBcGlIb3N0KCk6IHN0cmluZyB7XG5cdFx0Ly8gY29uc29sZS5sb2coJ0dldHRpbmcgQVBJIGhvc3QsIHNldHRpbmdzOicsIHtcblx0XHQvLyBcdHNlbGVjdGVkQXBpSG9zdDogdGhpcy5zZXR0aW5ncy5zZWxlY3RlZEFwaUhvc3QsXG5cdFx0Ly8gXHRhcGlIb3N0czogdGhpcy5zZXR0aW5ncy5hcGlIb3N0cyxcblx0XHQvLyBcdGFwaUhvc3Q6IHRoaXMuc2V0dGluZ3MuYXBpSG9zdFxuXHRcdC8vIH0pO1xuXHRcdFxuXHRcdGNvbnN0IHNlbGVjdGVkSG9zdCA9IHRoaXMuc2V0dGluZ3MuYXBpSG9zdHMuZmluZChob3N0ID0+IGhvc3QuaWQgPT09IHRoaXMuc2V0dGluZ3Muc2VsZWN0ZWRBcGlIb3N0KTtcblx0XHQvLyBjb25zb2xlLmxvZygnU2VsZWN0ZWQgaG9zdDonLCBzZWxlY3RlZEhvc3QpO1xuXHRcdFxuXHRcdGlmIChzZWxlY3RlZEhvc3QgJiYgc2VsZWN0ZWRIb3N0LmVuYWJsZWQpIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdVc2luZyBzZWxlY3RlZCBob3N0OicsIHNlbGVjdGVkSG9zdC51cmwpO1xuXHRcdFx0cmV0dXJuIHNlbGVjdGVkSG9zdC51cmw7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFx1NTZERVx1OTAwMFx1NTIzMFx1OUVEOFx1OEJBNFx1OEJCRVx1N0Y2RVxuXHRcdC8vIGNvbnNvbGUubG9nKCdVc2luZyBmYWxsYmFjayBob3N0OicsIHRoaXMuc2V0dGluZ3MuYXBpSG9zdCk7XG5cdFx0aWYgKCF0aGlzLnNldHRpbmdzLmFwaUhvc3QpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQVBJXHU0RTNCXHU2NzNBXHU1NzMwXHU1NzQwXHU2NzJBXHU5MTREXHU3RjZFJyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUhvc3Q7XG5cdH1cblxuXHQvLyBcdTU5MDRcdTc0MDZBUElcdTk1MTlcdThCRUZcdUZGMENcdTYzRDBcdTRGOUJcdTc1MjhcdTYyMzdcdTUzQ0JcdTU5N0RcdTc2ODRcdTk1MTlcdThCRUZcdTRGRTFcdTYwNkZcblx0aGFuZGxlQXBpRXJyb3IoZXJyb3I6IGFueSk6IHN0cmluZyB7XG5cdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpO1xuXHRcdFxuXHRcdC8vIFx1NEY1OVx1OTg5RFx1NEUwRFx1OERCM1xuXHRcdGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ2luc3VmZmljaWVudCBjcmVkaXRzJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdcdTRGNTlcdTk4OURcdTRFMERcdThEQjMnKSkge1xuXHRcdFx0cmV0dXJuICdcdThEMjZcdTYyMzdcdTRGNTlcdTk4OURcdTRFMERcdThEQjNcdUZGMENcdThCRjdcdTUxNDVcdTUwM0NcdTU0MEVcdTkxQ0RcdThCRDUnO1xuXHRcdH1cblx0XHRcblx0XHQvLyBBUElcdTVCQzZcdTk0QTVcdTc2RjhcdTUxNzNcdTk1MTlcdThCRUZcblx0XHRpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdBUElcdTVCQzZcdTk0QTUnKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ3VuYXV0aG9yaXplZCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnNDAxJykpIHtcblx0XHRcdHJldHVybiAnQVBJXHU1QkM2XHU5NEE1XHU5MTREXHU3RjZFXHU5NTE5XHU4QkVGXHVGRjBDXHU4QkY3XHU2OEMwXHU2N0U1XHU4QkJFXHU3RjZFXHU0RTJEXHU3Njg0QVBJXHU1QkM2XHU5NEE1XHU2NjJGXHU1NDI2XHU2QjYzXHU3ODZFJztcblx0XHR9XG5cdFx0XG5cdFx0Ly8gQVBJXHU0RTNCXHU2NzNBXHU3NkY4XHU1MTczXHU5NTE5XHU4QkVGXG5cdFx0aWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnQVBJXHU0RTNCXHU2NzNBJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdob3N0JykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCc0MDQnKSkge1xuXHRcdFx0cmV0dXJuICdBUElcdTRFM0JcdTY3M0FcdTkxNERcdTdGNkVcdTk1MTlcdThCRUZcdUZGMENcdThCRjdcdTY4QzBcdTY3RTVcdThCQkVcdTdGNkVcdTRFMkRcdTc2ODRBUElcdTRFM0JcdTY3M0FcdTU3MzBcdTU3NDAnO1xuXHRcdH1cblx0XHRcblx0XHQvLyBcdTdGNTFcdTdFRENcdThGREVcdTYzQTVcdTk1MTlcdThCRUZcblx0XHRpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdIVFRQIGVycm9yJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCduZXR3b3JrJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCd0aW1lb3V0JykpIHtcblx0XHRcdHJldHVybiAnXHU3RjUxXHU3RURDXHU4RkRFXHU2M0E1XHU5NTE5XHU4QkVGXHVGRjBDXHU4QkY3XHU2OEMwXHU2N0U1XHU3RjUxXHU3RURDXHU4RkRFXHU2M0E1XHU2MjE2XHU3QTBEXHU1NDBFXHU5MUNEXHU4QkQ1Jztcblx0XHR9XG5cdFx0XG5cdFx0Ly8gQVBJXHU0RTFBXHU1MkExXHU5NTE5XHU4QkVGXG5cdFx0aWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnQVBJXHU5NTE5XHU4QkVGJykpIHtcblx0XHRcdC8vIFx1NjNEMFx1NTNENlx1NTE3N1x1NEY1M1x1NzY4NFx1OTUxOVx1OEJFRlx1NEZFMVx1NjA2Rlx1RkYwQ1x1NTNCQlx1NjM4OVwiQVBJXHU5NTE5XHU4QkVGOiBcIlx1NTI0RFx1N0YwMFxuXHRcdFx0cmV0dXJuIGVycm9yTWVzc2FnZS5yZXBsYWNlKCdBUElcdTk1MTlcdThCRUY6ICcsICcnKS5yZXBsYWNlKCdBUElcdTk1MTlcdThCRUYgKCcsICcnKS5yZXBsYWNlKC9cXCk6IC8sICc6ICcpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBcdTUxNzZcdTRFRDZcdTk1MTlcdThCRUZcblx0XHRyZXR1cm4gZXJyb3JNZXNzYWdlO1xuXHR9XG5cblx0Ly8gQVBJXHU4QzAzXHU3NTI4XHU2NUI5XHU2Q0Q1XG5cdGFzeW5jIGdlbmVyYXRlVmlkZW8ocmVxdWVzdDogVmlkZW9HZW5lcmF0aW9uUmVxdWVzdCk6IFByb21pc2U8VmlkZW9HZW5lcmF0aW9uUmVzcG9uc2U+IHtcblx0XHQvLyBcdTlBOENcdThCQzFBUElcdTkxNERcdTdGNkVcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuYXBpS2V5KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0FQSVx1NUJDNlx1OTRBNVx1NjcyQVx1OTE0RFx1N0Y2RVx1RkYwQ1x1OEJGN1x1NTcyOFx1OEJCRVx1N0Y2RVx1NEUyRFx1OTE0RFx1N0Y2RUFQSVx1NUJDNlx1OTRBNScpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGN1cnJlbnRIb3N0ID0gdGhpcy5nZXRDdXJyZW50QXBpSG9zdCgpO1xuXHRcdGlmICghY3VycmVudEhvc3QpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQVBJXHU0RTNCXHU2NzNBXHU1NzMwXHU1NzQwXHU2NzJBXHU5MTREXHU3RjZFJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXJsID0gYCR7Y3VycmVudEhvc3R9L3YxL3ZpZGVvL3NvcmEtdmlkZW9gO1xuXHRcdGNvbnNvbGUubG9nKCdNYWtpbmcgQVBJIHJlcXVlc3QgdG86JywgdXJsKTtcblx0XHRcblx0XHRjb25zdCBoZWFkZXJzID0ge1xuXHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0XHRcdCdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuc2V0dGluZ3MuYXBpS2V5fWBcblx0XHR9O1xuXG5cdFx0Ly8gXHU4QkJFXHU3RjZFXHU5RUQ4XHU4QkE0XHU2QTIxXHU1NzhCXG5cdFx0aWYgKCFyZXF1ZXN0Lm1vZGVsKSB7XG5cdFx0XHRyZXF1ZXN0Lm1vZGVsID0gdGhpcy5zZXR0aW5ncy5kZWZhdWx0TW9kZWw7XG5cdFx0fVxuXG5cdFx0Ly8gXHU1OTA0XHU3NDA2XHU1NkZFXHU3MjQ3VVJMIC0gXHU1OTgyXHU2NzlDaW1hZ2VVcmxcdTVCNThcdTU3MjhcdUZGMENcdTVDMDZcdTUxNzZcdTY2MjBcdTVDMDRcdTUyMzB1cmxcdTVCNTdcdTZCQjVcblx0XHRpZiAocmVxdWVzdC5pbWFnZVVybCAmJiByZXF1ZXN0LmltYWdlVXJsLnRyaW0oKSkge1xuXHRcdFx0cmVxdWVzdC51cmwgPSByZXF1ZXN0LmltYWdlVXJsLnRyaW0oKTtcblx0XHR9XG5cdFx0Ly8gXHU2RTA1XHU3NDA2dW5kZWZpbmVkXHU1QjU3XHU2QkI1XG5cdFx0aWYgKHJlcXVlc3QuaW1hZ2VVcmwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZGVsZXRlIHJlcXVlc3QuaW1hZ2VVcmw7XG5cdFx0fVxuXG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU0RjdGXHU3NTI4d2ViaG9va1x1RkYwQ1x1OEJCRVx1N0Y2RXdlYmhvb2tcdTUzQzJcdTY1NzBcblx0XHRpZiAodGhpcy5zZXR0aW5ncy51c2VXZWJob29rICYmIHRoaXMuc2V0dGluZ3Mud2ViaG9va1VybCkge1xuXHRcdFx0cmVxdWVzdC53ZWJIb29rID0gdGhpcy5zZXR0aW5ncy53ZWJob29rVXJsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXF1ZXN0LndlYkhvb2sgPSAnLTEnOyAvLyBcdTRGN0ZcdTc1MjhcdThGNkVcdThCRTJcdTY1QjlcdTVGMEZcblx0XHR9XG5cblx0XHQvLyBcdTZFMDVcdTc0MDZcdThCRjdcdTZDNDJcdTVCRjlcdThDNjFcdUZGMENcdTc5RkJcdTk2NjR1bmRlZmluZWRcdTVCNTdcdTZCQjVcblx0XHRjb25zdCBjbGVhblJlcXVlc3QgPSBPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0XHRPYmplY3QuZW50cmllcyhyZXF1ZXN0KS5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHZhbHVlICE9PSB1bmRlZmluZWQpXG5cdFx0KTtcblx0XHRcblx0XHRjb25zb2xlLmxvZygnU2VuZGluZyByZXF1ZXN0OicsIGNsZWFuUmVxdWVzdCk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdGhlYWRlcnM6IGhlYWRlcnMsXG5cdFx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KGNsZWFuUmVxdWVzdClcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfSwgbWVzc2FnZTogJHtlcnJvclRleHR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRjb25zb2xlLmxvZygnUmF3IEFQSSByZXNwb25zZTonLCBkYXRhKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2OEMwXHU2N0U1QVBJXHU0RTFBXHU1MkExXHU5NTE5XHU4QkVGXG5cdFx0XHRpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU5NTE5XHU4QkVGXHU3ODAxXG5cdFx0XHRcdGlmIChkYXRhLmNvZGUgIT09IHVuZGVmaW5lZCAmJiBkYXRhLmNvZGUgIT09IDAgJiYgZGF0YS5jb2RlICE9PSAyMDApIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGRhdGEubXNnIHx8IGRhdGEubWVzc2FnZSB8fCAnXHU2NzJBXHU3N0U1XHU5NTE5XHU4QkVGJztcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEFQSVx1OTUxOVx1OEJFRiAoJHtkYXRhLmNvZGV9KTogJHtlcnJvck1zZ31gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU5NTE5XHU4QkVGXHU0RkUxXHU2MDZGXG5cdFx0XHRcdGlmIChkYXRhLmVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBBUElcdTk1MTlcdThCRUY6ICR7ZGF0YS5lcnJvcn1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignVmlkZW8gZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdH1cblxuXHQvLyBcdTgzQjdcdTUzRDZcdTg5QzZcdTk4OTFcdTc1MUZcdTYyMTBcdTdFRDNcdTY3OUNcblx0YXN5bmMgZ2V0VmlkZW9SZXN1bHQoaWQ6IHN0cmluZyk6IFByb21pc2U8VmlkZW9HZW5lcmF0aW9uUmVzcG9uc2U+IHtcblx0XHRjb25zdCBjdXJyZW50SG9zdCA9IHRoaXMuZ2V0Q3VycmVudEFwaUhvc3QoKTtcblx0XHRpZiAoIWN1cnJlbnRIb3N0KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0FQSVx1NEUzQlx1NjczQVx1NTczMFx1NTc0MFx1NjcyQVx1OTE0RFx1N0Y2RScpO1xuXHRcdH1cblx0XHRcblx0XHRjb25zdCB1cmwgPSBgJHtjdXJyZW50SG9zdH0vdjEvZHJhdy9yZXN1bHRgO1xuXHRcdC8vIGNvbnNvbGUubG9nKCdNYWtpbmcgcmVzdWx0IHJlcXVlc3QgdG86JywgdXJsLCAnd2l0aCBpZDonLCBpZCk7XG5cdFx0XG5cdFx0Y29uc3QgaGVhZGVycyA9IHtcblx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdFx0XHQnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnNldHRpbmdzLmFwaUtleX1gXG5cdFx0fTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0aGVhZGVyczogaGVhZGVycyxcblx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBpZCB9KVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0Y29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9LCBtZXNzYWdlOiAke2Vycm9yVGV4dH1gKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2OEMwXHU2N0U1QVBJXHU0RTFBXHU1MkExXHU5NTE5XHU4QkVGXG5cdFx0XHRpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU5NTE5XHU4QkVGXHU3ODAxXG5cdFx0XHRcdGlmIChkYXRhLmNvZGUgIT09IHVuZGVmaW5lZCAmJiBkYXRhLmNvZGUgIT09IDAgJiYgZGF0YS5jb2RlICE9PSAyMDApIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGRhdGEubXNnIHx8IGRhdGEubWVzc2FnZSB8fCAnXHU2NzJBXHU3N0U1XHU5NTE5XHU4QkVGJztcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEFQSVx1OTUxOVx1OEJFRiAoJHtkYXRhLmNvZGV9KTogJHtlcnJvck1zZ31gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU5NTE5XHU4QkVGXHU0RkUxXHU2MDZGXG5cdFx0XHRcdGlmIChkYXRhLmVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBBUElcdTk1MTlcdThCRUY6ICR7ZGF0YS5lcnJvcn1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRyZXR1cm4gZGF0YS5kYXRhIHx8IGRhdGE7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0dldCB2aWRlbyByZXN1bHQgZXJyb3I6JywgZXJyb3IpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFx1ODlDNlx1OTg5MVx1NzUxRlx1NjIxMFx1NkEyMVx1NjAwMVx1Njg0NlxuY2xhc3MgVmlkZW9HZW5lcmF0b3JNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cGx1Z2luOiBWaWRlb0dlbmVyYXRvclBsdWdpbjtcblx0aW5pdGlhbFByb21wdDogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFZpZGVvR2VuZXJhdG9yUGx1Z2luLCBpbml0aWFsUHJvbXB0OiBzdHJpbmcgPSAnJykge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdFx0dGhpcy5pbml0aWFsUHJvbXB0ID0gaW5pdGlhbFByb21wdDtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblxuXHRcdC8vIFx1OEJCRVx1N0Y2RVx1NkEyMVx1NjAwMVx1Njg0Nlx1NjgzN1x1NUYwRiAtIFx1ODFFQVx1OTAwMlx1NUU5NFx1NUM0Rlx1NUU1NVx1NTkyN1x1NUMwRlxuXHRcdGNvbnN0IHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0Y29uc3Qgc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHRcdFxuXHRcdC8vIFx1NjgzOVx1NjM2RVx1NUM0Rlx1NUU1NVx1NTkyN1x1NUMwRlx1NTJBOFx1NjAwMVx1OEMwM1x1NjU3NFx1NkEyMVx1NjAwMVx1Njg0Nlx1NUMzQVx1NUJGOFxuXHRcdGxldCBtb2RhbFdpZHRoID0gJzYwMHB4Jztcblx0XHRsZXQgbW9kYWxIZWlnaHQgPSAnYXV0byc7XG5cdFx0XG5cdFx0aWYgKHNjcmVlbldpZHRoIDw9IDc2OCkge1xuXHRcdFx0Ly8gXHU2MjRCXHU2NzNBXHU1QzRGXHU1RTU1XG5cdFx0XHRtb2RhbFdpZHRoID0gJzk1dncnO1xuXHRcdFx0bW9kYWxIZWlnaHQgPSAnOTB2aCc7XG5cdFx0fSBlbHNlIGlmIChzY3JlZW5XaWR0aCA8PSAxMDI0KSB7XG5cdFx0XHQvLyBcdTVFNzNcdTY3N0ZcdTVDNEZcdTVFNTVcblx0XHRcdG1vZGFsV2lkdGggPSAnODV2dyc7XG5cdFx0XHRtb2RhbEhlaWdodCA9ICc4NXZoJztcblx0XHR9IGVsc2UgaWYgKHNjcmVlbldpZHRoIDw9IDE0NDApIHtcblx0XHRcdC8vIFx1NUMwRlx1Njg0Q1x1OTc2Mlx1NUM0Rlx1NUU1NVxuXHRcdFx0bW9kYWxXaWR0aCA9ICc3NXZ3Jztcblx0XHRcdG1vZGFsSGVpZ2h0ID0gJzgwdmgnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBcdTU5MjdcdTY4NENcdTk3NjJcdTVDNEZcdTVFNTVcblx0XHRcdG1vZGFsV2lkdGggPSAnNjV2dyc7XG5cdFx0XHRtb2RhbEhlaWdodCA9ICc3NXZoJztcblx0XHR9XG5cdFx0XG5cdFx0Ly8gXHU1RTk0XHU3NTI4XHU3NTI4XHU2MjM3XHU4MUVBXHU1QjlBXHU0RTQ5XHU4QkJFXHU3RjZFXHVGRjA4XHU1OTgyXHU2NzlDXHU4QkJFXHU3RjZFXHU0RTg2XHU3Njg0XHU4QkREXHVGRjA5XG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGFsV2lkdGggJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kYWxXaWR0aCAhPT0gJzYwMHB4Jykge1xuXHRcdFx0bW9kYWxXaWR0aCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGFsV2lkdGg7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RhbEhlaWdodCAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RhbEhlaWdodCAhPT0gJ2F1dG8nKSB7XG5cdFx0XHRtb2RhbEhlaWdodCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGFsSGVpZ2h0O1xuXHRcdH1cblx0XHRcblx0XHRjb250ZW50RWwuc3R5bGUud2lkdGggPSBtb2RhbFdpZHRoO1xuXHRcdGNvbnRlbnRFbC5zdHlsZS5oZWlnaHQgPSBtb2RhbEhlaWdodDtcblx0XHRjb250ZW50RWwuc3R5bGUubWF4V2lkdGggPSAnOTV2dyc7XG5cdFx0Y29udGVudEVsLnN0eWxlLm1heEhlaWdodCA9ICc5NXZoJztcblx0XHRjb250ZW50RWwuc3R5bGUubWluV2lkdGggPSAnMzAwcHgnO1xuXHRcdGNvbnRlbnRFbC5zdHlsZS5taW5IZWlnaHQgPSAnNDAwcHgnO1xuXHRcdGNvbnRlbnRFbC5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XG5cdFx0Y29udGVudEVsLnN0eWxlLnBhZGRpbmcgPSAnMjBweCc7XG5cdFx0Y29udGVudEVsLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94Jztcblx0XHRjb250ZW50RWwuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2QTIxXHU2MDAxXHU2ODQ2XHU2ODA3XHU5ODk4XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0FJIFZpZGVvIEdlbmVyYXRvcicgfSk7XG5cblx0XHQvLyBcdTY4QzBcdTY3RTVBUElcdTVCQzZcdTk0QTVcblx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSkge1xuXHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IFxuXHRcdFx0XHR0ZXh0OiAnXHU4QkY3XHU1MTQ4XHU1NzI4XHU4QkJFXHU3RjZFXHU0RTJEXHU5MTREXHU3RjZFQVBJXHU1QkM2XHU5NEE1Jyxcblx0XHRcdFx0Y2xzOiAndmlkZW8tZ2VuZXJhdG9yLWVycm9yJ1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gXHU2M0QwXHU3OTNBXHU4QkNEXHU4RjkzXHU1MTY1XG5cdFx0Y29uc3QgcHJvbXB0Q29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigndmlkZW8tZ2VuZXJhdG9yLXByb21wdC1jb250YWluZXInKTtcblx0XHRwcm9tcHRDb250YWluZXIuc3R5bGUubWFyZ2luQm90dG9tID0gJzE1cHgnO1xuXHRcdGNvbnN0IHByb21wdExhYmVsID0gcHJvbXB0Q29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1ODlDNlx1OTg5MVx1NjNDRlx1OEZGMCAoUHJvbXB0KTonIH0pO1xuXHRcdHByb21wdExhYmVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdHByb21wdExhYmVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc1cHgnO1xuXHRcdHByb21wdExhYmVsLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdFx0Y29uc3QgcHJvbXB0SW5wdXQgPSBwcm9tcHRDb250YWluZXIuY3JlYXRlRWwoJ3RleHRhcmVhJywge1xuXHRcdFx0cGxhY2Vob2xkZXI6ICdcdTYzQ0ZcdThGRjBcdTYwQThcdTYwRjNcdTg5ODFcdTc1MUZcdTYyMTBcdTc2ODRcdTg5QzZcdTk4OTFcdTUxODVcdTVCQjkuLi4nLFxuXHRcdFx0dmFsdWU6IHRoaXMuaW5pdGlhbFByb21wdFxuXHRcdH0pO1xuXHRcdHByb21wdElucHV0LnNldEF0dHIoJ3Jvd3MnLCAnNCcpO1xuXHRcdHByb21wdElucHV0LnN0eWxlLndpZHRoID0gJzUwJSc7XG5cdFx0cHJvbXB0SW5wdXQuc3R5bGUubWF4V2lkdGggPSAnMTAwJSc7XG5cdFx0cHJvbXB0SW5wdXQuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuXHRcdHByb21wdElucHV0LnN0eWxlLnJlc2l6ZSA9ICd2ZXJ0aWNhbCc7XG5cdFx0cHJvbXB0SW5wdXQuc3R5bGUubWluSGVpZ2h0ID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzYwcHgnIDogJzgwcHgnO1xuXHRcdHByb21wdElucHV0LnN0eWxlLm1heEhlaWdodCA9IHNjcmVlbkhlaWdodCA8PSA2MDAgPyAnMTIwcHgnIDogJzIwMHB4Jztcblx0XHRwcm9tcHRJbnB1dC5zdHlsZS5wYWRkaW5nID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzZweCcgOiAnOHB4Jztcblx0XHRwcm9tcHRJbnB1dC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNkZGQnO1xuXHRcdHByb21wdElucHV0LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc0cHgnO1xuXHRcdHByb21wdElucHV0LnN0eWxlLmZvbnRTaXplID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzE0cHgnIDogJzE2cHgnO1xuXG5cdFx0Ly8gXHU1M0MyXHU4MDAzXHU1NkZFXHU3MjQ3VVJMXHU4RjkzXHU1MTY1XG5cdFx0Y29uc3QgaW1hZ2VDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItaW1hZ2UtY29udGFpbmVyJyk7XG5cdFx0aW1hZ2VDb250YWluZXIuc3R5bGUubWFyZ2luQm90dG9tID0gJzE1cHgnO1xuXHRcdGNvbnN0IGltYWdlTGFiZWwgPSBpbWFnZUNvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdcdTUzQzJcdTgwMDNcdTU2RkVcdTcyNDdVUkwgKFx1NTNFRlx1OTAwOSk6JyB9KTtcblx0XHRpbWFnZUxhYmVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdGltYWdlTGFiZWwuc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7XG5cdFx0aW1hZ2VMYWJlbC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRcdGNvbnN0IGltYWdlSW5wdXQgPSBpbWFnZUNvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRwbGFjZWhvbGRlcjogJ2h0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnJ1xuXHRcdH0pO1xuXHRcdGltYWdlSW5wdXQuc3R5bGUud2lkdGggPSAnNTAlJztcblx0XHRpbWFnZUlucHV0LnN0eWxlLm1heFdpZHRoID0gJzEwMCUnO1xuXHRcdGltYWdlSW5wdXQuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuXHRcdGltYWdlSW5wdXQuc3R5bGUucGFkZGluZyA9IHNjcmVlbldpZHRoIDw9IDc2OCA/ICc2cHgnIDogJzhweCc7XG5cdFx0aW1hZ2VJbnB1dC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNkZGQnO1xuXHRcdGltYWdlSW5wdXQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7XG5cdFx0aW1hZ2VJbnB1dC5zdHlsZS5mb250U2l6ZSA9IHNjcmVlbldpZHRoIDw9IDc2OCA/ICcxNHB4JyA6ICcxNnB4JztcblxuXHRcdC8vIFx1ODlDNlx1OTg5MVx1NTNDMlx1NjU3MFx1OEJCRVx1N0Y2RVxuXHRcdGNvbnN0IHBhcmFtc0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ3ZpZGVvLWdlbmVyYXRvci1wYXJhbXMtY29udGFpbmVyJyk7XG5cdFx0cGFyYW1zQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0cGFyYW1zQ29udGFpbmVyLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcblx0XHRwYXJhbXNDb250YWluZXIuc3R5bGUuZ2FwID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzE1cHgnIDogJzIwcHgnO1xuXHRcdHBhcmFtc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnMTVweCcgOiAnMjBweCc7XG5cdFx0XG5cdFx0Ly8gXHU2QTIxXHU1NzhCXHU5MDA5XHU2MkU5XG5cdFx0Y29uc3QgbW9kZWxDb250YWluZXIgPSBwYXJhbXNDb250YWluZXIuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItcGFyYW0nKTtcblx0XHRtb2RlbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXHRcdG1vZGVsQ29udGFpbmVyLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcblx0XHRjb25zdCBtb2RlbExhYmVsID0gbW9kZWxDb250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnQUlcdTZBMjFcdTU3OEI6JyB9KTtcblx0XHRtb2RlbExhYmVsLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdFx0bW9kZWxMYWJlbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNXB4Jztcblx0XHRjb25zdCBtb2RlbFNlbGVjdCA9IG1vZGVsQ29udGFpbmVyLmNyZWF0ZUVsKCdzZWxlY3QnKTtcblx0XHRtb2RlbFNlbGVjdC5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdG1vZGVsU2VsZWN0LnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94Jztcblx0XHRtb2RlbFNlbGVjdC5zdHlsZS5wYWRkaW5nID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzhweCcgOiAnMTJweCc7XG5cdFx0bW9kZWxTZWxlY3Quc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjZGRkJztcblx0XHRtb2RlbFNlbGVjdC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNHB4Jztcblx0XHRtb2RlbFNlbGVjdC5zdHlsZS5mb250U2l6ZSA9IHNjcmVlbldpZHRoIDw9IDc2OCA/ICcxNHB4JyA6ICcxNnB4Jztcblx0XHRtb2RlbFNlbGVjdC5zdHlsZS5taW5IZWlnaHQgPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnNDRweCcgOiAnNDhweCc7XG5cdFx0Y29uc3QgZW5hYmxlZE1vZGVscyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncy5maWx0ZXIobW9kZWwgPT4gbW9kZWwuZW5hYmxlZCk7XG5cdFx0Zm9yIChjb25zdCBtb2RlbCBvZiBlbmFibGVkTW9kZWxzKSB7XG5cdFx0XHRjb25zdCBvcHRpb24gPSBtb2RlbFNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB2YWx1ZTogbW9kZWwudmFsdWUsIHRleHQ6IG1vZGVsLm5hbWUgfSk7XG5cdFx0XHRpZiAobW9kZWwudmFsdWUgPT09IHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRNb2RlbCkge1xuXHRcdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1ODlDNlx1OTg5MVx1NkJENFx1NEY4QlxuXHRcdGNvbnN0IGFzcGVjdFJhdGlvQ29udGFpbmVyID0gcGFyYW1zQ29udGFpbmVyLmNyZWF0ZURpdigndmlkZW8tZ2VuZXJhdG9yLXBhcmFtJyk7XG5cdFx0YXNwZWN0UmF0aW9Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRhc3BlY3RSYXRpb0NvbnRhaW5lci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG5cdFx0Y29uc3QgYXNwZWN0UmF0aW9MYWJlbCA9IGFzcGVjdFJhdGlvQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1ODlDNlx1OTg5MVx1NkJENFx1NEY4QjonIH0pO1xuXHRcdGFzcGVjdFJhdGlvTGFiZWwuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0XHRhc3BlY3RSYXRpb0xhYmVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc1cHgnO1xuXHRcdGNvbnN0IGFzcGVjdFJhdGlvU2VsZWN0ID0gYXNwZWN0UmF0aW9Db250YWluZXIuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGFzcGVjdFJhdGlvU2VsZWN0LnN0eWxlLndpZHRoID0gJzUwJSc7XG5cdFx0YXNwZWN0UmF0aW9TZWxlY3Quc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuXHRcdGFzcGVjdFJhdGlvU2VsZWN0LnN0eWxlLnBhZGRpbmcgPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnOHB4JyA6ICcxMnB4Jztcblx0XHRhc3BlY3RSYXRpb1NlbGVjdC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNkZGQnO1xuXHRcdGFzcGVjdFJhdGlvU2VsZWN0LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc0cHgnO1xuXHRcdGFzcGVjdFJhdGlvU2VsZWN0LnN0eWxlLmZvbnRTaXplID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzE0cHgnIDogJzE2cHgnO1xuXHRcdGFzcGVjdFJhdGlvU2VsZWN0LnN0eWxlLm1pbkhlaWdodCA9IHNjcmVlbldpZHRoIDw9IDc2OCA/ICc0NHB4JyA6ICc0OHB4Jztcblx0XHRmb3IgKGNvbnN0IHJhdGlvIG9mIHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YWlsYWJsZUFzcGVjdFJhdGlvcykge1xuXHRcdFx0Y29uc3Qgb3B0aW9uID0gYXNwZWN0UmF0aW9TZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgXG5cdFx0XHRcdHZhbHVlOiByYXRpbywgXG5cdFx0XHRcdHRleHQ6IGAke3JhdGlvfSAke3RoaXMuZ2V0QXNwZWN0UmF0aW9EZXNjcmlwdGlvbihyYXRpbyl9YCBcblx0XHRcdH0pO1xuXHRcdFx0aWYgKHJhdGlvID09PSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0QXNwZWN0UmF0aW8pIHtcblx0XHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBcdTg5QzZcdTk4OTFcdTY1RjZcdTk1N0Zcblx0XHRjb25zdCBkdXJhdGlvbkNvbnRhaW5lciA9IHBhcmFtc0NvbnRhaW5lci5jcmVhdGVEaXYoJ3ZpZGVvLWdlbmVyYXRvci1wYXJhbScpO1xuXHRcdGR1cmF0aW9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0ZHVyYXRpb25Db250YWluZXIuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuXHRcdGNvbnN0IGR1cmF0aW9uTGFiZWwgPSBkdXJhdGlvbkNvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdcdTg5QzZcdTk4OTFcdTY1RjZcdTk1N0Y6JyB9KTtcblx0XHRkdXJhdGlvbkxhYmVsLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdFx0ZHVyYXRpb25MYWJlbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNXB4Jztcblx0XHRjb25zdCBkdXJhdGlvblNlbGVjdCA9IGR1cmF0aW9uQ29udGFpbmVyLmNyZWF0ZUVsKCdzZWxlY3QnKTtcblx0XHRkdXJhdGlvblNlbGVjdC5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdGR1cmF0aW9uU2VsZWN0LnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94Jztcblx0XHRkdXJhdGlvblNlbGVjdC5zdHlsZS5wYWRkaW5nID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzhweCcgOiAnMTJweCc7XG5cdFx0ZHVyYXRpb25TZWxlY3Quc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjZGRkJztcblx0XHRkdXJhdGlvblNlbGVjdC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNHB4Jztcblx0XHRkdXJhdGlvblNlbGVjdC5zdHlsZS5mb250U2l6ZSA9IHNjcmVlbldpZHRoIDw9IDc2OCA/ICcxNHB4JyA6ICcxNnB4Jztcblx0XHRkdXJhdGlvblNlbGVjdC5zdHlsZS5taW5IZWlnaHQgPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnNDRweCcgOiAnNDhweCc7XG5cdFx0Zm9yIChjb25zdCBkdXJhdGlvbiBvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmFpbGFibGVEdXJhdGlvbnMpIHtcblx0XHRcdGNvbnN0IG9wdGlvbiA9IGR1cmF0aW9uU2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IFxuXHRcdFx0XHR2YWx1ZTogZHVyYXRpb24udG9TdHJpbmcoKSwgXG5cdFx0XHRcdHRleHQ6IGAke2R1cmF0aW9ufVx1NzlEMmAgXG5cdFx0XHR9KTtcblx0XHRcdGlmIChkdXJhdGlvbiA9PT0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdER1cmF0aW9uKSB7XG5cdFx0XHRcdG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gXHU4OUM2XHU5ODkxXHU2RTA1XHU2NjcwXHU1RUE2XG5cdFx0Y29uc3Qgc2l6ZUNvbnRhaW5lciA9IHBhcmFtc0NvbnRhaW5lci5jcmVhdGVEaXYoJ3ZpZGVvLWdlbmVyYXRvci1wYXJhbScpO1xuXHRcdHNpemVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRzaXplQ29udGFpbmVyLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcblx0XHRjb25zdCBzaXplTGFiZWwgPSBzaXplQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1ODlDNlx1OTg5MVx1NkUwNVx1NjY3MFx1NUVBNjonIH0pO1xuXHRcdHNpemVMYWJlbC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRcdHNpemVMYWJlbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNXB4Jztcblx0XHRjb25zdCBzaXplU2VsZWN0ID0gc2l6ZUNvbnRhaW5lci5jcmVhdGVFbCgnc2VsZWN0Jyk7XG5cdFx0c2l6ZVNlbGVjdC5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdHNpemVTZWxlY3Quc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuXHRcdHNpemVTZWxlY3Quc3R5bGUucGFkZGluZyA9IHNjcmVlbldpZHRoIDw9IDc2OCA/ICc4cHgnIDogJzEycHgnO1xuXHRcdHNpemVTZWxlY3Quc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjZGRkJztcblx0XHRzaXplU2VsZWN0LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc0cHgnO1xuXHRcdHNpemVTZWxlY3Quc3R5bGUuZm9udFNpemUgPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnMTRweCcgOiAnMTZweCc7XG5cdFx0c2l6ZVNlbGVjdC5zdHlsZS5taW5IZWlnaHQgPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnNDRweCcgOiAnNDhweCc7XG5cdFx0Zm9yIChjb25zdCBzaXplIG9mIHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YWlsYWJsZVNpemVzKSB7XG5cdFx0XHRjb25zdCBvcHRpb24gPSBzaXplU2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IFxuXHRcdFx0XHR2YWx1ZTogc2l6ZSwgXG5cdFx0XHRcdHRleHQ6IGAke3RoaXMuZ2V0U2l6ZURlc2NyaXB0aW9uKHNpemUpfSAoJHtzaXplfSlgIFxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoc2l6ZSA9PT0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNpemUpIHtcblx0XHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBcdTc1MUZcdTYyMTBcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItYnV0dG9uLWNvbnRhaW5lcicpO1xuXHRcdGJ1dHRvbkNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4Jztcblx0XHRjb25zdCBnZW5lcmF0ZUJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHU3NTFGXHU2MjEwXHU4OUM2XHU5ODkxJyB9KTtcblx0XHRnZW5lcmF0ZUJ1dHRvbi5hZGRDbGFzcygndmlkZW8tZ2VuZXJhdG9yLWJ1dHRvbicpO1xuXHRcdGdlbmVyYXRlQnV0dG9uLnN0eWxlLnBhZGRpbmcgPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnOHB4IDIwcHgnIDogJzEwcHggMzBweCc7XG5cdFx0Z2VuZXJhdGVCdXR0b24uc3R5bGUuZm9udFNpemUgPSBzY3JlZW5XaWR0aCA8PSA3NjggPyAnMTRweCcgOiAnMTZweCc7XG5cdFx0Z2VuZXJhdGVCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM0Q0FGNTAnO1xuXHRcdGdlbmVyYXRlQnV0dG9uLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcblx0XHRnZW5lcmF0ZUJ1dHRvbi5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG5cdFx0Z2VuZXJhdGVCdXR0b24uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCc7XG5cdFx0Z2VuZXJhdGVCdXR0b24uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXHRcdGdlbmVyYXRlQnV0dG9uLnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggPD0gNzY4ID8gJzEwMCUnIDogJ2F1dG8nO1xuXHRcdGdlbmVyYXRlQnV0dG9uLnN0eWxlLm1pbkhlaWdodCA9IHNjcmVlbldpZHRoIDw9IDc2OCA/ICc0NHB4JyA6ICdhdXRvJztcblxuXHRcdC8vIFx1OEZEQlx1NUVBNlx1NjYzRVx1NzkzQVx1NTMzQVx1NTdERlxuXHRcdGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigndmlkZW8tZ2VuZXJhdG9yLXByb2dyZXNzLWNvbnRhaW5lcicpO1xuXHRcdHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0cHJvZ3Jlc3NDb250YWluZXIuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnO1xuXHRcdHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLm1heFdpZHRoID0gJzgwcHgnO1xuXHRcdHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjBmMGYwJztcblx0XHRwcm9ncmVzc0NvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNXB4Jztcblx0XHRwcm9ncmVzc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMjBweCc7XG5cdFx0cHJvZ3Jlc3NDb250YWluZXIuc3R5bGUud2lkdGggPSAnODBweCc7XG5cblx0XHQvLyBcdTdFRDNcdTY3OUNcdTY2M0VcdTc5M0FcdTUzM0FcdTU3REZcblx0XHRjb25zdCByZXN1bHRDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItcmVzdWx0LWNvbnRhaW5lcicpO1xuXHRcdHJlc3VsdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdHJlc3VsdENvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cdFx0cmVzdWx0Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7XG5cdFx0cmVzdWx0Q29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZThmNWU4Jztcblx0XHRyZXN1bHRDb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCc7XG5cdFx0cmVzdWx0Q29udGFpbmVyLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4JztcblxuXHRcdC8vIFx1NzUxRlx1NjIxMFx1NjMwOVx1OTRBRVx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlxuXHRcdGdlbmVyYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgcHJvbXB0ID0gcHJvbXB0SW5wdXQudmFsdWUudHJpbSgpO1xuXHRcdFx0aWYgKCFwcm9tcHQpIHtcblx0XHRcdFx0bmV3IE5vdGljZSgnXHU4QkY3XHU4RjkzXHU1MTY1XHU4OUM2XHU5ODkxXHU2M0NGXHU4RkYwJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gXHU2NjNFXHU3OTNBXHU4RkRCXHU1RUE2XHU1MzNBXHU1N0RGXG5cdFx0XHRwcm9ncmVzc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdHByb2dyZXNzQ29udGFpbmVyLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwidmlkZW8tZ2VuZXJhdG9yLXByb2dyZXNzXCI+XHU2QjYzXHU1NzI4XHU3NTFGXHU2MjEwXHU4OUM2XHU5ODkxLi4uPC9kaXY+Jztcblx0XHRcdHJlc3VsdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0Z2VuZXJhdGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0Z2VuZXJhdGVCdXR0b24udGV4dENvbnRlbnQgPSAnXHU3NTFGXHU2MjEwXHU0RTJELi4uJztcblxuXHRcdFx0Ly8gXHU4QkIwXHU1RjU1XHU1RjAwXHU1OUNCXHU2NUY2XHU5NUY0XHVGRjBDXHU3ODZFXHU0RkREXHU4RkRCXHU1RUE2XHU2NzYxXHU4MUYzXHU1QzExXHU2NjNFXHU3OTNBMlx1NzlEMlxuXHRcdFx0Y29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblx0XHRcdGNvbnN0IG1pbkRpc3BsYXlUaW1lID0gMjAwMDsgLy8gMlx1NzlEMlxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBcdTY3ODRcdTVFRkFcdThCRjdcdTZDNDJcdTUzQzJcdTY1NzBcblx0XHRcdFx0Y29uc3QgcmVxdWVzdDogVmlkZW9HZW5lcmF0aW9uUmVxdWVzdCA9IHtcblx0XHRcdFx0XHRtb2RlbDogbW9kZWxTZWxlY3QudmFsdWUsXG5cdFx0XHRcdFx0cHJvbXB0OiBwcm9tcHQsXG5cdFx0XHRcdFx0YXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvU2VsZWN0LnZhbHVlLFxuXHRcdFx0XHRcdGR1cmF0aW9uOiBwYXJzZUludChkdXJhdGlvblNlbGVjdC52YWx1ZSksXG5cdFx0XHRcdFx0c2l6ZTogc2l6ZVNlbGVjdC52YWx1ZSxcblx0XHRcdFx0XHRzaHV0UHJvZ3Jlc3M6IGZhbHNlXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NzA5XHU1M0MyXHU4MDAzXHU1NkZFXHU3MjQ3XG5cdFx0XHRcdGlmIChpbWFnZUlucHV0LnZhbHVlLnRyaW0oKSkge1xuXHRcdFx0XHRcdHJlcXVlc3QudXJsID0gaW1hZ2VJbnB1dC52YWx1ZS50cmltKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBcdThDMDNcdTc1MjhBUElcblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBsdWdpbi5nZW5lcmF0ZVZpZGVvKHJlcXVlc3QpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ01vZGFsIEFQSSBSZXNwb25zZTonLCByZXNwb25zZSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTU0Q0RcdTVFOTRcdTY4M0NcdTVGMEZcdTVFNzZcdTYzRDBcdTUzRDZcdTRFRkJcdTUyQTFJRFxuXHRcdFx0XHRsZXQgdGFza0lkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChyZXNwb25zZSAmJiB0eXBlb2YgcmVzcG9uc2UgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzcCA9IHJlc3BvbnNlIGFzIGFueTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY4MDdcdTUxQzZcdTY4M0NcdTVGMEY6IHtpZDogXCIuLi5cIn1cblx0XHRcdFx0XHRpZiAocmVzcC5pZCkge1xuXHRcdFx0XHRcdFx0dGFza0lkID0gcmVzcC5pZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU1RDRDXHU1OTU3XHU2ODNDXHU1RjBGOiB7ZGF0YToge2lkOiBcIi4uLlwifX1cblx0XHRcdFx0XHRlbHNlIGlmIChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLmlkKSB7XG5cdFx0XHRcdFx0XHR0YXNrSWQgPSByZXNwLmRhdGEuaWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NTE3Nlx1NEVENlx1NTNFRlx1ODBGRFx1NzY4NFx1NjgzQ1x1NUYwRlxuXHRcdFx0XHRcdGVsc2UgaWYgKHJlc3AudGFza19pZCkge1xuXHRcdFx0XHRcdFx0dGFza0lkID0gcmVzcC50YXNrX2lkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVkYXRhLnRhc2tfaWRcdTY4M0NcdTVGMEZcblx0XHRcdFx0XHRlbHNlIGlmIChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLnRhc2tfaWQpIHtcblx0XHRcdFx0XHRcdHRhc2tJZCA9IHJlc3AuZGF0YS50YXNrX2lkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVkYXRhLnRhc2tJZFx1NjgzQ1x1NUYwRlxuXHRcdFx0XHRcdGVsc2UgaWYgKHJlc3AuZGF0YSAmJiByZXNwLmRhdGEudGFza0lkKSB7XG5cdFx0XHRcdFx0XHR0YXNrSWQgPSByZXNwLmRhdGEudGFza0lkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygnUmVzcG9uc2Ugc3RydWN0dXJlOicsIHtcblx0XHRcdFx0XHQvLyBcdGhhc0lkOiAhIXJlc3AuaWQsXG5cdFx0XHRcdFx0Ly8gXHRoYXNEYXRhOiAhIXJlc3AuZGF0YSxcblx0XHRcdFx0XHQvLyBcdGRhdGFJZDogcmVzcC5kYXRhPy5pZCxcblx0XHRcdFx0XHQvLyBcdGRhdGFUYXNrSWQ6IHJlc3AuZGF0YT8udGFza0lkLFxuXHRcdFx0XHRcdC8vIFx0ZGF0YVRhc2tfaWQ6IHJlc3AuZGF0YT8udGFza19pZCxcblx0XHRcdFx0XHQvLyBcdGZ1bGxSZXNwb25zZTogcmVzcFxuXHRcdFx0XHRcdC8vIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAodGFza0lkKSB7XG5cdFx0XHRcdFx0Ly8gXHU1RjAwXHU1OUNCXHU4RjZFXHU4QkUyXHU3RUQzXHU2NzlDXG5cdFx0XHRcdFx0dGhpcy5wb2xsVmlkZW9SZXN1bHQodGFza0lkLCBwcm9ncmVzc0NvbnRhaW5lciwgcmVzdWx0Q29udGFpbmVyLCBnZW5lcmF0ZUJ1dHRvbiwgc3RhcnRUaW1lLCBtaW5EaXNwbGF5VGltZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gXHU2M0QwXHU0RjlCXHU2NkY0XHU4QkU2XHU3RUM2XHU3Njg0XHU5NTE5XHU4QkVGXHU0RkUxXHU2MDZGXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignVW5leHBlY3RlZCBBUEkgcmVzcG9uc2UgZm9ybWF0OicsIHJlc3BvbnNlKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBcdTVDMURcdThCRDVcdTRFQ0VkYXRhXHU0RTJEXHU2M0QwXHU1M0Q2XHU2NkY0XHU1OTFBXHU0RkUxXHU2MDZGXG5cdFx0XHRcdFx0Y29uc3QgcmVzcCA9IHJlc3BvbnNlIGFzIGFueTtcblx0XHRcdFx0XHRsZXQgZXJyb3JEZXRhaWxzID0gJyc7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKHJlc3AuZGF0YSkge1xuXHRcdFx0XHRcdFx0ZXJyb3JEZXRhaWxzID0gYFxcbkRhdGFcdTUxODVcdTVCQjk6ICR7SlNPTi5zdHJpbmdpZnkocmVzcC5kYXRhKX1gO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAocmVzcC5tc2cpIHtcblx0XHRcdFx0XHRcdGVycm9yRGV0YWlscyArPSBgXFxuXHU2RDg4XHU2MDZGOiAke3Jlc3AubXNnfWA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChyZXNwLmNvZGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0ZXJyb3JEZXRhaWxzICs9IGBcXG5cdTRFRTNcdTc4MDE6ICR7cmVzcC5jb2RlfWA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgXHU2NzJBXHU4M0I3XHU1M0Q2XHU1MjMwXHU0RUZCXHU1MkExSURcdTMwMDJBUElcdTU0Q0RcdTVFOTQ6ICR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpfSR7ZXJyb3JEZXRhaWxzfWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuXHRcdFx0XHRjb25zdCBmcmllbmRseU1lc3NhZ2UgPSB0aGlzLnBsdWdpbi5oYW5kbGVBcGlFcnJvcihlcnJvcik7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYFx1NzUxRlx1NjIxMFx1NTkzMVx1OEQyNTogJHtmcmllbmRseU1lc3NhZ2V9YCk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTc4NkVcdTRGRERcdTY3MDBcdTVDMEZcdTY2M0VcdTc5M0FcdTY1RjZcdTk1RjRcblx0XHRcdFx0Y29uc3QgZWxhcHNlZFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXHRcdFx0XHRpZiAoZWxhcHNlZFRpbWUgPCBtaW5EaXNwbGF5VGltZSkge1xuXHRcdFx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtaW5EaXNwbGF5VGltZSAtIGVsYXBzZWRUaW1lKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1NjYzRVx1NzkzQVx1OTUxOVx1OEJFRlx1NEZFMVx1NjA2RlxuXHRcdFx0XHRwcm9ncmVzc0NvbnRhaW5lci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cInZpZGVvLWdlbmVyYXRvci1lcnJvclwiPlx1NzUxRlx1NjIxMFx1NTkzMVx1OEQyNTogJHtmcmllbmRseU1lc3NhZ2V9PC9kaXY+YDtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1NjA2Mlx1NTkwRFx1NjMwOVx1OTRBRVx1NzJCNlx1NjAwMVxuXHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdTc1MUZcdTYyMTBcdTg5QzZcdTk4OTEnO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU0RTBEXHU4OTgxXHU5NjkwXHU4NUNGXHU4RkRCXHU1RUE2XHU1QkI5XHU1NjY4XHVGRjBDXHU4QkE5XHU3NTI4XHU2MjM3XHU3NzBCXHU1MjMwXHU5NTE5XHU4QkVGXHU0RkUxXHU2MDZGXG5cdFx0XHRcdC8vIHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBcdThGNkVcdThCRTJcdTg5QzZcdTk4OTFcdTc1MUZcdTYyMTBcdTdFRDNcdTY3OUNcblx0YXN5bmMgcG9sbFZpZGVvUmVzdWx0KGlkOiBzdHJpbmcsIHByb2dyZXNzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgcmVzdWx0Q29udGFpbmVyOiBIVE1MRWxlbWVudCwgZ2VuZXJhdGVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50LCBzdGFydFRpbWU6IG51bWJlciwgbWluRGlzcGxheVRpbWU6IG51bWJlcikge1xuXHRcdGxldCBwb2xsQ291bnQgPSAwO1xuXHRcdGNvbnN0IG1heEF0dGVtcHRzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWF4UG9sbGluZ0F0dGVtcHRzO1xuXHRcdFxuXHRcdGNvbnN0IHBvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcblx0XHRcdHBvbGxDb3VudCsrO1xuXHRcdFx0XG5cdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdThEODVcdThGQzdcdTY3MDBcdTU5MjdcdTVDMURcdThCRDVcdTZCMjFcdTY1NzBcblx0XHRcdGlmIChwb2xsQ291bnQgPiBtYXhBdHRlbXB0cykge1xuXHRcdFx0XHRjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG5cdFx0XHRcdHByb2dyZXNzQ29udGFpbmVyLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwidmlkZW8tZ2VuZXJhdG9yLWVycm9yXCI+XHU4RjZFXHU4QkUyXHU4RDg1XHU2NUY2XHVGRjBDXHU4QkY3XHU3QTBEXHU1NDBFXHU2MjRCXHU1MkE4XHU2OEMwXHU2N0U1XHU3RUQzXHU2NzlDPC9kaXY+YDtcblx0XHRcdFx0Z2VuZXJhdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0Z2VuZXJhdGVCdXR0b24udGV4dENvbnRlbnQgPSAnXHU3NTFGXHU2MjEwXHU4OUM2XHU5ODkxJztcblx0XHRcdFx0bmV3IE5vdGljZSgnXHU4RjZFXHU4QkUyXHU4RDg1XHU2NUY2XHVGRjBDXHU4QkY3XHU3QTBEXHU1NDBFXHU2MjRCXHU1MkE4XHU2OEMwXHU2N0U1XHU3RUQzXHU2NzlDJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ2V0VmlkZW9SZXN1bHQoaWQpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2REZCXHU1MkEwXHU4QzAzXHU4QkQ1XHU2NUU1XHU1RkQ3XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdWaWRlbyBnZW5lcmF0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU4RkRCXHU1RUE2IC0gXHU2REZCXHU1MkEwXHU1MkE4XHU3NTNCXHU2NTQ4XHU2NzlDXG5cdFx0XHRcdGNvbnN0IHByb2dyZXNzID0gcmVzdWx0LnByb2dyZXNzIHx8IDA7XG5cdFx0XHRcdGNvbnN0IHByb2dyZXNzVGV4dCA9IHByb2dyZXNzID4gMCA/IGBcdTc1MUZcdTYyMTBcdThGREJcdTVFQTY6ICR7cHJvZ3Jlc3N9JWAgOiAnXHU2QjYzXHU1NzI4XHU3NTFGXHU2MjEwXHU4OUM2XHU5ODkxLi4uJztcblx0XHRcdFx0cHJvZ3Jlc3NDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ2aWRlby1nZW5lcmF0b3ItcHJvZ3Jlc3NcIj4ke3Byb2dyZXNzVGV4dH0gKCR7cG9sbENvdW50fS8ke21heEF0dGVtcHRzfSk8L2Rpdj5gO1xuXG5cdFx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NzUxRlx1NjIxMFx1NzJCNlx1NjAwMSAtIFx1NjUyRlx1NjMwMVx1NTkxQVx1NzlDRFx1NzJCNlx1NjAwMVx1NUI1N1x1NkJCNVxuXHRcdFx0XHRjb25zdCBzdGF0dXMgPSByZXN1bHQuc3RhdHVzIHx8IHJlc3VsdC5zdGF0ZSB8fCByZXN1bHQudGFza19zdGF0dXM7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdWaWRlbyBnZW5lcmF0aW9uIHN0YXR1czonLCBzdGF0dXMsICdwcm9ncmVzczonLCBwcm9ncmVzcyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAoc3RhdHVzID09PSAnc3VjY2VlZGVkJyB8fCBzdGF0dXMgPT09ICdjb21wbGV0ZWQnIHx8IHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnIHx8IHByb2dyZXNzID09PSAxMDApIHtcblx0XHRcdFx0XHRjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gXHU3ODZFXHU0RkREXHU2NzAwXHU1QzBGXHU2NjNFXHU3OTNBXHU2NUY2XHU5NUY0XG5cdFx0XHRcdFx0Y29uc3QgZWxhcHNlZFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXHRcdFx0XHRcdGlmIChlbGFwc2VkVGltZSA8IG1pbkRpc3BsYXlUaW1lKSB7XG5cdFx0XHRcdFx0XHRwcm9ncmVzc0NvbnRhaW5lci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cInZpZGVvLWdlbmVyYXRvci1wcm9ncmVzc1wiPlx1NzUxRlx1NjIxMFx1NUI4Q1x1NjIxMFx1RkYwQ1x1NkI2M1x1NTcyOFx1NTkwNFx1NzQwNi4uLjwvZGl2PmA7XG5cdFx0XHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWluRGlzcGxheVRpbWUgLSBlbGFwc2VkVGltZSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHR0aGlzLnNob3dWaWRlb1Jlc3VsdChyZXN1bHQsIHJlc3VsdENvbnRhaW5lcik7XG5cdFx0XHRcdFx0Z2VuZXJhdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdTc1MUZcdTYyMTBcdTg5QzZcdTk4OTEnO1xuXHRcdFx0XHRcdHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU2MjEwXHU1MjlGXHVGRjAxJyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZmFpbGVkJyB8fCBzdGF0dXMgPT09ICdlcnJvcicpIHtcblx0XHRcdFx0XHRjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG5cdFx0XHRcdFx0Y29uc3QgZXJyb3JNc2cgPSByZXN1bHQuZmFpbHVyZV9yZWFzb24gfHwgcmVzdWx0LmVycm9yIHx8IHJlc3VsdC5tZXNzYWdlIHx8ICdcdTY3MkFcdTc3RTVcdTk1MTlcdThCRUYnO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFx1Nzg2RVx1NEZERFx1NjcwMFx1NUMwRlx1NjYzRVx1NzkzQVx1NjVGNlx1OTVGNFxuXHRcdFx0XHRcdGNvbnN0IGVsYXBzZWRUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblx0XHRcdFx0XHRpZiAoZWxhcHNlZFRpbWUgPCBtaW5EaXNwbGF5VGltZSkge1xuXHRcdFx0XHRcdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1pbkRpc3BsYXlUaW1lIC0gZWxhcHNlZFRpbWUpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0cHJvZ3Jlc3NDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ2aWRlby1nZW5lcmF0b3ItZXJyb3JcIj5cdTc1MUZcdTYyMTBcdTU5MzFcdThEMjU6ICR7ZXJyb3JNc2d9PC9kaXY+YDtcblx0XHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdGdlbmVyYXRlQnV0dG9uLnRleHRDb250ZW50ID0gJ1x1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MSc7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgXHU3NTFGXHU2MjEwXHU1OTMxXHU4RDI1OiAke2Vycm9yTXNnfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdQb2xsaW5nIGVycm9yOicsIGVycm9yKTtcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU3ODZFXHU0RkREXHU2NzAwXHU1QzBGXHU2NjNFXHU3OTNBXHU2NUY2XHU5NUY0XG5cdFx0XHRcdGNvbnN0IGVsYXBzZWRUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblx0XHRcdFx0aWYgKGVsYXBzZWRUaW1lIDwgbWluRGlzcGxheVRpbWUpIHtcblx0XHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWluRGlzcGxheVRpbWUgLSBlbGFwc2VkVGltZSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTY2M0VcdTc5M0FcdTk1MTlcdThCRUZcdTRGRTFcdTYwNkZcblx0XHRcdFx0cHJvZ3Jlc3NDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ2aWRlby1nZW5lcmF0b3ItZXJyb3JcIj5cdTgzQjdcdTUzRDZcdTdFRDNcdTY3OUNcdTU5MzFcdThEMjU6ICR7ZXJyb3IubWVzc2FnZX08L2Rpdj5gO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2MDYyXHU1OTBEXHU2MzA5XHU5NEFFXHU3MkI2XHU2MDAxXG5cdFx0XHRcdGdlbmVyYXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG5cdFx0XHRcdGdlbmVyYXRlQnV0dG9uLnRleHRDb250ZW50ID0gJ1x1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MSc7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTRFMERcdTg5ODFcdTk2OTBcdTg1Q0ZcdThGREJcdTVFQTZcdTVCQjlcdTU2NjhcdUZGMENcdThCQTlcdTc1MjhcdTYyMzdcdTc3MEJcdTUyMzBcdTk1MTlcdThCRUZcdTRGRTFcdTYwNkZcblx0XHRcdFx0Ly8gcHJvZ3Jlc3NDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdH1cblx0XHR9LCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wb2xsaW5nSW50ZXJ2YWwpO1xuXHR9XG5cblx0Ly8gXHU2M0QwXHU1M0Q2XHU4OUM2XHU5ODkxVVJMXHU3Njg0XHU5MDFBXHU3NTI4XHU1MUZEXHU2NTcwXG5cdGV4dHJhY3RWaWRlb1VybChyZXN1bHQ6IGFueSk6IHN0cmluZyB8IG51bGwge1xuXHRcdGNvbnNvbGUubG9nKCdFeHRyYWN0aW5nIHZpZGVvIFVSTCBmcm9tIHJlc3VsdDonLCByZXN1bHQpO1xuXHRcdFxuXHRcdC8vIFx1NUUzOFx1ODlDMVx1NzY4NFx1ODlDNlx1OTg5MVVSTFx1NUI1N1x1NkJCNVx1NTQwRFxuXHRcdGNvbnN0IHBvc3NpYmxlRmllbGRzID0gW1xuXHRcdFx0J3ZpZGVvX3VybCcsICd2aWRlb1VybCcsICd1cmwnLCAndmlkZW8nLCAnb3V0cHV0X3VybCcsICdvdXRwdXRVcmwnLFxuXHRcdFx0J2ZpbGVfdXJsJywgJ2ZpbGVVcmwnLCAnZG93bmxvYWRfdXJsJywgJ2Rvd25sb2FkVXJsJywgJ21lZGlhX3VybCcsICdtZWRpYVVybCdcblx0XHRdO1xuXHRcdFxuXHRcdC8vIFx1NjhDMFx1NjdFNVx1OTg3Nlx1N0VBN1x1NUI1N1x1NkJCNVxuXHRcdGZvciAoY29uc3QgZmllbGQgb2YgcG9zc2libGVGaWVsZHMpIHtcblx0XHRcdGlmIChyZXN1bHRbZmllbGRdICYmIHR5cGVvZiByZXN1bHRbZmllbGRdID09PSAnc3RyaW5nJyAmJiByZXN1bHRbZmllbGRdLnRyaW0oKSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgRm91bmQgdmlkZW8gVVJMIGluIGZpZWxkICcke2ZpZWxkfSc6YCwgcmVzdWx0W2ZpZWxkXSk7XG5cdFx0XHRcdHJldHVybiByZXN1bHRbZmllbGRdLnRyaW0oKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gXHU2OEMwXHU2N0U1XHU1RDRDXHU1OTU3XHU1QkY5XHU4QzYxXG5cdFx0Y29uc3QgbmVzdGVkT2JqZWN0cyA9IFsnZGF0YScsICdyZXN1bHQnLCAncmVzcG9uc2UnLCAnb3V0cHV0JywgJ2ZpbGUnLCAnbWVkaWEnXTtcblx0XHRmb3IgKGNvbnN0IG9iaktleSBvZiBuZXN0ZWRPYmplY3RzKSB7XG5cdFx0XHRpZiAocmVzdWx0W29iaktleV0gJiYgdHlwZW9mIHJlc3VsdFtvYmpLZXldID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIHBvc3NpYmxlRmllbGRzKSB7XG5cdFx0XHRcdFx0aWYgKHJlc3VsdFtvYmpLZXldW2ZpZWxkXSAmJiB0eXBlb2YgcmVzdWx0W29iaktleV1bZmllbGRdID09PSAnc3RyaW5nJyAmJiByZXN1bHRbb2JqS2V5XVtmaWVsZF0udHJpbSgpKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgRm91bmQgdmlkZW8gVVJMIGluICcke29iaktleX0uJHtmaWVsZH0nOmAsIHJlc3VsdFtvYmpLZXldW2ZpZWxkXSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0W29iaktleV1bZmllbGRdLnRyaW0oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gXHU2OEMwXHU2N0U1XHU2NTcwXHU3RUM0XHU3RUQzXHU2NzlDXG5cdFx0aWYgKHJlc3VsdC5yZXN1bHRzICYmIEFycmF5LmlzQXJyYXkocmVzdWx0LnJlc3VsdHMpICYmIHJlc3VsdC5yZXN1bHRzLmxlbmd0aCA+IDApIHtcblx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiByZXN1bHQucmVzdWx0cykge1xuXHRcdFx0XHRpZiAoaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIHBvc3NpYmxlRmllbGRzKSB7XG5cdFx0XHRcdFx0XHRpZiAoaXRlbVtmaWVsZF0gJiYgdHlwZW9mIGl0ZW1bZmllbGRdID09PSAnc3RyaW5nJyAmJiBpdGVtW2ZpZWxkXS50cmltKCkpIHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYEZvdW5kIHZpZGVvIFVSTCBpbiByZXN1bHRzW10uJHtmaWVsZH06YCwgaXRlbVtmaWVsZF0pO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaXRlbVtmaWVsZF0udHJpbSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBcdTY4QzBcdTY3RTVmaWxlc1x1NjU3MFx1N0VDNFxuXHRcdGlmIChyZXN1bHQuZmlsZXMgJiYgQXJyYXkuaXNBcnJheShyZXN1bHQuZmlsZXMpICYmIHJlc3VsdC5maWxlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgcmVzdWx0LmZpbGVzKSB7XG5cdFx0XHRcdGlmIChmaWxlICYmIHR5cGVvZiBmaWxlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgZmllbGQgb2YgcG9zc2libGVGaWVsZHMpIHtcblx0XHRcdFx0XHRcdGlmIChmaWxlW2ZpZWxkXSAmJiB0eXBlb2YgZmlsZVtmaWVsZF0gPT09ICdzdHJpbmcnICYmIGZpbGVbZmllbGRdLnRyaW0oKSkge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgRm91bmQgdmlkZW8gVVJMIGluIGZpbGVzW10uJHtmaWVsZH06YCwgZmlsZVtmaWVsZF0pO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmlsZVtmaWVsZF0udHJpbSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRjb25zb2xlLmxvZygnTm8gdmlkZW8gVVJMIGZvdW5kIGluIHJlc3VsdCcpO1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gXHU2NjNFXHU3OTNBXHU4OUM2XHU5ODkxXHU3RUQzXHU2NzlDXG5cdHNob3dWaWRlb1Jlc3VsdChyZXN1bHQ6IFZpZGVvR2VuZXJhdGlvblJlc3BvbnNlLCByZXN1bHRDb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG5cdFx0Y29uc29sZS5sb2coJz09PSBcdTZBMjFcdTYwMDFcdTY4NDZcdTg5QzZcdTk4OTFcdTdFRDNcdTY3OUNcdThDMDNcdThCRDUgPT09Jyk7XG5cdFx0Y29uc29sZS5sb2coJ1Jlc3VsdCBvYmplY3Q6JywgcmVzdWx0KTtcblx0XHRjb25zb2xlLmxvZygnUmVzdWx0IHR5cGU6JywgdHlwZW9mIHJlc3VsdCk7XG5cdFx0Y29uc29sZS5sb2coJ1Jlc3VsdCBrZXlzOicsIE9iamVjdC5rZXlzKHJlc3VsdCB8fCB7fSkpO1xuXHRcdFxuXHRcdHJlc3VsdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRyZXN1bHRDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cblx0XHQvLyBcdTRGN0ZcdTc1MjhcdTkwMUFcdTc1MjhcdTUxRkRcdTY1NzBcdTYzRDBcdTUzRDZcdTg5QzZcdTk4OTFVUkwgLSBcdTc2RjRcdTYzQTVcdTVCOUVcdTczQjBcblx0XHRsZXQgdmlkZW9Vcmw6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2NTJGXHU2MzAxXHU1OTFBXHU3OUNEXHU1QjU3XHU2QkI1XHU1NDBEXHU1NDhDXHU1RDRDXHU1OTU3XHU3RUQzXHU2Nzg0XG5cdFx0XHRcdGNvbnN0IHBvc3NpYmxlRmllbGRzID0gW1xuXHRcdFx0XHRcdCd2aWRlb191cmwnLCAndmlkZW9VcmwnLCAndXJsJywgJ3ZpZGVvJywgJ291dHB1dF91cmwnLCAnZmlsZV91cmwnLFxuXHRcdFx0XHRcdCd2aWRlb1VybCcsICd2aWRlb19wYXRoJywgJ2Rvd25sb2FkX3VybCcsICdtZWRpYV91cmwnXG5cdFx0XHRcdF07XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTc2RjRcdTYzQTVcdTVCNTdcdTZCQjVcblx0XHRcdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBwb3NzaWJsZUZpZWxkcykge1xuXHRcdFx0XHRcdGlmIChyZXN1bHRbZmllbGRdICYmIHR5cGVvZiByZXN1bHRbZmllbGRdID09PSAnc3RyaW5nJyAmJiByZXN1bHRbZmllbGRdLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuXHRcdFx0XHRcdFx0dmlkZW9VcmwgPSByZXN1bHRbZmllbGRdO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYEZvdW5kIHZpZGVvIFVSTCBpbiBmaWVsZCAnJHtmaWVsZH0nOmAsIHZpZGVvVXJsKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU1RDRDXHU1OTU3XHU1QkY5XHU4QzYxXG5cdFx0XHRcdGlmICghdmlkZW9VcmwpIHtcblx0XHRcdFx0XHRjb25zdCBuZXN0ZWRPYmplY3RzID0gWydkYXRhJywgJ3Jlc3VsdCcsICdvdXRwdXQnLCAnZmlsZScsICdyZXNwb25zZSddO1xuXHRcdFx0XHRcdGZvciAoY29uc3Qgb2JqIG9mIG5lc3RlZE9iamVjdHMpIHtcblx0XHRcdFx0XHRcdGlmIChyZXN1bHRbb2JqXSAmJiB0eXBlb2YgcmVzdWx0W29ial0gPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgZmllbGQgb2YgcG9zc2libGVGaWVsZHMpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAocmVzdWx0W29ial1bZmllbGRdICYmIHR5cGVvZiByZXN1bHRbb2JqXVtmaWVsZF0gPT09ICdzdHJpbmcnICYmIHJlc3VsdFtvYmpdW2ZpZWxkXS5zdGFydHNXaXRoKCdodHRwJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvVXJsID0gcmVzdWx0W29ial1bZmllbGRdO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYEZvdW5kIHZpZGVvIFVSTCBpbiBuZXN0ZWQgZmllbGQgJyR7b2JqfS4ke2ZpZWxkfSc6YCwgdmlkZW9VcmwpO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmICh2aWRlb1VybCkgYnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY1NzBcdTdFQzRcdTdFRDNcdTY3OUNcblx0XHRcdFx0aWYgKCF2aWRlb1VybCkge1xuXHRcdFx0XHRcdGNvbnN0IGFycmF5RmllbGRzID0gWydyZXN1bHRzJywgJ2ZpbGVzJywgJ3ZpZGVvcycsICdkYXRhJ107XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBhcnJheUZpZWxkcykge1xuXHRcdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocmVzdWx0W2ZpZWxkXSkgJiYgcmVzdWx0W2ZpZWxkXS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZpcnN0SXRlbSA9IHJlc3VsdFtmaWVsZF1bMF07XG5cdFx0XHRcdFx0XHRcdGlmIChmaXJzdEl0ZW0gJiYgdHlwZW9mIGZpcnN0SXRlbSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHVybEZpZWxkIG9mIHBvc3NpYmxlRmllbGRzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZmlyc3RJdGVtW3VybEZpZWxkXSAmJiB0eXBlb2YgZmlyc3RJdGVtW3VybEZpZWxkXSA9PT0gJ3N0cmluZycgJiYgZmlyc3RJdGVtW3VybEZpZWxkXS5zdGFydHNXaXRoKCdodHRwJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9VcmwgPSBmaXJzdEl0ZW1bdXJsRmllbGRdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgRm91bmQgdmlkZW8gVVJMIGluIGFycmF5IGZpZWxkICcke2ZpZWxkfVswXS4ke3VybEZpZWxkfSc6YCwgdmlkZW9VcmwpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHZpZGVvVXJsKSBicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcblx0XHRjb25zb2xlLmxvZygnRmluYWwgdmlkZW8gVVJMOicsIHZpZGVvVXJsKTtcblx0XHRjb25zb2xlLmxvZygnVmlkZW9VcmwgdHlwZTonLCB0eXBlb2YgdmlkZW9VcmwpO1xuXHRcdGNvbnNvbGUubG9nKCdWaWRlb1VybCBsZW5ndGg6JywgdmlkZW9VcmwgPyB2aWRlb1VybC5sZW5ndGggOiAnTi9BJyk7XG5cblx0XHRpZiAodmlkZW9VcmwgJiYgdmlkZW9VcmwgIT09ICd1bmRlZmluZWQnICYmIHZpZGVvVXJsLnRyaW0oKSAhPT0gJycpIHtcblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1ODlDNlx1OTg5MVx1OTg4NFx1ODlDOFxuXHRcdFx0Y29uc3QgdmlkZW9FbGVtZW50ID0gcmVzdWx0Q29udGFpbmVyLmNyZWF0ZUVsKCd2aWRlbycpIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XG5cdFx0XHRjb25zb2xlLmxvZygnU2V0dGluZyB2aWRlbyBzcmMgdG86JywgdmlkZW9VcmwpO1xuXHRcdFx0dmlkZW9FbGVtZW50LnNyYyA9IHZpZGVvVXJsO1xuXHRcdFx0dmlkZW9FbGVtZW50LmNvbnRyb2xzID0gdHJ1ZTtcblx0XHRcdHZpZGVvRWxlbWVudC5zdHlsZS53aWR0aCA9ICc4MHB4Jztcblx0XHRcdHZpZGVvRWxlbWVudC5zdHlsZS5taW5XaWR0aCA9ICc4MHB4Jztcblx0XHRcdHZpZGVvRWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9ICc4MHB4Jztcblx0XHRcdHZpZGVvRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuXHRcdFx0Ly8gXHU1MjFCXHU1RUZBXHU0RTBCXHU4RjdEXHU2MzA5XHU5NEFFXG5cdFx0XHRjb25zdCBkb3dubG9hZEJ1dHRvbiA9IHJlc3VsdENvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHU0RTBCXHU4RjdEXHU1MjMwIGFpdmlvZGUgXHU2NTg3XHU0RUY2XHU1OTM5JyB9KTtcblx0XHRcdGRvd25sb2FkQnV0dG9uLmFkZENsYXNzKCd2aWRlby1nZW5lcmF0b3ItZG93bmxvYWQtYnV0dG9uJyk7XG5cdFx0XHRkb3dubG9hZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCBsb2NhbFBhdGggPSBhd2FpdCB0aGlzLnBsdWdpbi5kb3dubG9hZFZpZGVvKHZpZGVvVXJsLCAnZ2VuZXJhdGVkLXZpZGVvJyk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgXHU4OUM2XHU5ODkxXHU1REYyXHU0RTBCXHU4RjdEXHU1MjMwOiAke2xvY2FsUGF0aH1gKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdTRFMEJcdThGN0RcdTU5MzFcdThEMjU6ICcgKyBlcnJvci5tZXNzYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1NjNEMlx1NTE2NVx1NTIzMFx1N0IxNFx1OEJCMFx1NjMwOVx1OTRBRVxuXHRcdFx0Y29uc3QgaW5zZXJ0QnV0dG9uID0gcmVzdWx0Q29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTRFMEJcdThGN0RcdTVFNzZcdTYzRDJcdTUxNjVcdTUyMzBcdTVGNTNcdTUyNERcdTdCMTRcdThCQjAnIH0pO1xuXHRcdFx0aW5zZXJ0QnV0dG9uLmFkZENsYXNzKCd2aWRlby1nZW5lcmF0b3ItaW5zZXJ0LWJ1dHRvbicpO1xuXHRcdFx0aW5zZXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IGxvY2FsUGF0aCA9IGF3YWl0IHRoaXMucGx1Z2luLmRvd25sb2FkVmlkZW8odmlkZW9VcmwsICdnZW5lcmF0ZWQtdmlkZW8nKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmluc2VydFZpZGVvVG9Ob3RlKGxvY2FsUGF0aCk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnXHU4OUM2XHU5ODkxXHU1REYyXHU0RTBCXHU4RjdEXHU1RTc2XHU2M0QyXHU1MTY1XHU1MjMwXHU3QjE0XHU4QkIwXHU0RTJEJyk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnXHU0RTBCXHU4RjdEXHU2MjE2XHU2M0QyXHU1MTY1XHU1OTMxXHU4RDI1OiAnICsgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTYyN0VcdTUyMzBcdTg5QzZcdTk4OTFVUkxcdUZGMENcdTY2M0VcdTc5M0FcdThDMDNcdThCRDVcdTRGRTFcdTYwNkZcblx0XHRcdHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ2aWRlby1nZW5lcmF0b3ItZXJyb3JcIj5cblx0XHRcdFx0XHRcdTY3MkFcdTYyN0VcdTUyMzBcdTg5QzZcdTk4OTFVUkxcdUZGMENcdThCRjdcdTY4QzBcdTY3RTVBUElcdTU0Q0RcdTVFOTRcdTdFRDNcdTY3ODQ8YnI+XG5cdFx0XHRcdFx0PGRldGFpbHM+XG5cdFx0XHRcdFx0XHQ8c3VtbWFyeT5cdThDMDNcdThCRDVcdTRGRTFcdTYwNkY8L3N1bW1hcnk+XG5cdFx0XHRcdFx0XHQ8cHJlPiR7SlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKX08L3ByZT5cblx0XHRcdFx0XHQ8L2RldGFpbHM+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHR9XG5cdH1cblxuXHQvLyBcdTYzRDJcdTUxNjVcdTg5QzZcdTk4OTFcdTUyMzBcdTVGNTNcdTUyNERcdTdCMTRcdThCQjBcblx0YXN5bmMgaW5zZXJ0VmlkZW9Ub05vdGUodmlkZW9QYXRoOiBzdHJpbmcpIHtcblx0XHRjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRpZiAoYWN0aXZlVmlldykge1xuXHRcdFx0Y29uc3QgZWRpdG9yID0gYWN0aXZlVmlldy5lZGl0b3I7XG5cdFx0XHQvLyBcdTUzRUFcdTRGN0ZcdTc1MjhcdTY1ODdcdTRFRjZcdTU0MERcdUZGMENcdTRFMERcdTUzMDVcdTU0MkJcdThERUZcdTVGODRcblx0XHRcdGNvbnN0IGZpbGVOYW1lID0gdmlkZW9QYXRoLnNwbGl0KCcvJykucG9wKCkgfHwgdmlkZW9QYXRoO1xuXHRcdFx0Ly8gXHU0RjdGXHU3NTI4IE9ic2lkaWFuIFx1NjgwN1x1NTFDNlx1NzY4NFx1ODlDNlx1OTg5MVx1NUYxNVx1NzUyOFx1NjgzQ1x1NUYwRiAhW1tmaWxlbmFtZS5tcDRdXVxuXHRcdFx0Y29uc3QgdmlkZW9NYXJrZG93biA9IGBcXG5cXG4hW1ske2ZpbGVOYW1lfV1dXFxuXFxuYDtcblx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKHZpZGVvTWFya2Rvd24pO1xuXHRcdFx0bmV3IE5vdGljZSgnXHU4OUM2XHU5ODkxXHU1REYyXHU2M0QyXHU1MTY1XHU1MjMwXHU3QjE0XHU4QkIwXHU0RTJEJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ldyBOb3RpY2UoJ1x1OEJGN1x1NTE0OFx1NjI1M1x1NUYwMFx1NEUwMFx1NEUyQVx1N0IxNFx1OEJCMFx1NjU4N1x1NEVGNicpO1xuXHRcdH1cblx0fVxuXG5cblx0Ly8gXHU4M0I3XHU1M0Q2XHU2QkQ0XHU0RjhCXHU2M0NGXHU4RkYwXG5cdGdldEFzcGVjdFJhdGlvRGVzY3JpcHRpb24ocmF0aW86IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgZGVzY3JpcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuXHRcdFx0JzE2OjknOiAnKFx1NkEyQVx1NUM0RiknLFxuXHRcdFx0Jzk6MTYnOiAnKFx1N0FENlx1NUM0RiknLFxuXHRcdFx0JzE6MSc6ICcoXHU2QjYzXHU2NUI5XHU1RjYyKScsXG5cdFx0XHQnNDozJzogJyhcdTRGMjBcdTdFREYpJyxcblx0XHRcdCczOjQnOiAnKFx1N0FENlx1NUM0Rlx1NEYyMFx1N0VERiknXG5cdFx0fTtcblx0XHRyZXR1cm4gZGVzY3JpcHRpb25zW3JhdGlvXSB8fCAnJztcblx0fVxuXG5cdC8vIFx1ODNCN1x1NTNENlx1NUMzQVx1NUJGOFx1NjNDRlx1OEZGMFxuXHRnZXRTaXplRGVzY3JpcHRpb24oc2l6ZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBkZXNjcmlwdGlvbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG5cdFx0XHQnc21hbGwnOiAnXHU2ODA3XHU1MUM2Jyxcblx0XHRcdCdtZWRpdW0nOiAnXHU0RTJEXHU3QjQ5Jyxcblx0XHRcdCdsYXJnZSc6ICdcdTlBRDhcdTZFMDUnXG5cdFx0fTtcblx0XHRyZXR1cm4gZGVzY3JpcHRpb25zW3NpemVdIHx8IHNpemU7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG5cbi8vIFx1ODlDNlx1OTg5MVx1NzUxRlx1NjIxMFx1NEZBN1x1OEZCOVx1NjgwRlx1ODlDNlx1NTZGRVxuY2xhc3MgVmlkZW9HZW5lcmF0b3JWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRwbHVnaW46IFZpZGVvR2VuZXJhdG9yUGx1Z2luO1xuXHRpbml0aWFsUHJvbXB0OiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBWaWRlb0dlbmVyYXRvclBsdWdpbiwgaW5pdGlhbFByb21wdDogc3RyaW5nID0gJycpIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0XHR0aGlzLmluaXRpYWxQcm9tcHQgPSBpbml0aWFsUHJvbXB0O1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gJ3ZpZGVvLWdlbmVyYXRvci12aWV3Jztcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICdBSSBWaWRlbyBHZW5lcmF0b3InO1xuXHR9XG5cblx0Z2V0SWNvbigpOiBzdHJpbmcge1xuXHRcdHJldHVybiAndmlkZW8nO1xuXHR9XG5cblx0YXN5bmMgb25PcGVuKCkge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblx0XHRjb250YWluZXJFbC5hZGRDbGFzcygndmlkZW8tZ2VuZXJhdG9yLXNpZGViYXInKTtcblxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NEZBN1x1OEZCOVx1NjgwRlx1NjgwN1x1OTg5OFxuXHRcdGNvbnN0IGhlYWRlckVsID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItaGVhZGVyJyk7XG5cdFx0aGVhZGVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQUkgVmlkZW8gR2VuZXJhdG9yJyB9KTtcblxuXHRcdC8vIFx1NjhDMFx1NjdFNUFQSVx1NUJDNlx1OTRBNVxuXHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5KSB7XG5cdFx0XHRjb25zdCBlcnJvckVsID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItZXJyb3InKTtcblx0XHRcdGVycm9yRWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdcdThCRjdcdTUxNDhcdTU3MjhcdThCQkVcdTdGNkVcdTRFMkRcdTkxNERcdTdGNkVBUElcdTVCQzZcdTk0QTUnIH0pO1xuXHRcdFx0Y29uc3Qgc2V0dGluZ3NCdG4gPSBlcnJvckVsLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTYyNTNcdTVGMDBcdThCQkVcdTdGNkUnIH0pO1xuXHRcdFx0c2V0dGluZ3NCdG4uYWRkQ2xhc3MoJ3ZpZGVvLWdlbmVyYXRvci1idXR0b24nKTtcblx0XHRcdHNldHRpbmdzQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdCh0aGlzLmFwcCBhcyBhbnkpLnNldHRpbmcub3BlbigpO1xuXHRcdFx0XHQodGhpcy5hcHAgYXMgYW55KS5zZXR0aW5nLm9wZW5UYWJCeUlkKHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkKTtcblx0XHRcdH07XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gXHU2M0QwXHU3OTNBXHU4QkNEXHU4RjkzXHU1MTY1XG5cdFx0Y29uc3QgcHJvbXB0Q29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItcHJvbXB0LWNvbnRhaW5lcicpO1xuXHRcdGNvbnN0IHByb21wdExhYmVsID0gcHJvbXB0Q29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1ODlDNlx1OTg5MVx1NjNDRlx1OEZGMCAoUHJvbXB0KTonIH0pO1xuXHRcdGNvbnN0IHByb21wdElucHV0ID0gcHJvbXB0Q29udGFpbmVyLmNyZWF0ZUVsKCd0ZXh0YXJlYScsIHtcblx0XHRcdHBsYWNlaG9sZGVyOiAnXHU2M0NGXHU4RkYwXHU2MEE4XHU2MEYzXHU4OTgxXHU3NTFGXHU2MjEwXHU3Njg0XHU4OUM2XHU5ODkxXHU1MTg1XHU1QkI5Li4uJyxcblx0XHRcdHZhbHVlOiB0aGlzLmluaXRpYWxQcm9tcHRcblx0XHR9KTtcblx0XHRwcm9tcHRJbnB1dC5zZXRBdHRyKCdyb3dzJywgJzMnKTtcblxuXHRcdC8vIFx1NTNDMlx1ODAwM1x1NTZGRVx1NzI0N1VSTFx1OEY5M1x1NTE2NVxuXHRcdGNvbnN0IGltYWdlQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItaW1hZ2UtY29udGFpbmVyJyk7XG5cdFx0Y29uc3QgaW1hZ2VMYWJlbCA9IGltYWdlQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1NTNDMlx1ODAwM1x1NTZGRVx1NzI0N1VSTCAoXHU1M0VGXHU5MDA5KTonIH0pO1xuXHRcdGNvbnN0IGltYWdlSW5wdXQgPSBpbWFnZUNvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRwbGFjZWhvbGRlcjogJ2h0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnJ1xuXHRcdH0pO1xuXG5cdFx0Ly8gXHU4OUM2XHU5ODkxXHU1M0MyXHU2NTcwXHU4QkJFXHU3RjZFXG5cdFx0Y29uc3QgcGFyYW1zQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItcGFyYW1zLWNvbnRhaW5lcicpO1xuXHRcdFxuXHRcdC8vIFx1NkEyMVx1NTc4Qlx1OTAwOVx1NjJFOVxuXHRcdGNvbnN0IG1vZGVsQ29udGFpbmVyID0gcGFyYW1zQ29udGFpbmVyLmNyZWF0ZURpdigndmlkZW8tZ2VuZXJhdG9yLXBhcmFtJyk7XG5cdFx0Y29uc3QgbW9kZWxMYWJlbCA9IG1vZGVsQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ0FJXHU2QTIxXHU1NzhCOicgfSk7XG5cdFx0Y29uc3QgbW9kZWxTZWxlY3QgPSBtb2RlbENvbnRhaW5lci5jcmVhdGVFbCgnc2VsZWN0Jyk7XG5cdFx0Y29uc3QgZW5hYmxlZE1vZGVscyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncy5maWx0ZXIobW9kZWwgPT4gbW9kZWwuZW5hYmxlZCk7XG5cdFx0Zm9yIChjb25zdCBtb2RlbCBvZiBlbmFibGVkTW9kZWxzKSB7XG5cdFx0XHRjb25zdCBvcHRpb24gPSBtb2RlbFNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB2YWx1ZTogbW9kZWwudmFsdWUsIHRleHQ6IG1vZGVsLm5hbWUgfSk7XG5cdFx0XHRpZiAobW9kZWwudmFsdWUgPT09IHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRNb2RlbCkge1xuXHRcdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1ODlDNlx1OTg5MVx1NkJENFx1NEY4QlxuXHRcdGNvbnN0IGFzcGVjdFJhdGlvQ29udGFpbmVyID0gcGFyYW1zQ29udGFpbmVyLmNyZWF0ZURpdigndmlkZW8tZ2VuZXJhdG9yLXBhcmFtJyk7XG5cdFx0Y29uc3QgYXNwZWN0UmF0aW9MYWJlbCA9IGFzcGVjdFJhdGlvQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1ODlDNlx1OTg5MVx1NkJENFx1NEY4QjonIH0pO1xuXHRcdGNvbnN0IGFzcGVjdFJhdGlvU2VsZWN0ID0gYXNwZWN0UmF0aW9Db250YWluZXIuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGZvciAoY29uc3QgcmF0aW8gb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlQXNwZWN0UmF0aW9zKSB7XG5cdFx0XHRjb25zdCBvcHRpb24gPSBhc3BlY3RSYXRpb1NlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyBcblx0XHRcdFx0dmFsdWU6IHJhdGlvLCBcblx0XHRcdFx0dGV4dDogYCR7cmF0aW99ICR7dGhpcy5nZXRBc3BlY3RSYXRpb0Rlc2NyaXB0aW9uKHJhdGlvKX1gIFxuXHRcdFx0fSk7XG5cdFx0XHRpZiAocmF0aW8gPT09IHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRBc3BlY3RSYXRpbykge1xuXHRcdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1ODlDNlx1OTg5MVx1NjVGNlx1OTU3RlxuXHRcdGNvbnN0IGR1cmF0aW9uQ29udGFpbmVyID0gcGFyYW1zQ29udGFpbmVyLmNyZWF0ZURpdigndmlkZW8tZ2VuZXJhdG9yLXBhcmFtJyk7XG5cdFx0Y29uc3QgZHVyYXRpb25MYWJlbCA9IGR1cmF0aW9uQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1ODlDNlx1OTg5MVx1NjVGNlx1OTU3RjonIH0pO1xuXHRcdGNvbnN0IGR1cmF0aW9uU2VsZWN0ID0gZHVyYXRpb25Db250YWluZXIuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGZvciAoY29uc3QgZHVyYXRpb24gb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlRHVyYXRpb25zKSB7XG5cdFx0XHRjb25zdCBvcHRpb24gPSBkdXJhdGlvblNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyBcblx0XHRcdFx0dmFsdWU6IGR1cmF0aW9uLnRvU3RyaW5nKCksIFxuXHRcdFx0XHR0ZXh0OiBgJHtkdXJhdGlvbn1cdTc5RDJgIFxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoZHVyYXRpb24gPT09IHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHREdXJhdGlvbikge1xuXHRcdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1ODlDNlx1OTg5MVx1NUMzQVx1NUJGOFxuXHRcdGNvbnN0IHNpemVDb250YWluZXIgPSBwYXJhbXNDb250YWluZXIuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItcGFyYW0nKTtcblx0XHRjb25zdCBzaXplTGFiZWwgPSBzaXplQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1ODlDNlx1OTg5MVx1NUMzQVx1NUJGODonIH0pO1xuXHRcdGNvbnN0IHNpemVTZWxlY3QgPSBzaXplQ29udGFpbmVyLmNyZWF0ZUVsKCdzZWxlY3QnKTtcblx0XHRmb3IgKGNvbnN0IHNpemUgb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlU2l6ZXMpIHtcblx0XHRcdGNvbnN0IG9wdGlvbiA9IHNpemVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgXG5cdFx0XHRcdHZhbHVlOiBzaXplLCBcblx0XHRcdFx0dGV4dDogYCR7c2l6ZX0gJHt0aGlzLmdldFNpemVEZXNjcmlwdGlvbihzaXplKX1gIFxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoc2l6ZSA9PT0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNpemUpIHtcblx0XHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBcdTc1MUZcdTYyMTBcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ3ZpZGVvLWdlbmVyYXRvci1idXR0b24tY29udGFpbmVyJyk7XG5cdFx0Y29uc3QgZ2VuZXJhdGVCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MScgfSk7XG5cdFx0Z2VuZXJhdGVCdXR0b24uYWRkQ2xhc3MoJ3ZpZGVvLWdlbmVyYXRvci1idXR0b24nKTtcblxuXHRcdC8vIFx1OEZEQlx1NUVBNlx1NjYzRVx1NzkzQVx1NUJCOVx1NTY2OFxuXHRcdGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd2aWRlby1nZW5lcmF0b3ItcHJvZ3Jlc3MtY29udGFpbmVyJyk7XG5cdFx0cHJvZ3Jlc3NDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuXHRcdC8vIFx1N0VEM1x1Njc5Q1x1NjYzRVx1NzkzQVx1NUJCOVx1NTY2OFxuXHRcdGNvbnN0IHJlc3VsdENvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigndmlkZW8tZ2VuZXJhdG9yLXJlc3VsdC1jb250YWluZXInKTtcblx0XHRyZXN1bHRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuXHRcdC8vIFx1NzUxRlx1NjIxMFx1NjMwOVx1OTRBRVx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlxuXHRcdGdlbmVyYXRlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBwcm9tcHQgPSBwcm9tcHRJbnB1dC52YWx1ZS50cmltKCk7XG5cdFx0XHRpZiAoIXByb21wdCkge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdThGOTNcdTUxNjVcdTg5QzZcdTk4OTFcdTYzQ0ZcdThGRjAnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBpbWFnZVVybCA9IGltYWdlSW5wdXQudmFsdWUudHJpbSgpO1xuXHRcdFx0Y29uc3QgbW9kZWwgPSBtb2RlbFNlbGVjdC52YWx1ZTtcblx0XHRcdGNvbnN0IGFzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW9TZWxlY3QudmFsdWU7XG5cdFx0XHRjb25zdCBkdXJhdGlvbiA9IHBhcnNlSW50KGR1cmF0aW9uU2VsZWN0LnZhbHVlKTtcblx0XHRcdGNvbnN0IHNpemUgPSBzaXplU2VsZWN0LnZhbHVlO1xuXG5cdFx0XHQvLyBcdTY2M0VcdTc5M0FcdThGREJcdTVFQTZcblx0XHRcdHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0cHJvZ3Jlc3NDb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJ2aWRlby1nZW5lcmF0b3ItcHJvZ3Jlc3NcIj5cdTZCNjNcdTU3MjhcdTc1MUZcdTYyMTBcdTg5QzZcdTk4OTEuLi48L2Rpdj4nO1xuXHRcdFx0cmVzdWx0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRnZW5lcmF0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRnZW5lcmF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdTc1MUZcdTYyMTBcdTRFMkQuLi4nO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBpbml0aWFsUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBsdWdpbi5nZW5lcmF0ZVZpZGVvKHtcblx0XHRcdFx0XHRwcm9tcHQsXG5cdFx0XHRcdFx0aW1hZ2VVcmw6IGltYWdlVXJsIHx8IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRtb2RlbCxcblx0XHRcdFx0XHRhc3BlY3RSYXRpbyxcblx0XHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0XHRzaXplXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnN0IHJlbmRlckZyb21SZXN1bHQgPSAocmVzdWx0OiBhbnkpID0+IHtcblx0XHRcdFx0XHQvLyBcdTY2M0VcdTc5M0FcdTdFRDNcdTY3OUNcblx0XHRcdFx0XHRwcm9ncmVzc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0XHRcdHJlc3VsdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdFx0XHRyZXN1bHRDb250YWluZXIuZW1wdHkoKTtcblxuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCc9PT0gXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU3RUQzXHU2NzlDXHU4QzAzXHU4QkQ1ID09PScpO1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdSZXN1bHQgb2JqZWN0OicsIHJlc3VsdCk7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ1Jlc3VsdCB0eXBlOicsIHR5cGVvZiByZXN1bHQpO1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdSZXN1bHQga2V5czonLCBPYmplY3Qua2V5cyhyZXN1bHQgfHwge30pKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRsZXQgdmlkZW9Vcmw6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdGNvbnN0IHBvc3NpYmxlRmllbGRzID0gW1xuXHRcdFx0XHRcdFx0J3ZpZGVvX3VybCcsICd2aWRlb1VybCcsICd1cmwnLCAndmlkZW8nLCAnb3V0cHV0X3VybCcsICdmaWxlX3VybCcsXG5cdFx0XHRcdFx0XHQndmlkZW9VcmwnLCAndmlkZW9fcGF0aCcsICdkb3dubG9hZF91cmwnLCAnbWVkaWFfdXJsJ1xuXHRcdFx0XHRcdF07XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBwb3NzaWJsZUZpZWxkcykge1xuXHRcdFx0XHRcdFx0aWYgKHJlc3VsdFtmaWVsZF0gJiYgdHlwZW9mIHJlc3VsdFtmaWVsZF0gPT09ICdzdHJpbmcnICYmIHJlc3VsdFtmaWVsZF0uc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG5cdFx0XHRcdFx0XHRcdHZpZGVvVXJsID0gcmVzdWx0W2ZpZWxkXTtcblx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coYEZvdW5kIHZpZGVvIFVSTCBpbiBmaWVsZCAnJHtmaWVsZH0nOmAsIHZpZGVvVXJsKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghdmlkZW9VcmwpIHtcblx0XHRcdFx0XHRcdGNvbnN0IG5lc3RlZE9iamVjdHMgPSBbJ2RhdGEnLCAncmVzdWx0JywgJ291dHB1dCcsICdmaWxlJywgJ3Jlc3BvbnNlJ107XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IG9iaiBvZiBuZXN0ZWRPYmplY3RzKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChyZXN1bHRbb2JqXSAmJiB0eXBlb2YgcmVzdWx0W29ial0gPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBwb3NzaWJsZUZpZWxkcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdFtvYmpdW2ZpZWxkXSAmJiB0eXBlb2YgcmVzdWx0W29ial1bZmllbGRdID09PSAnc3RyaW5nJyAmJiByZXN1bHRbb2JqXVtmaWVsZF0uc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvVXJsID0gcmVzdWx0W29ial1bZmllbGRdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgRm91bmQgdmlkZW8gVVJMIGluIG5lc3RlZCBmaWVsZCAnJHtvYmp9LiR7ZmllbGR9JzpgLCB2aWRlb1VybCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiAodmlkZW9VcmwpIGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghdmlkZW9VcmwpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGFycmF5RmllbGRzID0gWydyZXN1bHRzJywgJ2ZpbGVzJywgJ3ZpZGVvcycsICdkYXRhJ107XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIGFycmF5RmllbGRzKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KHJlc3VsdFtmaWVsZF0pICYmIHJlc3VsdFtmaWVsZF0ubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZpcnN0SXRlbSA9IHJlc3VsdFtmaWVsZF1bMF07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGZpcnN0SXRlbSAmJiB0eXBlb2YgZmlyc3RJdGVtID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCB1cmxGaWVsZCBvZiBwb3NzaWJsZUZpZWxkcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZmlyc3RJdGVtW3VybEZpZWxkXSAmJiB0eXBlb2YgZmlyc3RJdGVtW3VybEZpZWxkXSA9PT0gJ3N0cmluZycgJiYgZmlyc3RJdGVtW3VybEZpZWxkXS5zdGFydHNXaXRoKCdodHRwJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1VybCA9IGZpcnN0SXRlbVt1cmxGaWVsZF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coYEZvdW5kIHZpZGVvIFVSTCBpbiBhcnJheSBmaWVsZCAnJHtmaWVsZH1bMF0uJHt1cmxGaWVsZH0nOmAsIHZpZGVvVXJsKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHZpZGVvVXJsKSBicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdGaW5hbCB2aWRlb1VybDonLCB2aWRlb1VybCk7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ1ZpZGVvVXJsIHR5cGU6JywgdHlwZW9mIHZpZGVvVXJsKTtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygnVmlkZW9VcmwgbGVuZ3RoOicsIHZpZGVvVXJsID8gdmlkZW9VcmwubGVuZ3RoIDogJ04vQScpO1xuXHRcdFx0XHRcdGlmICghdmlkZW9VcmwgfHwgdmlkZW9VcmwgPT09ICd1bmRlZmluZWQnIHx8ICh2aWRlb1VybCBhcyBzdHJpbmcpLnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ05vIHZhbGlkIHZpZGVvIFVSTCBmb3VuZCBpbiByZXN1bHQ6JywgcmVzdWx0KTtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgXHU2NzJBXHU2MjdFXHU1MjMwXHU2NzA5XHU2NTQ4XHU3Njg0XHU4OUM2XHU5ODkxVVJMXHUzMDAyXHU3RUQzXHU2NzlDXHU1QkY5XHU4QzYxOiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdCl9YCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IHZpZGVvRWwgPSByZXN1bHRDb250YWluZXIuY3JlYXRlRWwoJ3ZpZGVvJyk7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ1NldHRpbmcgdmlkZW8gc3JjIHRvOicsIHZpZGVvVXJsKTtcblx0XHRcdFx0XHR2aWRlb0VsLnNldEF0dHJpYnV0ZSgnc3JjJywgdmlkZW9VcmwpO1xuXHRcdFx0XHRcdHZpZGVvRWwuc2V0QXR0cmlidXRlKCdjb250cm9scycsICd0cnVlJyk7XG5cdFx0XHRcdFx0Y29uc3QgYnV0dG9uUm93ID0gcmVzdWx0Q29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRcdGJ1dHRvblJvdy5zdHlsZS5tYXJnaW5Ub3AgPSAnMTBweCc7XG5cdFx0XHRcdFx0Y29uc3QgZG93bmxvYWRCdG4gPSBidXR0b25Sb3cuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NEUwQlx1OEY3RFx1ODlDNlx1OTg5MScgfSk7XG5cdFx0XHRcdFx0ZG93bmxvYWRCdG4uYWRkQ2xhc3MoJ3ZpZGVvLWdlbmVyYXRvci1kb3dubG9hZC1idXR0b24nKTtcblx0XHRcdFx0XHRkb3dubG9hZEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0XHRcdFx0XHRcdGxpbmsuaHJlZiA9IHZpZGVvVXJsITtcblx0XHRcdFx0XHRcdGxpbmsuZG93bmxvYWQgPSBgdmlkZW9fJHtEYXRlLm5vdygpfS5tcDRgO1xuXHRcdFx0XHRcdFx0bGluay5jbGljaygpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29uc3QgaW5zZXJ0QnRuID0gYnV0dG9uUm93LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTYzRDJcdTUxNjVcdTUyMzBcdTdCMTRcdThCQjAnIH0pO1xuXHRcdFx0XHRcdGluc2VydEJ0bi5hZGRDbGFzcygndmlkZW8tZ2VuZXJhdG9yLWluc2VydC1idXR0b24nKTtcblx0XHRcdFx0XHRpbnNlcnRCdG4ub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0XHRcdGxldCBtZFZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdFx0XHRcdFx0aWYgKCFtZFZpZXcpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgbWRMZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdtYXJrZG93bicpO1xuXHRcdFx0XHRcdFx0XHRpZiAobWRMZWF2ZXMgJiYgbWRMZWF2ZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRcdG1kVmlldyA9IG1kTGVhdmVzW21kTGVhdmVzLmxlbmd0aCAtIDFdLnZpZXcgYXMgTWFya2Rvd25WaWV3O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAobWRWaWV3KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGVkaXRvciA9IG1kVmlldy5lZGl0b3I7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblx0XHRcdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShgIVtHZW5lcmF0ZWQgVmlkZW9dKCR7dmlkZW9Vcmx9KWAsIGN1cnNvcik7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTUxNDhcdTYyNTNcdTVGMDBcdTRFMDBcdTRFMkFcdTdCMTRcdThCQjBcdTY1ODdcdTRFRjYnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIFx1ODlFM1x1Njc5MFx1NEVGQlx1NTJBMUlEXG5cdFx0XHRcdGxldCB0YXNrSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRjb25zdCByZXNwOiBhbnkgPSBpbml0aWFsUmVzcG9uc2U7XG5cdFx0XHRcdGlmIChyZXNwPy5pZCkgdGFza0lkID0gcmVzcC5pZDtcblx0XHRcdFx0ZWxzZSBpZiAocmVzcD8uZGF0YT8uaWQpIHRhc2tJZCA9IHJlc3AuZGF0YS5pZDtcblx0XHRcdFx0ZWxzZSBpZiAocmVzcD8udGFza19pZCkgdGFza0lkID0gcmVzcC50YXNrX2lkO1xuXHRcdFx0XHRlbHNlIGlmIChyZXNwPy5kYXRhPy50YXNrX2lkKSB0YXNrSWQgPSByZXNwLmRhdGEudGFza19pZDtcblx0XHRcdFx0ZWxzZSBpZiAocmVzcD8uZGF0YT8udGFza0lkKSB0YXNrSWQgPSByZXNwLmRhdGEudGFza0lkO1xuXG5cdFx0XHRcdGlmICh0YXNrSWQpIHtcblx0XHRcdFx0XHRsZXQgcG9sbENvdW50ID0gMDtcblx0XHRcdFx0XHRjb25zdCBtYXhBdHRlbXB0cyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1heFBvbGxpbmdBdHRlbXB0cztcblx0XHRcdFx0XHRjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0cG9sbENvdW50Kys7XG5cdFx0XHRcdFx0XHRpZiAocG9sbENvdW50ID4gbWF4QXR0ZW1wdHMpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcblx0XHRcdFx0XHRcdFx0cHJvZ3Jlc3NDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ2aWRlby1nZW5lcmF0b3ItZXJyb3JcIj5cdThGNkVcdThCRTJcdThEODVcdTY1RjZcdUZGMENcdThCRjdcdTdBMERcdTU0MEVcdTYyNEJcdTUyQThcdTY4QzBcdTY3RTVcdTdFRDNcdTY3OUM8L2Rpdj5gO1xuXHRcdFx0XHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdTc1MUZcdTYyMTBcdTg5QzZcdTk4OTEnO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdThGNkVcdThCRTJcdThEODVcdTY1RjZcdUZGMENcdThCRjdcdTdBMERcdTU0MEVcdTYyNEJcdTUyQThcdTY4QzBcdTY3RTVcdTdFRDNcdTY3OUMnKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ2V0VmlkZW9SZXN1bHQodGFza0lkISk7XG5cdFx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdWaWRlbyBnZW5lcmF0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcm9ncmVzcyA9IHJlc3VsdC5wcm9ncmVzcyB8fCAwO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcm9ncmVzc1RleHQgPSBwcm9ncmVzcyA+IDAgPyBgXHU3NTFGXHU2MjEwXHU4RkRCXHU1RUE2OiAke3Byb2dyZXNzfSVgIDogJ1x1NkI2M1x1NTcyOFx1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MS4uLic7XG5cdFx0XHRcdFx0XHRcdHByb2dyZXNzQ29udGFpbmVyLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVxcXCJ2aWRlby1nZW5lcmF0b3ItcHJvZ3Jlc3NcXFwiPiR7cHJvZ3Jlc3NUZXh0fSAoJHtwb2xsQ291bnR9LyR7bWF4QXR0ZW1wdHN9KTwvZGl2PmA7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHN0YXR1cyA9IHJlc3VsdC5zdGF0dXMgfHwgcmVzdWx0LnN0YXRlIHx8IHJlc3VsdC50YXNrX3N0YXR1cztcblx0XHRcdFx0XHRcdFx0aWYgKHN0YXR1cyA9PT0gJ3N1Y2NlZWRlZCcgfHwgc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBzdGF0dXMgPT09ICdzdWNjZXNzJyB8fCBwcm9ncmVzcyA9PT0gMTAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcblx0XHRcdFx0XHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdGdlbmVyYXRlQnV0dG9uLnRleHRDb250ZW50ID0gJ1x1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MSc7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU2MjEwXHU1MjlGXHVGRjAxJyk7XG5cdFx0XHRcdFx0XHRcdFx0cmVuZGVyRnJvbVJlc3VsdChyZXN1bHQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2ZhaWxlZCcgfHwgc3RhdHVzID09PSAnZXJyb3InKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IHJlc3VsdC5mYWlsdXJlX3JlYXNvbiB8fCByZXN1bHQuZXJyb3IgfHwgcmVzdWx0Lm1lc3NhZ2UgfHwgJ1x1NjcyQVx1NzdFNVx1OTUxOVx1OEJFRic7XG5cdFx0XHRcdFx0XHRcdFx0cHJvZ3Jlc3NDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XFxcInZpZGVvLWdlbmVyYXRvci1lcnJvclxcXCI+XHU3NTFGXHU2MjEwXHU1OTMxXHU4RDI1OiAke2Vycm9yTXNnfTwvZGl2PmA7XG5cdFx0XHRcdFx0XHRcdFx0Z2VuZXJhdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRnZW5lcmF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdTc1MUZcdTYyMTBcdTg5QzZcdTk4OTEnO1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFx1NzUxRlx1NjIxMFx1NTkzMVx1OEQyNTogJHtlcnJvck1zZ31gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdHZXQgdmlkZW8gcmVzdWx0IGVycm9yOicsIGUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIDIwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIFx1NkNBMVx1NjcwOVx1NEVGQlx1NTJBMUlEXHVGRjBDXHU3NkY0XHU2M0E1XHU1QzFEXHU4QkQ1XHU2RTMyXHU2N0QzXHVGRjA4XHU1MTdDXHU1QkI5XHU1NDBDXHU2QjY1XHU4RkQ0XHU1NkRFVVJMXHVGRjA5XG5cdFx0XHRcdFx0cmVuZGVyRnJvbVJlc3VsdChpbml0aWFsUmVzcG9uc2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuXHRcdFx0XHRwcm9ncmVzc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0XHRyZXN1bHRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdHJlc3VsdENvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0XHRyZXN1bHRDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgXG5cdFx0XHRcdFx0dGV4dDogYFx1NzUxRlx1NjIxMFx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdFx0Y2xzOiAndmlkZW8tZ2VuZXJhdG9yLWVycm9yJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Z2VuZXJhdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0Z2VuZXJhdGVCdXR0b24udGV4dENvbnRlbnQgPSAnXHU3NTFGXHU2MjEwXHU4OUM2XHU5ODkxJztcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0Z2V0QXNwZWN0UmF0aW9EZXNjcmlwdGlvbihyYXRpbzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBkZXNjcmlwdGlvbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG5cdFx0XHQnMTY6OSc6ICcoXHU2QTJBXHU1QzRGKScsXG5cdFx0XHQnOToxNic6ICcoXHU3QUQ2XHU1QzRGKScsXG5cdFx0XHQnMToxJzogJyhcdTZCNjNcdTY1QjlcdTVGNjIpJyxcblx0XHRcdCc0OjMnOiAnKFx1NEYyMFx1N0VERiknLFxuXHRcdFx0JzM6NCc6ICcoXHU0RjIwXHU3RURGXHU3QUQ2XHU1QzRGKSdcblx0XHR9O1xuXHRcdHJldHVybiBkZXNjcmlwdGlvbnNbcmF0aW9dIHx8IHJhdGlvO1xuXHR9XG5cblx0Z2V0U2l6ZURlc2NyaXB0aW9uKHNpemU6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgZGVzY3JpcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuXHRcdFx0J3NtYWxsJzogJyhcdTVDMEZcdTVDM0FcdTVCRjgpJyxcblx0XHRcdCdtZWRpdW0nOiAnKFx1NEUyRFx1NUMzQVx1NUJGOCknLFxuXHRcdFx0J2xhcmdlJzogJyhcdTU5MjdcdTVDM0FcdTVCRjgpJyxcblx0XHRcdCdoZCc6ICcoXHU5QUQ4XHU2RTA1KScsXG5cdFx0XHQnNGsnOiAnKDRLKSdcblx0XHR9O1xuXHRcdHJldHVybiBkZXNjcmlwdGlvbnNbc2l6ZV0gfHwgc2l6ZTtcblx0fVxuXG5cdGFzeW5jIG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXHR9XG59XG5cbi8vIFx1OEJCRVx1N0Y2RVx1OTg3NVx1OTc2MlxuY2xhc3MgVmlkZW9HZW5lcmF0b3JTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogVmlkZW9HZW5lcmF0b3JQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVmlkZW9HZW5lcmF0b3JQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0FJIFZpZGVvIEdlbmVyYXRvciBcdThCQkVcdTdGNkUnIH0pO1xuXG5cdFx0Ly8gPT09IEFQSSBcdTkxNERcdTdGNkVcdTUzM0FcdTU3REYgPT09XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQVBJIFx1OTE0RFx1N0Y2RScgfSk7XG5cblx0XHQvLyBBUElcdTVCQzZcdTk0QTVcdThCQkVcdTdGNkVcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdBUElcdTVCQzZcdTk0QTUnKVxuXHRcdFx0LnNldERlc2MoJ1x1OEJGN1x1OEY5M1x1NTE2NVx1NjBBOFx1NzY4NEFQSVx1NUJDNlx1OTRBNScpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdcdThGOTNcdTUxNjVBUElcdTVCQzZcdTk0QTUnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5KVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5ID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdC8vIEFQSVx1NEUzQlx1NjczQVx1OTAwOVx1NjJFOVxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1x1OTAwOVx1NjJFOUFQSVx1NEUzQlx1NjczQScpXG5cdFx0XHQuc2V0RGVzYygnXHU5MDA5XHU2MkU5XHU1RjUzXHU1MjREXHU0RjdGXHU3NTI4XHU3Njg0QVBJXHU2NzBEXHU1MkExXHU1NjY4Jylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdC8vIFx1NkRGQlx1NTJBMFx1NTNFRlx1NzUyOFx1NzY4NEFQSVx1NEUzQlx1NjczQVx1OTAwOVx1OTg3OVxuXHRcdFx0XHRmb3IgKGNvbnN0IGhvc3Qgb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpSG9zdHMpIHtcblx0XHRcdFx0XHRpZiAoaG9zdC5lbmFibGVkKSB7XG5cdFx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oaG9zdC5pZCwgYCR7aG9zdC5uYW1lfSAoJHtob3N0LnVybH0pYCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlbGVjdGVkQXBpSG9zdClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWxlY3RlZEFwaUhvc3QgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHQvLyBBUElcdTRFM0JcdTY3M0FcdTdCQTFcdTc0MDZcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdBUElcdTRFM0JcdTY3M0FcdTdCQTFcdTc0MDYnIH0pO1xuXHRcdFxuXHRcdC8vIFx1NjYzRVx1NzkzQVx1NUY1M1x1NTI0RFx1OTE0RFx1N0Y2RVx1NzY4NFx1NEUzQlx1NjczQVx1NTIxN1x1ODg2OFxuXHRcdGZvciAoY29uc3QgaG9zdCBvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlIb3N0cykge1xuXHRcdFx0Y29uc3QgaG9zdENvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignYXBpLWhvc3QtaXRlbScpO1xuXHRcdFx0aG9zdENvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSc7XG5cdFx0XHRob3N0Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7XG5cdFx0XHRob3N0Q29udGFpbmVyLnN0eWxlLm1hcmdpbiA9ICc1cHggMCc7XG5cdFx0XHRob3N0Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc0cHgnO1xuXG5cdFx0XHQvLyBcdTRFM0JcdTY3M0FcdTU0MERcdTc5RjBcdTU0OENcdTcyQjZcdTYwMDFcblx0XHRcdGNvbnN0IGhlYWRlckRpdiA9IGhvc3RDb250YWluZXIuY3JlYXRlRGl2KCk7XG5cdFx0XHRoZWFkZXJEaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRcdGhlYWRlckRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdzcGFjZS1iZXR3ZWVuJztcblx0XHRcdGhlYWRlckRpdi5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG5cdFx0XHRoZWFkZXJEaXYuc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7XG5cblx0XHRcdGNvbnN0IG5hbWVTcGFuID0gaGVhZGVyRGl2LmNyZWF0ZVNwYW4oKTtcblx0XHRcdG5hbWVTcGFuLnRleHRDb250ZW50ID0gaG9zdC5uYW1lO1xuXHRcdFx0bmFtZVNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblxuXHRcdFx0Y29uc3Qgc3RhdHVzU3BhbiA9IGhlYWRlckRpdi5jcmVhdGVTcGFuKCk7XG5cdFx0XHRzdGF0dXNTcGFuLnRleHRDb250ZW50ID0gaG9zdC5lbmFibGVkID8gJ1x1MjcwNSBcdTU0MkZcdTc1MjgnIDogJ1x1Mjc0QyBcdTc5ODFcdTc1MjgnO1xuXHRcdFx0c3RhdHVzU3Bhbi5zdHlsZS5jb2xvciA9IGhvc3QuZW5hYmxlZCA/ICd2YXIoLS10ZXh0LWFjY2VudCknIDogJ3ZhcigtLXRleHQtbXV0ZWQpJztcblxuXHRcdFx0Ly8gXHU0RTNCXHU2NzNBVVJMXG5cdFx0XHRjb25zdCB1cmxEaXYgPSBob3N0Q29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0dXJsRGl2LnRleHRDb250ZW50ID0gYFVSTDogJHtob3N0LnVybH1gO1xuXHRcdFx0dXJsRGl2LnN0eWxlLmZvbnRTaXplID0gJzAuOWVtJztcblx0XHRcdHVybERpdi5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG5cdFx0XHR1cmxEaXYuc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7XG5cblx0XHRcdC8vIFx1NjNDRlx1OEZGMFxuXHRcdFx0aWYgKGhvc3QuZGVzY3JpcHRpb24pIHtcblx0XHRcdFx0Y29uc3QgZGVzY0RpdiA9IGhvc3RDb250YWluZXIuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdGRlc2NEaXYudGV4dENvbnRlbnQgPSBob3N0LmRlc2NyaXB0aW9uO1xuXHRcdFx0XHRkZXNjRGl2LnN0eWxlLmZvbnRTaXplID0gJzAuOGVtJztcblx0XHRcdFx0ZGVzY0Rpdi5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG5cdFx0XHRcdGRlc2NEaXYuc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVxuXHRcdFx0Y29uc3QgYnV0dG9uRGl2ID0gaG9zdENvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdGJ1dHRvbkRpdi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXHRcdFx0YnV0dG9uRGl2LnN0eWxlLmdhcCA9ICc1cHgnO1xuXG5cdFx0XHQvLyBcdTU0MkZcdTc1MjgvXHU3OTgxXHU3NTI4XHU2MzA5XHU5NEFFXG5cdFx0XHRjb25zdCB0b2dnbGVCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogaG9zdC5lbmFibGVkID8gJ1x1Nzk4MVx1NzUyOCcgOiAnXHU1NDJGXHU3NTI4JyB9KTtcblx0XHRcdHRvZ2dsZUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICcwLjhlbSc7XG5cdFx0XHR0b2dnbGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0aG9zdC5lbmFibGVkID0gIWhvc3QuZW5hYmxlZDtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcblx0XHRcdH07XG5cblx0XHRcdC8vIFx1NkQ0Qlx1OEJENVx1OEZERVx1NjNBNVx1NjMwOVx1OTRBRVxuXHRcdFx0Y29uc3QgdGVzdEJ1dHRvbiA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHU2RDRCXHU4QkQ1XHU4RkRFXHU2M0E1JyB9KTtcblx0XHRcdHRlc3RCdXR0b24uc3R5bGUuZm9udFNpemUgPSAnMC44ZW0nO1xuXHRcdFx0dGVzdEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRlc3RBcGlIb3N0KGhvc3QpO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gXHU1MjIwXHU5NjY0XHU2MzA5XHU5NEFFXHVGRjA4XHU0RUM1XHU1QkY5XHU5NzVFXHU5RUQ4XHU4QkE0XHU0RTNCXHU2NzNBXHU2NjNFXHU3OTNBXHVGRjA5XG5cdFx0XHRpZiAoaG9zdC5pZCAhPT0gJ2RlZmF1bHQnICYmIGhvc3QuaWQgIT09ICdvdmVyc2VhcycpIHtcblx0XHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gYnV0dG9uRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTUyMjBcdTk2NjQnIH0pO1xuXHRcdFx0XHRkZWxldGVCdXR0b24uc3R5bGUuZm9udFNpemUgPSAnMC44ZW0nO1xuXHRcdFx0XHRkZWxldGVCdXR0b24uc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1lcnJvciknO1xuXHRcdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRpZiAoY29uZmlybShgXHU3ODZFXHU1QjlBXHU4OTgxXHU1MjIwXHU5NjY0XHU0RTNCXHU2NzNBIFwiJHtob3N0Lm5hbWV9XCIgXHU1NDE3XHVGRjFGYCkpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUhvc3RzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpSG9zdHMuZmlsdGVyKGggPT4gaC5pZCAhPT0gaG9zdC5pZCk7XG5cdFx0XHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTUyMjBcdTk2NjRcdTc2ODRcdTY2MkZcdTVGNTNcdTUyNERcdTkwMDlcdTRFMkRcdTc2ODRcdTRFM0JcdTY3M0FcdUZGMENcdTUyMDdcdTYzNjJcdTUyMzBcdTlFRDhcdThCQTRcdTRFM0JcdTY3M0Fcblx0XHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWxlY3RlZEFwaUhvc3QgPT09IGhvc3QuaWQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VsZWN0ZWRBcGlIb3N0ID0gJ2RlZmF1bHQnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NjVCMFx1NEUzQlx1NjczQVx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IGFkZEhvc3RCdXR0b24gPSBjb250YWluZXJFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyNzk1IFx1NkRGQlx1NTJBMFx1NjVCMEFQSVx1NEUzQlx1NjczQScgfSk7XG5cdFx0YWRkSG9zdEJ1dHRvbi5zdHlsZS5tYXJnaW5Ub3AgPSAnMTBweCc7XG5cdFx0YWRkSG9zdEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5zaG93QWRkSG9zdE1vZGFsKCk7XG5cdFx0fTtcblxuXHRcdC8vID09PSBcdTlFRDhcdThCQTRcdTUzQzJcdTY1NzBcdTkxNERcdTdGNkVcdTUzM0FcdTU3REYgPT09XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHU5RUQ4XHU4QkE0XHU1M0MyXHU2NTcwJyB9KTtcblxuXHRcdC8vIFx1OUVEOFx1OEJBNFx1NkEyMVx1NTc4QlxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1x1OUVEOFx1OEJBNEFJXHU2QTIxXHU1NzhCJylcblx0XHRcdC5zZXREZXNjKCdcdThCQkVcdTdGNkVcdTlFRDhcdThCQTRcdTRGN0ZcdTc1MjhcdTc2ODRBSVx1NkEyMVx1NTc4QicpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRjb25zdCBlbmFibGVkTW9kZWxzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxDb25maWdzLmZpbHRlcihtb2RlbCA9PiBtb2RlbC5lbmFibGVkKTtcblx0XHRcdFx0Zm9yIChjb25zdCBtb2RlbCBvZiBlbmFibGVkTW9kZWxzKSB7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLnZhbHVlLCBtb2RlbC5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TW9kZWwpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdE1vZGVsID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gXHU5RUQ4XHU4QkE0XHU4OUM2XHU5ODkxXHU2QkQ0XHU0RjhCXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnXHU5RUQ4XHU4QkE0XHU4OUM2XHU5ODkxXHU2QkQ0XHU0RjhCJylcblx0XHRcdC5zZXREZXNjKCdcdThCQkVcdTdGNkVcdTlFRDhcdThCQTRcdTc2ODRcdTg5QzZcdTk4OTFcdTZCRDRcdTRGOEInKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0Zm9yIChjb25zdCByYXRpbyBvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmFpbGFibGVBc3BlY3RSYXRpb3MpIHtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24ocmF0aW8sIGAke3JhdGlvfSAke3RoaXMuZ2V0QXNwZWN0UmF0aW9EZXNjcmlwdGlvbihyYXRpbyl9YCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEFzcGVjdFJhdGlvKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRBc3BlY3RSYXRpbyA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdC8vIFx1OUVEOFx1OEJBNFx1ODlDNlx1OTg5MVx1NjVGNlx1OTU3RlxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1x1OUVEOFx1OEJBNFx1ODlDNlx1OTg5MVx1NjVGNlx1OTU3RicpXG5cdFx0XHQuc2V0RGVzYygnXHU4QkJFXHU3RjZFXHU5RUQ4XHU4QkE0XHU3Njg0XHU4OUM2XHU5ODkxXHU2NUY2XHU5NTdGJylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgZHVyYXRpb24gb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlRHVyYXRpb25zKSB7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKGR1cmF0aW9uLnRvU3RyaW5nKCksIGAke2R1cmF0aW9ufVx1NzlEMmApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHREdXJhdGlvbi50b1N0cmluZygpKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHREdXJhdGlvbiA9IHBhcnNlSW50KHZhbHVlKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHQvLyBcdTlFRDhcdThCQTRcdTg5QzZcdTk4OTFcdTZFMDVcdTY2NzBcdTVFQTZcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdcdTlFRDhcdThCQTRcdTg5QzZcdTk4OTFcdTZFMDVcdTY2NzBcdTVFQTYnKVxuXHRcdFx0LnNldERlc2MoJ1x1OEJCRVx1N0Y2RVx1OUVEOFx1OEJBNFx1NzY4NFx1ODlDNlx1OTg5MVx1NkUwNVx1NjY3MFx1NUVBNicpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHNpemUgb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlU2l6ZXMpIHtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oc2l6ZSwgYCR7dGhpcy5nZXRTaXplRGVzY3JpcHRpb24oc2l6ZSl9ICgke3NpemV9KWApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRTaXplKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRTaXplID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gPT09IEFJXHU2QTIxXHU1NzhCXHU3QkExXHU3NDA2XHU1MzNBXHU1N0RGID09PVxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0FJXHU2QTIxXHU1NzhCXHU3QkExXHU3NDA2JyB9KTtcblxuXHRcdC8vIFx1NjYzRVx1NzkzQVx1NUY1M1x1NTI0RFx1NkEyMVx1NTc4Qlx1OTE0RFx1N0Y2RVxuXHRcdGZvciAoY29uc3QgbW9kZWwgb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxDb25maWdzKSB7XG5cdFx0XHRjb25zdCBtb2RlbENhcmQgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ21vZGVsLWNhcmQnKTtcblx0XHRcdG1vZGVsQ2FyZC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSc7XG5cdFx0XHRtb2RlbENhcmQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzZweCc7XG5cdFx0XHRtb2RlbENhcmQuc3R5bGUucGFkZGluZyA9ICcxMnB4Jztcblx0XHRcdG1vZGVsQ2FyZC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnOHB4Jztcblx0XHRcdG1vZGVsQ2FyZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJztcblxuXHRcdFx0Ly8gXHU2QTIxXHU1NzhCXHU0RkUxXHU2MDZGXG5cdFx0XHRjb25zdCBtb2RlbEluZm8gPSBtb2RlbENhcmQuY3JlYXRlRGl2KCdtb2RlbC1pbmZvJyk7XG5cdFx0XHRtb2RlbEluZm8uc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRcdG1vZGVsSW5mby5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdzcGFjZS1iZXR3ZWVuJztcblx0XHRcdG1vZGVsSW5mby5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG5cblx0XHRcdGNvbnN0IG1vZGVsRGV0YWlscyA9IG1vZGVsSW5mby5jcmVhdGVEaXYoJ21vZGVsLWRldGFpbHMnKTtcblx0XHRcdG1vZGVsRGV0YWlscy5zdHlsZS5mbGV4ID0gJzEnO1xuXG5cdFx0XHRjb25zdCBtb2RlbE5hbWUgPSBtb2RlbERldGFpbHMuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogbW9kZWwubmFtZSB9KTtcblx0XHRcdG1vZGVsTmFtZS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRcdFx0bW9kZWxOYW1lLnN0eWxlLmZvbnRTaXplID0gJzAuOWVtJztcblxuXHRcdFx0Y29uc3QgbW9kZWxWYWx1ZSA9IG1vZGVsRGV0YWlscy5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgXHU1MDNDOiAke21vZGVsLnZhbHVlfWAgfSk7XG5cdFx0XHRtb2RlbFZhbHVlLnN0eWxlLmZvbnRTaXplID0gJzAuOGVtJztcblx0XHRcdG1vZGVsVmFsdWUuc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1tdXRlZCknO1xuXG5cdFx0XHRpZiAobW9kZWwuZGVzY3JpcHRpb24pIHtcblx0XHRcdFx0Y29uc3QgbW9kZWxEZXNjID0gbW9kZWxEZXRhaWxzLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IG1vZGVsLmRlc2NyaXB0aW9uIH0pO1xuXHRcdFx0XHRtb2RlbERlc2Muc3R5bGUuZm9udFNpemUgPSAnMC44ZW0nO1xuXHRcdFx0XHRtb2RlbERlc2Muc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1tdXRlZCknO1xuXHRcdFx0XHRtb2RlbERlc2Muc3R5bGUubWFyZ2luVG9wID0gJzJweCc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVxuXHRcdFx0Y29uc3QgYnV0dG9uRGl2ID0gbW9kZWxJbmZvLmNyZWF0ZURpdignbW9kZWwtYWN0aW9ucycpO1xuXHRcdFx0YnV0dG9uRGl2LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0XHRidXR0b25EaXYuc3R5bGUuZ2FwID0gJzhweCc7XG5cblx0XHRcdC8vIFx1NTQyRlx1NzUyOC9cdTc5ODFcdTc1MjhcdTYzMDlcdTk0QUVcblx0XHRcdGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyBcblx0XHRcdFx0dGV4dDogbW9kZWwuZW5hYmxlZCA/ICdcdTc5ODFcdTc1MjgnIDogJ1x1NTQyRlx1NzUyOCcgXG5cdFx0XHR9KTtcblx0XHRcdHRvZ2dsZUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICcwLjhlbSc7XG5cdFx0XHR0b2dnbGVCdXR0b24uc3R5bGUuY29sb3IgPSBtb2RlbC5lbmFibGVkID8gJ3ZhcigtLXRleHQtZXJyb3IpJyA6ICd2YXIoLS10ZXh0LWFjY2VudCknO1xuXHRcdFx0dG9nZ2xlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdG1vZGVsLmVuYWJsZWQgPSAhbW9kZWwuZW5hYmxlZDtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcblx0XHRcdH07XG5cblx0XHRcdC8vIFx1N0YxNlx1OEY5MVx1NjMwOVx1OTRBRVx1RkYwOFx1NEVDNVx1NUJGOVx1ODFFQVx1NUI5QVx1NEU0OVx1NkEyMVx1NTc4Qlx1NjYzRVx1NzkzQVx1RkYwOVxuXHRcdFx0aWYgKG1vZGVsLmlzQ3VzdG9tKSB7XG5cdFx0XHRcdGNvbnN0IGVkaXRCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1N0YxNlx1OEY5MScgfSk7XG5cdFx0XHRcdGVkaXRCdXR0b24uc3R5bGUuZm9udFNpemUgPSAnMC44ZW0nO1xuXHRcdFx0XHRlZGl0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zaG93RWRpdE1vZGVsTW9kYWwobW9kZWwpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIFx1NTIyMFx1OTY2NFx1NjMwOVx1OTRBRVx1RkYwOFx1NEVDNVx1NUJGOVx1ODFFQVx1NUI5QVx1NEU0OVx1NkEyMVx1NTc4Qlx1NjYzRVx1NzkzQVx1RkYwOVxuXHRcdFx0XHRjb25zdCBkZWxldGVCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NTIyMFx1OTY2NCcgfSk7XG5cdFx0XHRcdGRlbGV0ZUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICcwLjhlbSc7XG5cdFx0XHRcdGRlbGV0ZUJ1dHRvbi5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LWVycm9yKSc7XG5cdFx0XHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGlmIChjb25maXJtKGBcdTc4NkVcdTVCOUFcdTg5ODFcdTUyMjBcdTk2NjRcdTZBMjFcdTU3OEIgXCIke21vZGVsLm5hbWV9XCIgXHU1NDE3XHVGRjFGYCkpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncy5maWx0ZXIobSA9PiBtLmlkICE9PSBtb2RlbC5pZCk7XG5cdFx0XHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTUyMjBcdTk2NjRcdTc2ODRcdTY2MkZcdTVGNTNcdTUyNERcdTlFRDhcdThCQTRcdTZBMjFcdTU3OEJcdUZGMENcdTUyMDdcdTYzNjJcdTUyMzBcdTdCMkNcdTRFMDBcdTRFMkFcdTU0MkZcdTc1MjhcdTc2ODRcdTZBMjFcdTU3OEJcblx0XHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TW9kZWwgPT09IG1vZGVsLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZpcnN0RW5hYmxlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncy5maW5kKG0gPT4gbS5lbmFibGVkKTtcblx0XHRcdFx0XHRcdFx0aWYgKGZpcnN0RW5hYmxlZCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRNb2RlbCA9IGZpcnN0RW5hYmxlZC52YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NjVCMFx1NkEyMVx1NTc4Qlx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IGFkZE1vZGVsQnV0dG9uID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1Mjc5NSBcdTZERkJcdTUyQTBcdTY1QjBBSVx1NkEyMVx1NTc4QicgfSk7XG5cdFx0YWRkTW9kZWxCdXR0b24uc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuXHRcdGFkZE1vZGVsQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnNob3dBZGRNb2RlbE1vZGFsKCk7XG5cdFx0fTtcblxuXHRcdC8vID09PSBcdTlBRDhcdTdFQTdcdTkxNERcdTdGNkVcdTUzM0FcdTU3REYgPT09XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHU5QUQ4XHU3RUE3XHU5MTREXHU3RjZFJyB9KTtcblxuXHRcdC8vIFdlYmhvb2tcdThCQkVcdTdGNkVcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdcdTRGN0ZcdTc1MjhXZWJob29rXHU1NkRFXHU4QzAzJylcblx0XHRcdC5zZXREZXNjKCdcdTU0MkZcdTc1MjhcdTU0MEVcdTRGN0ZcdTc1Mjh3ZWJob29rXHU2M0E1XHU2NTM2XHU3NTFGXHU2MjEwXHU3RUQzXHU2NzlDXHVGRjBDXHU1NDI2XHU1MjE5XHU0RjdGXHU3NTI4XHU4RjZFXHU4QkUyXHU2NUI5XHU1RjBGJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlV2ViaG9vaylcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVdlYmhvb2sgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU0RUU1XHU2NjNFXHU3OTNBL1x1OTY5MFx1ODVDRndlYmhvb2sgVVJMXHU4QkJFXHU3RjZFXG5cdFx0XHRcdH0pKTtcblxuXHRcdC8vIFdlYmhvb2sgVVJMXHU4QkJFXHU3RjZFXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVdlYmhvb2spIHtcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZSgnV2ViaG9vayBVUkwnKVxuXHRcdFx0XHQuc2V0RGVzYygnXHU2M0E1XHU2NTM2XHU3NTFGXHU2MjEwXHU3RUQzXHU2NzlDXHU3Njg0XHU1NkRFXHU4QzAzXHU1NzMwXHU1NzQwJylcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdodHRwczovL3lvdXItd2ViaG9vay11cmwuY29tL2NhbGxiYWNrJylcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud2ViaG9va1VybClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy53ZWJob29rVXJsID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KSk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU4RjZFXHU4QkUyXHU5NUY0XHU5Njk0XHU4QkJFXHU3RjZFXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnXHU4RjZFXHU4QkUyXHU5NUY0XHU5Njk0IChcdTZCRUJcdTc5RDIpJylcblx0XHRcdC5zZXREZXNjKCdcdThCQkVcdTdGNkVcdThGNkVcdThCRTJcdTc1MUZcdTYyMTBcdTdFRDNcdTY3OUNcdTc2ODRcdTk1RjRcdTk2OTRcdTY1RjZcdTk1RjQnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignMjAwMCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wb2xsaW5nSW50ZXJ2YWwudG9TdHJpbmcoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGludGVydmFsID0gcGFyc2VJbnQodmFsdWUpIHx8IDIwMDA7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucG9sbGluZ0ludGVydmFsID0gTWF0aC5tYXgoMTAwMCwgaW50ZXJ2YWwpOyAvLyBcdTY3MDBcdTVDMEYxXHU3OUQyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdC8vIFx1NjcwMFx1NTkyN1x1OEY2RVx1OEJFMlx1NkIyMVx1NjU3MFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1x1NjcwMFx1NTkyN1x1OEY2RVx1OEJFMlx1NkIyMVx1NjU3MCcpXG5cdFx0XHQuc2V0RGVzYygnXHU4QkJFXHU3RjZFXHU4RjZFXHU4QkUyXHU3Njg0XHU2NzAwXHU1OTI3XHU1QzFEXHU4QkQ1XHU2QjIxXHU2NTcwJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzE1MCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXhQb2xsaW5nQXR0ZW1wdHMudG9TdHJpbmcoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGF0dGVtcHRzID0gcGFyc2VJbnQodmFsdWUpIHx8IDE1MDtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXhQb2xsaW5nQXR0ZW1wdHMgPSBNYXRoLm1heCgxMCwgYXR0ZW1wdHMpOyAvLyBcdTY3MDBcdTVDMEYxMFx1NkIyMVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHQvLyA9PT0gVUkgXHU5MTREXHU3RjZFXHU1MzNBXHU1N0RGID09PVxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1NzU0Q1x1OTc2Mlx1OTE0RFx1N0Y2RScgfSk7XG5cblx0XHQvLyBcdTY2M0VcdTc5M0FcdTUyOUZcdTgwRkRcdTUzM0FcdTU2RkVcdTY4MDdcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdcdTY2M0VcdTc5M0FcdTUyOUZcdTgwRkRcdTUzM0FcdTU2RkVcdTY4MDcnKVxuXHRcdFx0LnNldERlc2MoJ1x1NTcyOFx1NURFNlx1NEZBN1x1NTI5Rlx1ODBGRFx1NTMzQVx1NjYzRVx1NzkzQVx1ODlDNlx1OTg5MVx1NzUxRlx1NjIxMFx1NTZGRVx1NjgwNycpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dSaWJib25JY29uKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1JpYmJvbkljb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Ly8gXHU2NjNFXHU3OTNBXHU3MkI2XHU2MDAxXHU2ODBGXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnXHU2NjNFXHU3OTNBXHU3MkI2XHU2MDAxXHU2ODBGJylcblx0XHRcdC5zZXREZXNjKCdcdTU3MjhcdTcyQjZcdTYwMDFcdTY4MEZcdTY2M0VcdTc5M0FcdTYzRDJcdTRFRjZcdTRGRTFcdTYwNkYnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U3RhdHVzQmFyKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1N0YXR1c0JhciA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHQvLyBcdTZBMjFcdTYwMDFcdTY4NDZcdTVCQkRcdTVFQTZcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdcdTZBMjFcdTYwMDFcdTY4NDZcdTVCQkRcdTVFQTYnKVxuXHRcdFx0LnNldERlc2MoJ1x1OEJCRVx1N0Y2RVx1NzUxRlx1NjIxMFx1ODlDNlx1OTg5MVx1NUJGOVx1OEJERFx1Njg0Nlx1NzY4NFx1NUJCRFx1NUVBNicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCc2MDBweCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RhbFdpZHRoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kYWxXaWR0aCA9IHZhbHVlIHx8ICc2MDBweCc7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdC8vIFx1NkEyMVx1NjAwMVx1Njg0Nlx1OUFEOFx1NUVBNlxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1x1NkEyMVx1NjAwMVx1Njg0Nlx1OUFEOFx1NUVBNicpXG5cdFx0XHQuc2V0RGVzYygnXHU4QkJFXHU3RjZFXHU3NTFGXHU2MjEwXHU4OUM2XHU5ODkxXHU1QkY5XHU4QkREXHU2ODQ2XHU3Njg0XHU5QUQ4XHU1RUE2Jylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ2F1dG8nKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kYWxIZWlnaHQpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RhbEhlaWdodCA9IHZhbHVlIHx8ICdhdXRvJztcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG5cblx0Ly8gXHU4M0I3XHU1M0Q2XHU2QkQ0XHU0RjhCXHU2M0NGXHU4RkYwXG5cdGdldEFzcGVjdFJhdGlvRGVzY3JpcHRpb24ocmF0aW86IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgZGVzY3JpcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuXHRcdFx0JzE2OjknOiAnKFx1NkEyQVx1NUM0RiknLFxuXHRcdFx0Jzk6MTYnOiAnKFx1N0FENlx1NUM0RiknLFxuXHRcdFx0JzE6MSc6ICcoXHU2QjYzXHU2NUI5XHU1RjYyKScsXG5cdFx0XHQnNDozJzogJyhcdTRGMjBcdTdFREYpJyxcblx0XHRcdCczOjQnOiAnKFx1N0FENlx1NUM0Rlx1NEYyMFx1N0VERiknXG5cdFx0fTtcblx0XHRyZXR1cm4gZGVzY3JpcHRpb25zW3JhdGlvXSB8fCAnJztcblx0fVxuXG5cdC8vIFx1ODNCN1x1NTNENlx1NUMzQVx1NUJGOFx1NjNDRlx1OEZGMFxuXHRnZXRTaXplRGVzY3JpcHRpb24oc2l6ZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBkZXNjcmlwdGlvbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG5cdFx0XHQnc21hbGwnOiAnXHU2ODA3XHU1MUM2Jyxcblx0XHRcdCdtZWRpdW0nOiAnXHU0RTJEXHU3QjQ5Jyxcblx0XHRcdCdsYXJnZSc6ICdcdTlBRDhcdTZFMDUnXG5cdFx0fTtcblx0XHRyZXR1cm4gZGVzY3JpcHRpb25zW3NpemVdIHx8IHNpemU7XG5cdH1cblxuXHQvLyBcdTZENEJcdThCRDVBUElcdTRFM0JcdTY3M0FcdThGREVcdTYzQTVcblx0YXN5bmMgdGVzdEFwaUhvc3QoaG9zdDogQXBpSG9zdENvbmZpZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5KSB7XG5cdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTUxNDhcdTkxNERcdTdGNkVBUElcdTVCQzZcdTk0QTUnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0bmV3IE5vdGljZShgXHU2QjYzXHU1NzI4XHU2RDRCXHU4QkQ1XHU4RkRFXHU2M0E1ICR7aG9zdC5uYW1lfS4uLmApO1xuXHRcdFx0XG5cdFx0XHRjb25zdCB0ZXN0VXJsID0gYCR7aG9zdC51cmx9L3YxL3ZpZGVvL3NvcmEtdmlkZW9gO1xuXHRcdFx0Y29uc3QgaGVhZGVycyA9IHtcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0XHRcdFx0J0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5fWBcblx0XHRcdH07XG5cblx0XHRcdC8vIFx1NTNEMVx1OTAwMVx1NkQ0Qlx1OEJENVx1OEJGN1x1NkM0MlxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0ZXN0VXJsLCB7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRoZWFkZXJzOiBoZWFkZXJzLFxuXHRcdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0bW9kZWw6ICdzb3JhLTInLFxuXHRcdFx0XHRcdHByb21wdDogJ3Rlc3QnLFxuXHRcdFx0XHRcdGFzcGVjdF9yYXRpbzogJzE2OjknLFxuXHRcdFx0XHRcdGR1cmF0aW9uOiA1LFxuXHRcdFx0XHRcdHNpemU6ICdzbWFsbCcsXG5cdFx0XHRcdFx0d2ViSG9vazogJy0xJ1xuXHRcdFx0XHR9KVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChyZXNwb25zZS5vaykge1xuXHRcdFx0XHRuZXcgTm90aWNlKGBcdTI3MDUgJHtob3N0Lm5hbWV9IFx1OEZERVx1NjNBNVx1NjIxMFx1NTI5Rlx1RkYwMWApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuXHRcdFx0XHRuZXcgTm90aWNlKGBcdTI3NEMgJHtob3N0Lm5hbWV9IFx1OEZERVx1NjNBNVx1NTkzMVx1OEQyNTogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdG5ldyBOb3RpY2UoYFx1Mjc0QyAke2hvc3QubmFtZX0gXHU4RkRFXHU2M0E1XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU2NjNFXHU3OTNBXHU2REZCXHU1MkEwXHU2NUIwXHU0RTNCXHU2NzNBXHU3Njg0XHU2QTIxXHU2MDAxXHU2ODQ2XG5cdHNob3dBZGRIb3N0TW9kYWwoKTogdm9pZCB7XG5cdFx0Y29uc3QgbW9kYWwgPSBuZXcgQWRkQXBpSG9zdE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgKG5ld0hvc3QpID0+IHtcblx0XHRcdC8vIFx1NkRGQlx1NTJBMFx1NjVCMFx1NEUzQlx1NjczQVx1NTIzMFx1OEJCRVx1N0Y2RVx1NEUyRFxuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpSG9zdHMucHVzaChuZXdIb3N0KTtcblx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1OEJCRVx1N0Y2RVx1OTg3NVx1OTc2MlxuXHRcdH0pO1xuXHRcdG1vZGFsLm9wZW4oKTtcblx0fVxuXG5cdC8vIFx1NjYzRVx1NzkzQVx1NkRGQlx1NTJBMFx1NkEyMVx1NTc4Qlx1NkEyMVx1NjAwMVx1Njg0NlxuXHRzaG93QWRkTW9kZWxNb2RhbCgpOiB2b2lkIHtcblx0XHRjb25zdCBtb2RhbCA9IG5ldyBBZGRNb2RlbE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgKG5ld01vZGVsKSA9PiB7XG5cdFx0XHQvLyBcdTZERkJcdTUyQTBcdTY1QjBcdTZBMjFcdTU3OEJcdTUyMzBcdThCQkVcdTdGNkVcdTRFMkRcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncy5wdXNoKG5ld01vZGVsKTtcblx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1OEJCRVx1N0Y2RVx1OTg3NVx1OTc2MlxuXHRcdH0pO1xuXHRcdG1vZGFsLm9wZW4oKTtcblx0fVxuXG5cdC8vIFx1NjYzRVx1NzkzQVx1N0YxNlx1OEY5MVx1NkEyMVx1NTc4Qlx1NkEyMVx1NjAwMVx1Njg0NlxuXHRzaG93RWRpdE1vZGVsTW9kYWwobW9kZWw6IE1vZGVsQ29uZmlnKTogdm9pZCB7XG5cdFx0Y29uc3QgbW9kYWwgPSBuZXcgRWRpdE1vZGVsTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBtb2RlbCwgKHVwZGF0ZWRNb2RlbCkgPT4ge1xuXHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU2QTIxXHU1NzhCXHU5MTREXHU3RjZFXG5cdFx0XHRjb25zdCBpbmRleCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncy5maW5kSW5kZXgobSA9PiBtLmlkID09PSBtb2RlbC5pZCk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlnc1tpbmRleF0gPSB1cGRhdGVkTW9kZWw7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU4QkJFXHU3RjZFXHU5ODc1XHU5NzYyXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kYWwub3BlbigpO1xuXHR9XG59XG5cbi8vIFx1NkRGQlx1NTJBMEFQSVx1NEUzQlx1NjczQVx1NkEyMVx1NjAwMVx1Njg0NlxuY2xhc3MgQWRkQXBpSG9zdE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwbHVnaW46IFZpZGVvR2VuZXJhdG9yUGx1Z2luO1xuXHRvblN1Ym1pdDogKGhvc3Q6IEFwaUhvc3RDb25maWcpID0+IHZvaWQ7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVmlkZW9HZW5lcmF0b3JQbHVnaW4sIG9uU3VibWl0OiAoaG9zdDogQXBpSG9zdENvbmZpZykgPT4gdm9pZCkge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdFx0dGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1x1NkRGQlx1NTJBMFx1NjVCMEFQSVx1NEUzQlx1NjczQScgfSk7XG5cblx0XHQvLyBcdTRFM0JcdTY3M0FcdTU0MERcdTc5RjBcblx0XHRjb25zdCBuYW1lRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdG5hbWVEaXYuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnXHU0RTNCXHU2NzNBXHU1NDBEXHU3OUYwJyB9KTtcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBuYW1lRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCBwbGFjZWhvbGRlcjogJ1x1NEY4Qlx1NTk4Mlx1RkYxQVx1NTkwN1x1NzUyOFx1NjcwRFx1NTJBMVx1NTY2OCcgfSk7XG5cdFx0bmFtZUlucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdG5hbWVJbnB1dC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCc7XG5cblx0XHQvLyBcdTRFM0JcdTY3M0FVUkxcblx0XHRjb25zdCB1cmxEaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0dXJsRGl2LmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1NEUzQlx1NjczQVVSTCcgfSk7XG5cdFx0Y29uc3QgdXJsSW5wdXQgPSB1cmxEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20nIH0pO1xuXHRcdHVybElucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdHVybElucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxMHB4JztcblxuXHRcdC8vIFx1NjNDRlx1OEZGMFxuXHRcdGNvbnN0IGRlc2NEaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0ZGVzY0Rpdi5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdcdTYzQ0ZcdThGRjBcdUZGMDhcdTUzRUZcdTkwMDlcdUZGMDknIH0pO1xuXHRcdGNvbnN0IGRlc2NJbnB1dCA9IGRlc2NEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnXHU0RjhCXHU1OTgyXHVGRjFBXHU1OTA3XHU3NTI4XHU2NzBEXHU1MkExXHU1NjY4XHVGRjBDXHU3QTMzXHU1QjlBXHU2MDI3XHU1OTdEJyB9KTtcblx0XHRkZXNjSW5wdXQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0ZGVzY0lucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4JztcblxuXHRcdC8vIFx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IGJ1dHRvbkRpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRidXR0b25EaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRidXR0b25EaXYuc3R5bGUuZ2FwID0gJzEwcHgnO1xuXHRcdGJ1dHRvbkRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdmbGV4LWVuZCc7XG5cblx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NTNENlx1NkQ4OCcgfSk7XG5cdFx0Y2FuY2VsQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG5cblx0XHRjb25zdCBhZGRCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NkRGQlx1NTJBMCcgfSk7XG5cdFx0YWRkQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblx0XHRhZGRCdXR0b24uc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1vbi1hY2NlbnQpJztcblx0XHRhZGRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdGNvbnN0IG5hbWUgPSBuYW1lSW5wdXQudmFsdWUudHJpbSgpO1xuXHRcdFx0Y29uc3QgdXJsID0gdXJsSW5wdXQudmFsdWUudHJpbSgpO1xuXHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBkZXNjSW5wdXQudmFsdWUudHJpbSgpO1xuXG5cdFx0XHRpZiAoIW5hbWUgfHwgIXVybCkge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTU4NkJcdTUxOTlcdTRFM0JcdTY3M0FcdTU0MERcdTc5RjBcdTU0OENVUkwnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBcdTlBOENcdThCQzFVUkxcdTY4M0NcdTVGMEZcblx0XHRcdHRyeSB7XG5cdFx0XHRcdG5ldyBVUkwodXJsKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdThGOTNcdTUxNjVcdTY3MDlcdTY1NDhcdTc2ODRVUkxcdTY4M0NcdTVGMEYnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVERjJcdTVCNThcdTU3MjhcdTc2RjhcdTU0MENcdTc2ODRcdTRFM0JcdTY3M0Fcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlIb3N0cy5zb21lKGhvc3QgPT4gaG9zdC51cmwgPT09IHVybCkpIHtcblx0XHRcdFx0bmV3IE5vdGljZSgnXHU4QkU1VVJMXHU1REYyXHU1QjU4XHU1NzI4Jyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NUIwXHU0RTNCXHU2NzNBXHU5MTREXHU3RjZFXG5cdFx0XHRjb25zdCBuZXdIb3N0OiBBcGlIb3N0Q29uZmlnID0ge1xuXHRcdFx0XHRpZDogYGN1c3RvbV8ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB8fCB1bmRlZmluZWRcblx0XHRcdH07XG5cblx0XHRcdHRoaXMub25TdWJtaXQobmV3SG9zdCk7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRuZXcgTm90aWNlKGBcdTVERjJcdTZERkJcdTUyQTBcdTRFM0JcdTY3M0EgXCIke25hbWV9XCJgKTtcblx0XHR9O1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuXG4vLyBcdTZERkJcdTUyQTBBSVx1NkEyMVx1NTc4Qlx1NkEyMVx1NjAwMVx1Njg0NlxuY2xhc3MgQWRkTW9kZWxNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cGx1Z2luOiBWaWRlb0dlbmVyYXRvclBsdWdpbjtcblx0b25TdWJtaXQ6IChtb2RlbDogTW9kZWxDb25maWcpID0+IHZvaWQ7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVmlkZW9HZW5lcmF0b3JQbHVnaW4sIG9uU3VibWl0OiAobW9kZWw6IE1vZGVsQ29uZmlnKSA9PiB2b2lkKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0XHR0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnXHU2REZCXHU1MkEwXHU2NUIwQUlcdTZBMjFcdTU3OEInIH0pO1xuXG5cdFx0Ly8gXHU2QTIxXHU1NzhCXHU1NDBEXHU3OUYwXG5cdFx0Y29uc3QgbmFtZURpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRuYW1lRGl2LmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1NkEyMVx1NTc4Qlx1NTQwRFx1NzlGMCcgfSk7XG5cdFx0Y29uc3QgbmFtZUlucHV0ID0gbmFtZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6ICdcdTRGOEJcdTU5ODJcdUZGMUFHUFQtNCBWaWRlbycgfSk7XG5cdFx0bmFtZUlucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdG5hbWVJbnB1dC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCc7XG5cblx0XHQvLyBcdTZBMjFcdTU3OEJcdTUwM0Ncblx0XHRjb25zdCB2YWx1ZURpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHR2YWx1ZURpdi5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdcdTZBMjFcdTU3OEJcdTUwM0NcdUZGMDhBUElcdTUzQzJcdTY1NzBcdUZGMDknIH0pO1xuXHRcdGNvbnN0IHZhbHVlSW5wdXQgPSB2YWx1ZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6ICdcdTRGOEJcdTU5ODJcdUZGMUFncHQtNC12aWRlbycgfSk7XG5cdFx0dmFsdWVJbnB1dC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHR2YWx1ZUlucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxMHB4JztcblxuXHRcdC8vIFx1NjNDRlx1OEZGMFxuXHRcdGNvbnN0IGRlc2NEaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0ZGVzY0Rpdi5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdcdTYzQ0ZcdThGRjBcdUZGMDhcdTUzRUZcdTkwMDlcdUZGMDknIH0pO1xuXHRcdGNvbnN0IGRlc2NJbnB1dCA9IGRlc2NEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnXHU0RjhCXHU1OTgyXHVGRjFBT3BlbkFJXHU2NzAwXHU2NUIwXHU4OUM2XHU5ODkxXHU3NTFGXHU2MjEwXHU2QTIxXHU1NzhCJyB9KTtcblx0XHRkZXNjSW5wdXQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0ZGVzY0lucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4JztcblxuXHRcdC8vIFx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IGJ1dHRvbkRpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRidXR0b25EaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRidXR0b25EaXYuc3R5bGUuZ2FwID0gJzEwcHgnO1xuXHRcdGJ1dHRvbkRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdmbGV4LWVuZCc7XG5cblx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NTNENlx1NkQ4OCcgfSk7XG5cdFx0Y2FuY2VsQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG5cblx0XHRjb25zdCBhZGRCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NkRGQlx1NTJBMCcgfSk7XG5cdFx0YWRkQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblx0XHRhZGRCdXR0b24uc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1vbi1hY2NlbnQpJztcblx0XHRhZGRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdGNvbnN0IG5hbWUgPSBuYW1lSW5wdXQudmFsdWUudHJpbSgpO1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB2YWx1ZUlucHV0LnZhbHVlLnRyaW0oKTtcblx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gZGVzY0lucHV0LnZhbHVlLnRyaW0oKTtcblxuXHRcdFx0aWYgKCFuYW1lIHx8ICF2YWx1ZSkge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTU4NkJcdTUxOTlcdTZBMjFcdTU3OEJcdTU0MERcdTc5RjBcdTU0OENcdTUwM0MnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVERjJcdTVCNThcdTU3MjhcdTc2RjhcdTU0MENcdTc2ODRcdTZBMjFcdTU3OEJcdTUwM0Ncblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbENvbmZpZ3Muc29tZShtb2RlbCA9PiBtb2RlbC52YWx1ZSA9PT0gdmFsdWUpKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1x1OEJFNVx1NkEyMVx1NTc4Qlx1NTAzQ1x1NURGMlx1NUI1OFx1NTcyOCcpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NkEyMVx1NTc4Qlx1OTE0RFx1N0Y2RVxuXHRcdFx0Y29uc3QgbmV3TW9kZWw6IE1vZGVsQ29uZmlnID0ge1xuXHRcdFx0XHRpZDogYGN1c3RvbV8ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfHwgdW5kZWZpbmVkLFxuXHRcdFx0XHRpc0N1c3RvbTogdHJ1ZVxuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5vblN1Ym1pdChuZXdNb2RlbCk7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRuZXcgTm90aWNlKGBcdTVERjJcdTZERkJcdTUyQTBcdTZBMjFcdTU3OEIgXCIke25hbWV9XCJgKTtcblx0XHR9O1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuXG4vLyBcdTdGMTZcdThGOTFBSVx1NkEyMVx1NTc4Qlx1NkEyMVx1NjAwMVx1Njg0NlxuY2xhc3MgRWRpdE1vZGVsTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdHBsdWdpbjogVmlkZW9HZW5lcmF0b3JQbHVnaW47XG5cdG1vZGVsOiBNb2RlbENvbmZpZztcblx0b25TdWJtaXQ6IChtb2RlbDogTW9kZWxDb25maWcpID0+IHZvaWQ7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVmlkZW9HZW5lcmF0b3JQbHVnaW4sIG1vZGVsOiBNb2RlbENvbmZpZywgb25TdWJtaXQ6IChtb2RlbDogTW9kZWxDb25maWcpID0+IHZvaWQpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHRcdHRoaXMubW9kZWwgPSBtb2RlbDtcblx0XHR0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnXHU3RjE2XHU4RjkxQUlcdTZBMjFcdTU3OEInIH0pO1xuXG5cdFx0Ly8gXHU2QTIxXHU1NzhCXHU1NDBEXHU3OUYwXG5cdFx0Y29uc3QgbmFtZURpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRuYW1lRGl2LmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1NkEyMVx1NTc4Qlx1NTQwRFx1NzlGMCcgfSk7XG5cdFx0Y29uc3QgbmFtZUlucHV0ID0gbmFtZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMubW9kZWwubmFtZSB9KTtcblx0XHRuYW1lSW5wdXQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0bmFtZUlucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxMHB4JztcblxuXHRcdC8vIFx1NkEyMVx1NTc4Qlx1NTAzQ1xuXHRcdGNvbnN0IHZhbHVlRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdHZhbHVlRGl2LmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1NkEyMVx1NTc4Qlx1NTAzQ1x1RkYwOEFQSVx1NTNDMlx1NjU3MFx1RkYwOScgfSk7XG5cdFx0Y29uc3QgdmFsdWVJbnB1dCA9IHZhbHVlRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5tb2RlbC52YWx1ZSB9KTtcblx0XHR2YWx1ZUlucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdHZhbHVlSW5wdXQuc3R5bGUubWFyZ2luQm90dG9tID0gJzEwcHgnO1xuXG5cdFx0Ly8gXHU2M0NGXHU4RkYwXG5cdFx0Y29uc3QgZGVzY0RpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRkZXNjRGl2LmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1NjNDRlx1OEZGMFx1RkYwOFx1NTNFRlx1OTAwOVx1RkYwOScgfSk7XG5cdFx0Y29uc3QgZGVzY0lucHV0ID0gZGVzY0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMubW9kZWwuZGVzY3JpcHRpb24gfHwgJycgfSk7XG5cdFx0ZGVzY0lucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdGRlc2NJbnB1dC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMjBweCc7XG5cblx0XHQvLyBcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBidXR0b25EaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0YnV0dG9uRGl2LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0YnV0dG9uRGl2LnN0eWxlLmdhcCA9ICcxMHB4Jztcblx0XHRidXR0b25EaXYuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnZmxleC1lbmQnO1xuXG5cdFx0Y29uc3QgY2FuY2VsQnV0dG9uID0gYnV0dG9uRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTUzRDZcdTZEODgnIH0pO1xuXHRcdGNhbmNlbEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuXG5cdFx0Y29uc3Qgc2F2ZUJ1dHRvbiA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHU0RkREXHU1QjU4JyB9KTtcblx0XHRzYXZlQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblx0XHRzYXZlQnV0dG9uLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtb24tYWNjZW50KSc7XG5cdFx0c2F2ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgbmFtZSA9IG5hbWVJbnB1dC52YWx1ZS50cmltKCk7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IHZhbHVlSW5wdXQudmFsdWUudHJpbSgpO1xuXHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBkZXNjSW5wdXQudmFsdWUudHJpbSgpO1xuXG5cdFx0XHRpZiAoIW5hbWUgfHwgIXZhbHVlKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1x1OEJGN1x1NTg2Qlx1NTE5OVx1NkEyMVx1NTc4Qlx1NTQwRFx1NzlGMFx1NTQ4Q1x1NTAzQycpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NURGMlx1NUI1OFx1NTcyOFx1NzZGOFx1NTQwQ1x1NzY4NFx1NkEyMVx1NTc4Qlx1NTAzQ1x1RkYwOFx1NjM5Mlx1OTY2NFx1NUY1M1x1NTI0RFx1NkEyMVx1NTc4Qlx1RkYwOVxuXHRcdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsQ29uZmlncy5zb21lKG1vZGVsID0+IG1vZGVsLnZhbHVlID09PSB2YWx1ZSAmJiBtb2RlbC5pZCAhPT0gdGhpcy5tb2RlbC5pZCkpIHtcblx0XHRcdFx0bmV3IE5vdGljZSgnXHU4QkU1XHU2QTIxXHU1NzhCXHU1MDNDXHU1REYyXHU1QjU4XHU1NzI4Jyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0XG5cdFx0XHQvLyBcdTY2RjRcdTY1QjBcdTZBMjFcdTU3OEJcdTkxNERcdTdGNkVcblx0XHRcdGNvbnN0IHVwZGF0ZWRNb2RlbDogTW9kZWxDb25maWcgPSB7XG5cdFx0XHRcdC4uLnRoaXMubW9kZWwsXG5cdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIHx8IHVuZGVmaW5lZFxuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5vblN1Ym1pdCh1cGRhdGVkTW9kZWwpO1xuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0bmV3IE5vdGljZShgXHU1REYyXHU2NkY0XHU2NUIwXHU2QTIxXHU1NzhCIFwiJHtuYW1lfVwiYCk7XG5cdFx0fTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQTRIO0FBMEQ1SCxJQUFNLG1CQUEyQztBQUFBO0FBQUEsRUFFaEQsUUFBUTtBQUFBLEVBQ1IsU0FBUztBQUFBLEVBQ1QsVUFBVTtBQUFBLElBQ1Q7QUFBQSxNQUNDLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLEtBQUs7QUFBQSxNQUNMLFNBQVM7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
